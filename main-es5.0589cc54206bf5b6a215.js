var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},MUT7:function(t,e,n){"use strict";(function(t){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=function(){function t(){r(this,t)}return s(t,[{key:"shadeRGBColor",value:function(t,e){var n=e.split(","),i=t<0?0:255,r=t<0?-1*t:t,o=parseInt(n[0].slice(4)),s=parseInt(n[1]),a=parseInt(n[2]);return"rgb("+(Math.round((i-o)*r)+o)+","+(Math.round((i-s)*r)+s)+","+(Math.round((i-a)*r)+a)+")"}},{key:"shadeHexColor",value:function(t,e){var n=parseInt(e.slice(1),16),i=t<0?0:255,r=t<0?-1*t:t,o=n>>16,s=n>>8&255,a=255&n;return"#"+(16777216+65536*(Math.round((i-o)*r)+o)+256*(Math.round((i-s)*r)+s)+(Math.round((i-a)*r)+a)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,e){return e.length>7?this.shadeRGBColor(t,e):this.shadeHexColor(t,e)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===i(t)&&!Array.isArray(t)&&null!=t}},{key:"listToArray",value:function(t){var e,n=[];for(e=0;e<t.length;e++)n[e]=t[e];return n}},{key:"extend",value:function(t,e){var n=this;"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e});var i=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach((function(r){n.isObject(e[r])&&r in t?i[r]=n.extend(t[r],e[r]):Object.assign(i,a({},r,e[r]))})),i}},{key:"extendArray",value:function(e,n){var i=[];return e.map((function(e){i.push(t.extend(n,e))})),i}},{key:"monthMod",value:function(t){return t%12}},{key:"addProps",value:function(t,e,n){"string"==typeof e&&(e=e.split(".")),t[e[0]]=t[e[0]]||{};var i=t[e[0]];return e.length>1?(e.shift(),this.addProps(i,e,n)):t[e[0]]=n,t}},{key:"clone",value:function(t){if("[object Array]"===Object.prototype.toString.call(t)){for(var e=[],n=0;n<t.length;n++)e[n]=this.clone(t[n]);return e}if("object"===i(t)){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=this.clone(t[o]));return r}return t}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1==e.length)return e[0];var n="",i=t<0?"-":"",r=e[0].replace(".",""),o=Number(e[1])+1;if(o<0){for(n=i+"0.";o++;)n+="0";return n+r.replace(/^\-/,"")}for(o-=r.length;o--;)n+="0";return r+n}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t),n=[],i=t.clientHeight,r=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),r-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),n.push(r),n.push(i),n}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==t.substring(0,1)&&(t="#999999");var n=t.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var i=0;i<n.length;i++)n[i]=parseInt(1===n[i].length?n[i]+n[i]:n[i],16);return void 0!==e&&n.push(e),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))[3]}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}},{key:"polarToCartesian",value:function(t,e,n,i){var r=(i-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=t.toString().slice();return n.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,n){if(n>=t.length)for(var i=n-t.length+1;i--;)t.push(void 0);return t.splice(n,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d\.]*/g,""))}},{key:"randomString",value:function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.style.key=e[n])}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}}]),t}(),g=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getDefaultFilter",value:function(t,e){var n=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==n.config.states.normal.filter?this.applyFilter(t,e,n.config.states.normal.filter.type,n.config.states.normal.filter.value):n.config.chart.dropShadow.enabled&&this.dropShadow(t,n.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var n=this.w;n.config.chart.dropShadow.enabled&&this.dropShadow(t,n.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,e,n){var i=this,r=this.w,o=n.intensity;if(!p.isFirefox()){t.unfilter(!0);var s=new window.SVG.Filter;s.size("120%","180%","-5%","-40%"),t.filter((function(t){var n=r.config.chart.dropShadow;(s=n.enabled?i.addShadow(t,e,n):t).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse")}}},{key:"addDarkenFilter",value:function(t,e,n){var i=this,r=this.w,o=n.intensity;if(!p.isFirefox()){t.unfilter(!0);var s=new window.SVG.Filter;s.size("120%","180%","-5%","-40%"),t.filter((function(t){var n=r.config.chart.dropShadow;(s=n.enabled?i.addShadow(t,e,n):t).componentTransfer({rgb:{type:"linear",slope:o}})})),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse")}}},{key:"applyFilter",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(n){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:i});break;case"darken":this.addDarkenFilter(t,e,{intensity:i})}}},{key:"addShadow",value:function(t,e,n){var i=n.blur,r=n.top,o=n.left,s=n.color,a=n.opacity,l=t.flood(Array.isArray(s)?s[e]:s,a).composite(t.sourceAlpha,"in").offset(o,r).gaussianBlur(i).merge(t.source);return t.blend(t.source,l)}},{key:"dropShadow",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.top,r=e.left,o=e.blur,s=e.color,a=e.opacity,l=e.noUserSpaceOnUse,c=this.w;if(t.unfilter(!0),p.isIE()&&"radialBar"===c.config.chart.type)return t;s=Array.isArray(s)?s[n]:s;var h=new window.SVG.Filter;return h.size("120%","180%","-5%","-40%"),t.filter((function(t){var e;e=p.isSafari()||p.isFirefox()||p.isIE()?t.flood(s,a).composite(t.sourceAlpha,"in").offset(r,i).gaussianBlur(o):t.flood(s,a).composite(t.sourceAlpha,"in").offset(r,i).gaussianBlur(o).merge(t.source),t.blend(t.source,e)})),l||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),t}},{key:"setSelectionFilter",value:function(t,e,n){var i=this.w;if(void 0!==i.globals.selectedDataPoints[e]&&i.globals.selectedDataPoints[e].indexOf(n)>-1){t.node.setAttribute("selected",!0);var r=i.config.states.active.filter;"none"!==r&&this.applyFilter(t,e,r.type,r.value)}}}]),t}(),m=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return s(t,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":t="<>";break;case"swing":t=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1};break;case"bounce":t=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":t=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1};break;default:t="<>"}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,n,i){t.attr(e).animate(i).attr(n)}},{key:"animateCircleRadius",value:function(t,e,n,i,r){e||(e=0),t.attr({r:e}).animate(i,r).attr({r:n})}},{key:"animateCircle",value:function(t,e,n,i,r){t.attr({r:e.r,cx:e.cx,cy:e.cy}).animate(i,r).attr({r:n.r,cx:n.cx,cy:n.cy})}},{key:"animateRect",value:function(t,e,n,i,r){t.attr(e).animate(i).attr(n).afterAll((function(){r()}))}},{key:"animatePathsGradually",value:function(t){var e=this.w,n=0;e.config.chart.animations.animateGradually.enabled&&(n=e.config.chart.animations.animateGradually.delay),e.config.chart.animations.dynamicAnimation.enabled&&e.globals.dataChanged&&(n=0),this.morphSVG(t.el,t.j,t.pathFrom,t.pathTo,t.speed,t.delay*n)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(t){t.el.classList.remove("hidden")}))}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded=!0,"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e})}},{key:"morphSVG",value:function(t,e,n,i,r,o){var s=this,a=this.w;n||(n=t.attr("pathFrom")),i||(i=t.attr("pathTo")),(!n||n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(a.globals.gridHeight),r=1),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(a.globals.gridHeight),r=1),a.globals.shouldAnimate||(r=1),t.plot(n).animate(1,a.globals.easing,o).plot(n).animate(r,a.globals.easing,o).plot(i).afterAll((function(){p.isNumber(e)?e===a.globals.series[a.globals.maxValsInArrayIndex].length-2&&a.globals.shouldAnimate&&s.animationCompleted(t):a.globals.shouldAnimate&&s.animationCompleted(t),s.showDelayedElements()}))}}]),t}(),v=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"drawLine",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=this.w,l=a.globals.dom.Paper.line().attr({x1:t,y1:e,x2:n,y2:i,stroke:r,"stroke-dasharray":o,"stroke-width":s});return l}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,h=this.w,u=h.globals.dom.Paper.rect();return u.attr({x:t,y:e,width:n>0?n:0,height:i>0?i:0,rx:r,ry:r,fill:o,opacity:s,"stroke-width":null!==a?a:0,stroke:null!==l?l:"none","stroke-dasharray":c}),u}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",i=this.w,r=i.globals.dom.Paper.polygon(t).attr({fill:n,stroke:e});return r}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w,i=n.globals.dom.Paper.circle(2*t);return null!==e&&i.attr(e),i}},{key:"drawPath",value:function(t){var e=t.d,n=void 0===e?"":e,i=t.stroke,r=void 0===i?"#a8a8a8":i,o=t.strokeWidth,s=void 0===o?1:o,a=t.fill,l=t.fillOpacity,c=void 0===l?1:l,h=t.strokeOpacity,u=void 0===h?1:h,d=t.classes,f=t.strokeLinecap,p=void 0===f?null:f,g=t.strokeDashArray,m=void 0===g?0:g,v=this.w;return null===p&&(p=v.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(n).attr({fill:a,"fill-opacity":c,stroke:r,"stroke-opacity":u,"stroke-linecap":p,"stroke-width":s,"stroke-dasharray":m,class:d})}},{key:"group",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,n=e.globals.dom.Paper.group();return null!==t&&n.attr(t),n}},{key:"move",value:function(t,e){return["M",t,e].join(" ")}},{key:"line",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;return null===n?i=["L",t,e].join(" "):"H"===n?i=["H",t].join(" "):"V"===n&&(i=["V",e].join(" ")),i}},{key:"curve",value:function(t,e,n,i,r,o){return["C",t,e,n,i,r,o].join(" ")}},{key:"quadraticCurve",value:function(t,e,n,i){return["Q",t,e,n,i].join(" ")}},{key:"arc",value:function(t,e,n,i,r,o,s){var a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l="A";a&&(l="a");var c=[l,t,e,n,i,r,o,s].join(" ");return c}},{key:"renderPaths",value:function(t){var e,n=t.j,i=t.realIndex,r=t.pathFrom,o=t.pathTo,s=t.stroke,a=t.strokeWidth,l=t.strokeLinecap,h=t.fill,u=t.animationDelay,d=t.initialSpeed,f=t.dataChangeSpeed,p=t.className,v=t.shouldClipToGrid,y=void 0===v||v,b=t.bindEventsOnPaths,x=void 0===b||b,w=t.drawShadow,S=void 0===w||w,k=this.w,C=new g(this.ctx),A=new m(this.ctx),_=this.w.config.chart.animations.enabled,E=_&&this.w.config.chart.animations.dynamicAnimation.enabled,T=!!(_&&!k.globals.resized||E&&k.globals.dataChanged&&k.globals.shouldAnimate);T?e=r:(e=o,k.globals.animationEnded=!0);var P,I=k.config.stroke.dashArray;P=Array.isArray(I)?I[i]:k.config.stroke.dashArray;var M=this.drawPath({d:e,stroke:s,strokeWidth:a,fill:h,fillOpacity:1,classes:p,strokeLinecap:l,strokeDashArray:P});M.attr("index",i),y&&M.attr({"clip-path":"url(#gridRectMask".concat(k.globals.cuid,")")}),"none"!==k.config.states.normal.filter.type?C.getDefaultFilter(M,i):k.config.chart.dropShadow.enabled&&S&&(!k.config.chart.dropShadow.enabledSeries||k.config.chart.dropShadow.enabledSeries&&-1!==k.config.chart.dropShadow.enabledSeries.indexOf(i))&&C.dropShadow(M,k.config.chart.dropShadow,i),x&&(M.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,M)),M.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,M)),M.node.addEventListener("mousedown",this.pathMouseDown.bind(this,M))),M.attr({pathTo:o,pathFrom:r});var L={el:M,j:n,pathFrom:r,pathTo:o,strokeWidth:a};return!_||k.globals.resized||k.globals.dataChanged?!k.globals.resized&&k.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually(c({},L,{speed:d,delay:u})),k.globals.dataChanged&&E&&T&&A.animatePathsGradually(c({},L,{speed:f})),M}},{key:"drawPattern",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this.w,s=o.globals.dom.Paper.pattern(e,n,(function(o){"horizontalLines"===t?o.line(0,0,n,0).stroke({color:i,width:r+1}):"verticalLines"===t?o.line(0,0,0,e).stroke({color:i,width:r+1}):"slantedLines"===t?o.line(0,0,e,n).stroke({color:i,width:r}):"squares"===t?o.rect(e,n).fill("none").stroke({color:i,width:r}):"circles"===t&&o.circle(e).fill("none").stroke({color:i,width:r})}));return s}},{key:"drawGradient",value:function(t,e,n,i,r){var o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,h=this.w;e=p.hexToRgba(e,i),n=p.hexToRgba(n,r);var u=0,d=1,f=1,g=null;null!==a&&(u=void 0!==a[0]?a[0]/100:0,d=void 0!==a[1]?a[1]/100:1,f=void 0!==a[2]?a[2]/100:1,g=void 0!==a[3]?a[3]/100:null);var m=!("donut"!==h.config.chart.type&&"pie"!==h.config.chart.type&&"bubble"!==h.config.chart.type);if(o=h.globals.dom.Paper.gradient(m?"radial":"linear",null===l||0===l.length?function(t){t.at(u,e,i),t.at(d,n,r),t.at(f,n,r),null!==g&&t.at(g,e,i)}:function(t){(Array.isArray(l[c])?l[c]:l).forEach((function(e){t.at(e.offset/100,e.color,e.opacity)}))}),m){var v=h.globals.gridWidth/2,y=h.globals.gridHeight/2;o.attr("bubble"!==h.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:v,cy:y,r:s}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===t?o.from(0,0).to(0,1):"diagonal"===t?o.from(0,0).to(1,1):"horizontal"===t?o.from(0,1).to(1,1):"diagonal2"===t&&o.from(0,1).to(2,2);return o}},{key:"drawText",value:function(t){var e,n=this.w,i=t.x,r=t.y,o=t.text,s=t.textAnchor,a=t.fontSize,l=t.fontFamily,c=t.fontWeight,h=t.foreColor,u=t.opacity;return void 0===o&&(o=""),s||(s="start"),h||(h=n.config.chart.foreColor),l=l||n.config.chart.fontFamily,c=c||"regular",(e=Array.isArray(o)?n.globals.dom.Paper.text((function(t){for(var e=0;e<o.length;e++)t.tspan(o[e])})):n.globals.dom.Paper.plain(o)).attr({x:i,y:r,"text-anchor":s,"dominant-baseline":"auto","font-size":a,"font-family":l,"font-weight":c,fill:h,class:t.cssClass}),e.node.style.fontFamily=l,e.node.style.opacity=u,e}},{key:"addTspan",value:function(t,e,n){var i=t.tspan(e);n||(n=this.w.config.chart.fontFamily),i.node.style.fontFamily=n}},{key:"drawMarker",value:function(t,e,n){t=t||0;var i=n.pSize||0,r=null;if("square"===n.shape){var o=void 0===n.pRadius?i/2:n.pRadius;null===e&&(i=0,o=0);var s=1.2*i+o,a=this.drawRect(s,s,s,s,o);a.attr({x:t-s/2,y:e-s/2,cx:t,cy:e,class:n.class?n.class:"",fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,stroke:n.pointStrokeColor,"stroke-width":n.pWidth?n.pWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}),r=a}else"circle"!==n.shape&&n.shape||(p.isNumber(e)||(i=0,e=0),r=this.drawCircle(i,{cx:t,cy:e,class:n.class?n.class:"",stroke:n.pointStrokeColor,fill:n.pointFillColor,"fill-opacity":n.pointFillOpacity?n.pointFillOpacity:1,"stroke-width":n.pWidth?n.pWidth:0,"stroke-opacity":n.pointStrokeOpacity?n.pointStrokeOpacity:1}));return r}},{key:"pathMouseEnter",value:function(t,e){var n=this.w,i=new g(this.ctx),r=parseInt(t.node.getAttribute("index")),o=parseInt(t.node.getAttribute("j"));if("function"==typeof n.config.chart.events.dataPointMouseEnter&&n.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:r,dataPointIndex:o,w:n}),this.ctx.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:r,dataPointIndex:o,w:n}]),("none"===n.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==n.config.states.hover.filter.type&&"none"!==n.config.states.active.filter.type&&!n.globals.isTouchDevice){var s=n.config.states.hover.filter;i.applyFilter(t,r,s.type,s.value)}}},{key:"pathMouseLeave",value:function(t,e){var n=this.w,i=new g(this.ctx),r=parseInt(t.node.getAttribute("index")),o=parseInt(t.node.getAttribute("j"));"function"==typeof n.config.chart.events.dataPointMouseLeave&&n.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:r,dataPointIndex:o,w:n}),this.ctx.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:r,dataPointIndex:o,w:n}]),"none"!==n.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==n.config.states.hover.filter.type&&i.getDefaultFilter(t,r)}},{key:"pathMouseDown",value:function(t,e){var n=this.w,i=new g(this.ctx),r=parseInt(t.node.getAttribute("index")),o=parseInt(t.node.getAttribute("j")),s="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),n.globals.selectedDataPoints[r].indexOf(o)>-1){var a=n.globals.selectedDataPoints[r].indexOf(o);n.globals.selectedDataPoints[r].splice(a,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var l=n.globals.dom.Paper.select(".mscharts-series path").members,c=n.globals.dom.Paper.select(".mscharts-series circle, .mscharts-series rect").members;l.forEach((function(t){t.node.setAttribute("selected","false"),i.getDefaultFilter(t,r)})),c.forEach((function(t){t.node.setAttribute("selected","false"),i.getDefaultFilter(t,r)}))}t.node.setAttribute("selected","true"),s="true",void 0===n.globals.selectedDataPoints[r]&&(n.globals.selectedDataPoints[r]=[]),n.globals.selectedDataPoints[r].push(o)}if("true"===s){var h=n.config.states.active.filter;"none"!==h&&i.applyFilter(t,r,h.type,h.value)}else"none"!==n.config.states.active.filter.type&&i.getDefaultFilter(t,r);"function"==typeof n.config.chart.events.dataPointSelection&&n.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:o,w:n}),e&&this.ctx.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:o,w:n}])}},{key:"rotateAroundCenter",value:function(t){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w,s=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:n,foreColor:"#fff",opacity:0});i&&s.attr("transform",i),o.globals.dom.Paper.add(s);var a=s.bbox();return r||(a=s.node.getBoundingClientRect()),s.remove(),{width:a.width,height:a.height}}},{key:"placeTextWithEllipsis",value:function(t,e,n){if(t.textContent=e,e.length>0&&t.getComputedTextLength()>=n){for(var i=e.length-3;i>0;i-=3)if(t.getSubStringLength(0,i)<=n)return void(t.textContent=e.substring(0,i)+"...");t.textContent="..."}}}],[{key:"setAttrs",value:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])}}]),t}(),y={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},b=function(){function t(){r(this,t),this.yAxis={show:!0,showAlways:!1,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#78909C",offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#78909C",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.xAxisAnnotation={x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.yAxisAnnotation={y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",opacity:.3,offsetX:0,offsetY:0,yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,cssClass:"",padding:{left:5,right:5,top:0,bottom:2}}}},this.pointAnnotation={x:0,y:null,yAxisIndex:0,seriesIndex:0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,text:void 0,textAnchor:"middle",offsetX:0,offsetY:-15,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,cssClass:"",padding:{left:5,right:5,top:0,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0}}}return s(t,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[y],defaultLocale:"en",dropShadow:{enabled:!1,enabledSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,zoomed:void 0,scrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,endingShape:"flat",colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1},dataLabels:{maxItems:100,hideOverflowingLabels:!0,position:"top"}},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!0,distributed:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{size:void 0,inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,color:void 0,offsetY:0},value:{show:!0,fontSize:"14px",fontFamily:void 0,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)/t.globals.series.length+"%"}}}},rangeBar:{},pie:{size:void 0,customScale:1,offsetX:0,offsetY:0,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,color:void 0,offsetY:-10},value:{show:!0,fontSize:"20px",fontFamily:void 0,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce((function(t,e){return t+e}),0)}}}}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,colors:void 0},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"sqaures",width:6,height:6,strokeWidth:2}},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1,animate:!1}},yaxis:{lines:{show:!0,animate:!1}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:0,labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:0,vertical:5},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,fillOpacity:1,shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.15}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.65}}},title:{text:void 0,align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:10,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],offsetX:0,offsetY:0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!0,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss"}},axisBorder:{show:!0,color:"#78909C",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#78909C",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),x=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.graphics=new v(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return s(t,[{key:"drawAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts){for(var e=this.drawYAxisAnnotations(),n=this.drawXAxisAnnotations(),i=this.drawPointAnnotations(),r=t.config.chart.animations.enabled,o=[e,n,i],s=[n.node,e.node,i.node],a=0;a<3;a++)t.globals.dom.elGraphical.add(o[a]),!r||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&s[a].classList.add("hidden"),t.globals.delayedElements.push({el:s[a],index:0});this.annotationsBackground()}}},{key:"getStringX",value:function(t){var e=this.w,n=t,i=e.globals.labels.indexOf(t),r=e.globals.dom.baseEl.querySelector(".mscharts-xaxis-texts-g text:nth-child("+(i+1)+")");return r&&(n=parseFloat(r.getAttribute("x"))),n}},{key:"addXaxisAnnotation",value:function(t,e,n){var i=this.w,r=this.invertAxis?i.globals.minY:i.globals.minX,o=this.invertAxis?i.globals.yRange[0]:i.globals.xRange,s=(t.x-r)/(o/i.globals.gridWidth),a=t.label.text;"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.invertAxis||i.globals.isXNumeric||(s=this.getStringX(t.x));var l=t.strokeDashArray;if(!(s<0||s>i.globals.gridWidth)){if(null===t.x2){var c=this.graphics.drawLine(s+t.offsetX,0+t.offsetY,s+t.offsetX,i.globals.gridHeight+t.offsetY,t.borderColor,l);e.appendChild(c.node)}else{var h=(t.x2-r)/(o/i.globals.gridWidth);if("category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.invertAxis||i.globals.isXNumeric||(h=this.getStringX(t.x2)),h<s){var u=s;s=h,h=u}if(a){var d=this.graphics.drawRect(s+t.offsetX,0+t.offsetY,h-s,i.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,l);e.appendChild(d.node)}}var f=this.graphics.drawText({x:s+t.label.offsetX,y:("top"===t.label.position?-3:i.globals.gridHeight)+t.label.offsetY,text:a,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,foreColor:t.label.style.color,cssClass:"mscharts-xaxis-annotation-label "+t.label.style.cssClass});f.attr({rel:n}),e.appendChild(f.node),this.setOrientations(t,n)}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,n=this.graphics.group({class:"mscharts-xaxis-annotations"});return e.config.annotations.xaxis.map((function(e,i){t.addXaxisAnnotation(e,n.node,i)})),n}},{key:"addYaxisAnnotation",value:function(t,e,n){var i,r,o=this.w,s=t.strokeDashArray;if(this.invertAxis){var a=o.globals.labels.indexOf(t.y),l=o.globals.dom.baseEl.querySelector(".mscharts-yaxis-texts-g text:nth-child("+(a+1)+")");l&&(i=parseFloat(l.getAttribute("y")))}else i=o.globals.gridHeight-(t.y-o.globals.minYArr[t.yAxisIndex])/(o.globals.yRange[t.yAxisIndex]/o.globals.gridHeight),o.config.yaxis[t.yAxisIndex]&&o.config.yaxis[t.yAxisIndex].reversed&&(i=(t.y-o.globals.minYArr[t.yAxisIndex])/(o.globals.yRange[t.yAxisIndex]/o.globals.gridHeight));var c=t.label.text;if(null===t.y2){var h=this.graphics.drawLine(0+t.offsetX,i+t.offsetY,o.globals.gridWidth+t.offsetX,i+t.offsetY,t.borderColor,s);e.appendChild(h.node)}else{if(this.invertAxis){var u=o.globals.labels.indexOf(t.y2),d=o.globals.dom.baseEl.querySelector(".mscharts-yaxis-texts-g text:nth-child("+(u+1)+")");d&&(r=parseFloat(d.getAttribute("y")))}else r=o.globals.gridHeight-(t.y2-o.globals.minYArr[t.yAxisIndex])/(o.globals.yRange[t.yAxisIndex]/o.globals.gridHeight),o.config.yaxis[t.yAxisIndex]&&o.config.yaxis[t.yAxisIndex].reversed&&(r=(t.y2-o.globals.minYArr[t.yAxisIndex])/(o.globals.yRange[t.yAxisIndex]/o.globals.gridHeight));if(r>i){var f=i;i=r,r=f}if(c){var p=this.graphics.drawRect(0+t.offsetX,r+t.offsetY,o.globals.gridWidth+t.offsetX,i-r,0,t.fillColor,t.opacity,1,t.borderColor,s);e.appendChild(p.node)}}var g=this.graphics.drawText({x:("right"===t.label.position?o.globals.gridWidth:0)+t.label.offsetX,y:(r||i)+t.label.offsetY-3,text:c,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,foreColor:t.label.style.color,cssClass:"mscharts-yaxis-annotation-label "+t.label.style.cssClass});g.attr({rel:n}),e.appendChild(g.node)}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,n=this.graphics.group({class:"mscharts-yaxis-annotations"});return e.config.annotations.yaxis.map((function(e,i){t.addYaxisAnnotation(e,n.node,i)})),n}},{key:"clearAnnotations",value:function(t){var e=t.w.globals.dom.baseEl.querySelectorAll(".mscharts-yaxis-annotations, .mscharts-xaxis-annotations, .mscharts-point-annotations");(e=p.listToArray(e)).forEach((function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))}},{key:"addPointAnnotation",value:function(t,e,n){var i=this.w,r=0,o=0,s=0;if(this.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts."),"string"==typeof t.x){var a=i.globals.labels.indexOf(t.x),l=i.globals.dom.baseEl.querySelector(".mscharts-xaxis-texts-g text:nth-child("+(a+1)+")");r=parseFloat(l.getAttribute("x"));var c=t.y;null===t.y&&(c=i.globals.series[t.seriesIndex][a]),o=i.globals.gridHeight-(c-i.globals.minYArr[t.yAxisIndex])/(i.globals.yRange[t.yAxisIndex]/i.globals.gridHeight)-parseInt(t.label.style.fontSize)-t.marker.size,s=i.globals.gridHeight-(c-i.globals.minYArr[t.yAxisIndex])/(i.globals.yRange[t.yAxisIndex]/i.globals.gridHeight),i.config.yaxis[t.yAxisIndex]&&i.config.yaxis[t.yAxisIndex].reversed&&(o=(c-i.globals.minYArr[t.yAxisIndex])/(i.globals.yRange[t.yAxisIndex]/i.globals.gridHeight)+parseInt(t.label.style.fontSize)+t.marker.size,s=(c-i.globals.minYArr[t.yAxisIndex])/(i.globals.yRange[t.yAxisIndex]/i.globals.gridHeight))}else r=(t.x-i.globals.minX)/(i.globals.xRange/i.globals.gridWidth),o=i.globals.gridHeight-(parseFloat(t.y)-i.globals.minYArr[t.yAxisIndex])/(i.globals.yRange[t.yAxisIndex]/i.globals.gridHeight)-parseInt(t.label.style.fontSize)-t.marker.size,s=i.globals.gridHeight-(t.y-i.globals.minYArr[t.yAxisIndex])/(i.globals.yRange[t.yAxisIndex]/i.globals.gridHeight),i.config.yaxis[t.yAxisIndex]&&i.config.yaxis[t.yAxisIndex].reversed&&(o=(parseFloat(t.y)-i.globals.minYArr[t.yAxisIndex])/(i.globals.yRange[t.yAxisIndex]/i.globals.gridHeight)-parseInt(t.label.style.fontSize)-t.marker.size,s=(t.y-i.globals.minYArr[t.yAxisIndex])/(i.globals.yRange[t.yAxisIndex]/i.globals.gridHeight));if(!(r<0||r>i.globals.gridWidth)){var h=this.graphics.drawMarker(r+t.marker.offsetX,s+t.marker.offsetY,{pSize:t.marker.size,pWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,radius:t.marker.radius,class:"mscharts-point-annotation-marker "+t.marker.cssClass});e.appendChild(h.node);var u=this.graphics.drawText({x:r+t.label.offsetX,y:o+t.label.offsetY,text:t.label.text?t.label.text:"",textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,foreColor:t.label.style.color,cssClass:"mscharts-point-annotation-label "+t.label.style.cssClass});if(u.attr({rel:n}),e.appendChild(u.node),t.customSVG.SVG){var d=this.graphics.group({class:"mscharts-point-annotations-custom-svg "+t.customSVG.cssClass});d.attr({transform:"translate(".concat(r+t.customSVG.offsetX,", ").concat(o+t.customSVG.offsetY,")")}),d.node.innerHTML=t.customSVG.SVG,e.appendChild(d.node)}}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,n=this.graphics.group({class:"mscharts-point-annotations"});return e.config.annotations.points.map((function(e,i){t.addPointAnnotation(e,n.node,i)})),n}},{key:"setOrientations",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w;if("vertical"===t.label.orientation){var i=null!==e?e:0,r=n.globals.dom.baseEl.querySelector(".mscharts-xaxis-annotations .mscharts-xaxis-annotation-label[rel='".concat(i,"']"));if(null!==r){var o=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-o.height+4),r.setAttribute("y","top"===t.label.position?parseFloat(r.getAttribute("y"))+o.width:parseFloat(r.getAttribute("y"))-o.width);var s=this.graphics.rotateAroundCenter(r),a=s.x,l=s.y;r.setAttribute("transform","rotate(-90 ".concat(a," ").concat(l,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var n=this.w;if(!e.label.text||e.label.text&&!e.label.text.trim())return null;var i=n.globals.dom.baseEl.querySelector(".mscharts-grid").getBoundingClientRect(),r=t.getBoundingClientRect(),o=e.label.style.padding.left,s=e.label.style.padding.right,a=e.label.style.padding.top,l=e.label.style.padding.bottom;return"vertical"===e.label.orientation&&(a=e.label.style.padding.left,l=e.label.style.padding.right,o=e.label.style.padding.top,s=e.label.style.padding.bottom),this.graphics.drawRect(r.left-i.left-o,r.top-i.top-a,r.width+o+s,r.height+a+l,0,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0)}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,n=function(n,i,r){var o=e.globals.dom.baseEl.querySelector(".mscharts-".concat(r,"-annotations .mscharts-").concat(r,"-annotation-label[rel='").concat(i,"']"));if(o){var s=o.parentNode,a=t.addBackgroundToAnno(o,n);a&&s.insertBefore(a.node,o)}};e.config.annotations.xaxis.map((function(t,e){n(t,e,"xaxis")})),e.config.annotations.yaxis.map((function(t,e){n(t,e,"yaxis")})),e.config.annotations.points.map((function(t,e){n(t,e,"point")}))}},{key:"addText",value:function(t,e,n){var i=t.x,r=t.y,o=t.text,s=t.textAnchor,a=t.appendTo,l=void 0===a?".mscharts-inner":a,c=t.foreColor,h=t.fontSize,u=t.fontFamily,d=t.cssClass,f=t.backgroundColor,p=t.borderWidth,g=t.strokeDashArray,m=t.radius,v=t.borderColor,y=t.paddingLeft,b=void 0===y?4:y,x=t.paddingRight,w=void 0===x?4:x,S=t.paddingBottom,k=void 0===S?2:S,C=t.paddingTop,A=void 0===C?2:C,_=n,E=_.w,T=E.globals.dom.baseEl.querySelector(l),P=this.graphics.drawText({x:i,y:r,text:o,textAnchor:s||"start",fontSize:h||"12px",fontFamily:u||E.config.chart.fontFamily,foreColor:c||E.config.chart.foreColor,cssClass:d});T.appendChild(P.node);var I=P.bbox();if(o){var M=this.graphics.drawRect(I.x-b,I.y-A,I.width+b+w,I.height+k+A,m,f,1,p,v,g);P.before(M)}return e&&E.globals.memory.methodsToExec.push({context:_,method:_.addText,params:{x:i,y:r,text:o,textAnchor:s,appendTo:l,foreColor:c,fontSize:h,cssClass:d,backgroundColor:f,borderWidth:p,strokeDashArray:g,radius:m,borderColor:v,paddingLeft:b,paddingRight:w,paddingBottom:k,paddingTop:A}}),n}},{key:"addPointAnnotationExternal",value:function(t,e,n){return void 0===this.invertAxis&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(t,e,n){return this.addAnnotationExternal({params:t,pushToMemory:e,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addXaxisAnnotationExternal",value:function(t,e,n){return this.addAnnotationExternal({params:t,pushToMemory:e,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addAnnotationExternal",value:function(t){var e=t.params,n=t.pushToMemory,i=t.context,r=t.type,o=t.contextMethod,s=i,a=s.w,l=a.globals.dom.baseEl.querySelector(".mscharts-".concat(r,"-annotations")),c=l.childNodes.length+1,h=new b,u=Object.assign({},"xaxis"===r?h.xAxisAnnotation:"yaxis"===r?h.yAxisAnnotation:h.pointAnnotation),d=p.extend(u,e);switch(r){case"xaxis":this.addXaxisAnnotation(d,l,c);break;case"yaxis":this.addYaxisAnnotation(d,l,c);break;case"point":this.addPointAnnotation(d,l,c)}var f=a.globals.dom.baseEl.querySelector(".mscharts-".concat(r,"-annotations .mscharts-").concat(r,"-annotation-label[rel='").concat(c,"']")),g=this.addBackgroundToAnno(f,d);return g&&l.insertBefore(g.node,f),n&&a.globals.memory.methodsToExec.push({context:s,method:o,params:e}),i}}]),t}(),w=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return s(t,[{key:"isValidDate",value:function(t){return!isNaN(this.parseDate(t))}},{key:"getUTCTimeStamp",value:function(t){return Date.parse(t)?new Date(new Date(t).toISOString().substr(0,25)).getTime():t}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getUTCTimeStamp(t);var n=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getUTCTimeStamp(n)}},{key:"treatAsUtc",value:function(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}},{key:"formatDate",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.w.globals.locale,o=["\0"].concat(f(r.months)),s=["\x01"].concat(f(r.shortMonths)),a=["\x02"].concat(f(r.days)),l=["\x03"].concat(f(r.shortDays));function c(t,e){var n=t+"";for(e=e||2;n.length<e;)n="0"+n;return n}i&&(t=this.treatAsUtc(t));var h=n?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+h)).replace(/(^|[^\\])yy/g,"$1"+h.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+h);var u=(n?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+o[0])).replace(/(^|[^\\])MMM/g,"$1"+s[0])).replace(/(^|[^\\])MM/g,"$1"+c(u))).replace(/(^|[^\\])M/g,"$1"+u);var d=n?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+a[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(d))).replace(/(^|[^\\])d/g,"$1"+d);var p=n?t.getUTCHours():t.getHours(),g=p>12?p-12:0===p?12:p;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+c(p))).replace(/(^|[^\\])H/g,"$1"+p)).replace(/(^|[^\\])hh+/g,"$1"+c(g))).replace(/(^|[^\\])h/g,"$1"+g);var m=n?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+c(m))).replace(/(^|[^\\])m/g,"$1"+m);var v=n?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+c(v))).replace(/(^|[^\\])s/g,"$1"+v);var y=n?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+c(y,3)),y=Math.round(y/10),e=e.replace(/(^|[^\\])ff/g,"$1"+c(y)),y=Math.round(y/10);var b=p<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+y)).replace(/(^|[^\\])TT+/g,"$1"+b)).replace(/(^|[^\\])T/g,"$1"+b.charAt(0));var x=b.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+x)).replace(/(^|[^\\])t/g,"$1"+x.charAt(0));var w=-t.getTimezoneOffset(),S=n||!w?"Z":w>0?"+":"-";if(!n){w=Math.abs(w);var k=Math.floor(w/60),C=w%60;S+=c(k)+":"+c(C)}e=e.replace(/(^|[^\\])K/g,"$1"+S);var A=(n?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(a[0],"g"),a[A])).replace(new RegExp(l[0],"g"),l[A])).replace(new RegExp(o[0],"g"),o[u])).replace(new RegExp(s[0],"g"),s[u])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e){var n=this.w;void 0!==n.config.xaxis.min&&(t=n.config.xaxis.min),void 0!==n.config.xaxis.max&&(e=n.config.xaxis.max);var i=new Date(t).getFullYear(),r=new Date(e).getFullYear(),o=new Date(t).getMonth(),s=new Date(e).getMonth(),a=new Date(t).getDate(),l=new Date(e).getDate(),c=new Date(t).getHours(),h=new Date(e).getHours();return{minMinute:new Date(t).getMinutes(),maxMinute:new Date(e).getMinutes(),minHour:c,maxHour:h,minDate:a,maxDate:l,minMonth:o,maxMonth:s,minYear:i,maxYear:r}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,n){return this.determineDaysOfMonths(t,e)-n}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,n){var i=this.daysCntOfYear[e]+n;return e>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(t,e){var n=30;switch(t=p.monthMod(t),!0){case this.months30.indexOf(t)>-1:2===t&&(n=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:n=31}return n}}]),t}(),S=function(){function t(e){r(this,t),this.opts=e}return s(t,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.opts.yaxis[0].labels.show=!1,this.opts.yaxis[0].floating=!0,p.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]}},stroke:{width:0},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1},xaxis:{tooltip:{enabled:!1},crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){return{stroke:{width:1,colors:["#333"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var e=t.seriesIndex,n=t.dataPointIndex,i=t.w;return'<div class="mscharts-tooltip-candlestick"><div>Open: <span class="value">'+i.globals.seriesCandleO[e][n]+'</span></div><div>High: <span class="value">'+i.globals.seriesCandleH[e][n]+'</span></div><div>Low: <span class="value">'+i.globals.seriesCandleL[e][n]+'</span></div><div>Close: <span class="value">'+i.globals.seriesCandleC[e][n]+"</span></div></div>"}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){var n=e.seriesIndex,i=e.dataPointIndex,r=e.w;return r.globals.seriesRangeEnd[n][i]-r.globals.seriesRangeStart[n][i]},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(t){var e=t.seriesIndex,n=t.dataPointIndex,i=t.w,r=i.globals.seriesRangeStart[e][n],o=i.globals.seriesRangeEnd[e][n],s="",a="",l=i.globals.colors[e];if(void 0===i.config.tooltip.x.formatter)if("datetime"===i.config.xaxis.type){var c=new w(t.ctx);s=c.formatDate(new Date(r),i.config.tooltip.x.format,!0,!0),a=c.formatDate(new Date(o),i.config.tooltip.x.format,!0,!0)}else s=r,a=o;else s=i.config.tooltip.x.formatter(r),a=i.config.tooltip.x.formatter(o);return'<div class="mscharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+l+'">'+(i.config.series[e].name?i.config.series[e].name:"")+'</span></div><div> <span class="category">'+i.globals.labels[n]+': </span> <span class="value start-value">'+s+'</span> <span class="separator">-</span> <span class="value end-value">'+a+"</span></div></div>"}},xaxis:{tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(t){return p.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(){var t=this;this.opts.dataLabels=this.opts.dataLabels||{},this.opts.dataLabels.formatter=this.opts.dataLabels.formatter||void 0;var e=this.opts.dataLabels.formatter;this.opts.yaxis.forEach((function(e,n){t.opts.yaxis[n].min=0,t.opts.yaxis[n].max=100})),"bar"===this.opts.chart.type&&(this.opts.dataLabels.formatter=e||function(t){return"number"==typeof t&&t?t.toFixed(0)+"%":t})}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:2,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1,zoom:{enabled:!1}},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"dark",shadeIntensity:.35,inverseColors:!1,stops:[0,100,100]}},padding:{right:0,left:0},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"vertical",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},padding:{right:0,left:0},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.style.fontSize="13px",this.opts.yaxis[0].labels.offsetY=6,{dataLabels:{enabled:!0,style:{colors:["#a8a8a8"],fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},padding:{right:0,left:0},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}}],[{key:"convertCatToNumeric",value:function(t){t.xaxis.type="numeric",t.xaxis.convertedCatToNumeric=!0,t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(t){return t},t.chart=t.chart||{},t.chart.zoom=t.chart.zoom||window.MS.chart&&window.MS.chart.zoom||{};var e=t.xaxis.labels.formatter,n=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return n&&n.length&&(t.xaxis.labels.formatter=function(t){return e(n[t-1])}),t.xaxis.categories=[],t.labels=[],t.chart.zoom.enabled=t.chart.zoom.enabled||!1,t}}]),t}(),k=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getStackedSeriesTotals",value:function(){var t=this.w,e=[];if(0===t.globals.series.length)return e;for(var n=0;n<t.globals.series[t.globals.maxValsInArrayIndex].length;n++){for(var i=0,r=0;r<t.globals.series.length;r++)i+=t.globals.series[r][n];e.push(i)}return t.globals.stackedSeriesTotals=e,e}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce((function(t,e){return t+e}),0):this.w.globals.series[t].reduce((function(t,e){return t+e}),0)}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter((function(t){return null!==t})):this.w.globals.series[t].filter((function(t){return null!==t}))).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every((function(t,e,n){return t===n[0]}))}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,t.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach((function(t){e=Math.max(e,t)})),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map((function(t,e){var n=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)n+=t[i];else n+=t;return n}))}},{key:"getSeriesTotalsXRange",value:function(t,e){var n=this.w;return n.globals.series.map((function(i,r){for(var o=0,s=0;s<i.length;s++)n.globals.seriesX[r][s]>t&&n.globals.seriesX[r][s]<e&&(o+=i[s]);return o}))}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map((function(e,n){var i=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var o=t.globals.stackedSeriesTotals[r],s=0;o&&(s=100*e[r]/o),i.push(s)}else{var a=100*e/t.globals.seriesTotals.reduce((function(t,e){return t+e}),0);i.push(a)}return i}))}},{key:"getCalculatedRatios",value:function(){var t,e,n,i,r,o=this.w.globals,s=[],a=[],l=.1,c=0;if(o.yRange=[],o.isMultipleYAxis)for(var h=0;h<o.minYArr.length;h++)o.yRange.push(Math.abs(o.minYArr[h]-o.maxYArr[h])),a.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var u=0;u<o.yRange.length;u++)s.push(o.yRange[u]/o.gridHeight);if(e=o.xRange/o.gridWidth,n=Math.abs(o.initialmaxX-o.initialminX)/o.gridWidth,t=o.yRange/o.gridWidth,i=o.xRange/o.gridHeight,r=o.zRange/o.gridHeight*16,o.minY!==Number.MIN_VALUE&&0!==Math.abs(o.minY)&&(o.hasNegs=!0),o.isMultipleYAxis){a=[];for(var d=0;d<s.length;d++)a.push(-o.minYArr[d]/s[d])}else a.push(-o.minY/s[0]),o.minY!==Number.MIN_VALUE&&0!==Math.abs(o.minY)&&(l=-o.minY/t,c=o.minX/e);return{yRatio:s,invertedYRatio:t,zRatio:r,xRatio:e,initialXRatio:n,invertedXRatio:i,baseLineInvertedY:l,baseLineY:a,baseLineX:c}}},{key:"getLogSeries",value:function(t){var e=this.w;return e.globals.seriesLog=t.map((function(t,n){return e.config.yaxis[n]&&e.config.yaxis[n].logarithmic?t.map((function(t){return null===t?null:(Math.log(t)-Math.log(e.globals.minYArr[n]))/(Math.log(e.globals.maxYArr[n])-Math.log(e.globals.minYArr[n]))})):t})),e.globals.seriesLog}},{key:"getLogYRatios",value:function(t){var e=this,n=this.w,i=this.w.globals;return i.yLogRatio=t.slice(),i.logYRange=i.yRange.map((function(t,r){if(n.config.yaxis[r]&&e.w.config.yaxis[r].logarithmic){var o,s=-Number.MAX_VALUE,a=Number.MIN_VALUE;return i.seriesLog.forEach((function(t,e){t.forEach((function(t){n.config.yaxis[e]&&n.config.yaxis[e].logarithmic&&(s=Math.max(t,s),a=Math.min(t,a))}))})),o=Math.pow(i.yRange[r],Math.abs(a-s)/i.yRange[r]),i.yLogRatio[r]=o/i.gridHeight,o}})),i.yLogRatio}}],[{key:"checkComboSeries",value:function(t){var e=!1,n=!1;return t.length&&void 0!==t[0].type&&(e=!0,t.forEach((function(t){"bar"!==t.type&&"column"!==t.type||(n=!0)}))),{comboCharts:e,comboChartsHasBars:n}}},{key:"extendArrayProps",value:function(t,e){return e.yaxis&&(e=t.extendYAxis(e)),e.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),e.annotations.xaxis&&(e=t.extendXAxisAnnotations(e)),e.annotations.points&&(e=t.extendPointAnnotations(e))),e}}]),t}(),C=function(){function t(e){r(this,t),this.opts=e}return s(t,[{key:"init",value:function(){var t=this.opts,e=new b,n=new S(t);this.chartType=t.chart.type,"histogram"===this.chartType&&(t.chart.type="bar",t=p.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},t)),t=this.extendYAxis(t),t=this.extendAnnotations(t);var r=e.init(),o={};if(t&&"object"===i(t)){var s={};switch(this.chartType){case"line":s=n.line();break;case"area":s=n.area();break;case"bar":s=n.bar();break;case"candlestick":s=n.candlestick();break;case"rangeBar":s=n.rangeBar();break;case"histogram":s=n.bar();break;case"bubble":s=n.bubble();break;case"scatter":s=n.scatter();break;case"heatmap":s=n.heatmap();break;case"pie":s=n.pie();break;case"donut":s=n.donut();break;case"radar":s=n.radar();break;case"radialBar":s=n.radialBar();break;default:s=n.line()}t.chart.brush&&t.chart.brush.enabled&&(s=n.brush(s)),t.chart.stacked&&"100%"===t.chart.stackType&&n.stacked100(),this.checkForDarkTheme(window.MS),this.checkForDarkTheme(t),t.xaxis=t.xaxis||window.MS.xaxis||{};var a=k.checkComboSeries(t.series);"line"!==t.chart.type&&"area"!==t.chart.type&&"scatter"!==t.chart.type||a.comboChartsHasBars||"datetime"===t.xaxis.type||"numeric"===t.xaxis.type||"between"===t.xaxis.tickPlacement||(t=S.convertCatToNumeric(t)),(t.chart.sparkline&&t.chart.sparkline.enabled||window.MS.chart&&window.MS.chart.sparkline&&window.MS.chart.sparkline.enabled)&&(s=n.sparkline(s)),o=p.extend(r,s)}var l=p.extend(o,window.MS);return r=p.extend(l,t),this.handleUserInputErrors(r)}},{key:"extendYAxis",value:function(t){var e=new b;return void 0===t.yaxis&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.MS.yaxis&&window.MS.yaxis.constructor!==Array&&(t.yaxis=p.extend(t.yaxis,window.MS.yaxis)),t.yaxis=t.yaxis.constructor!==Array?[p.extend(e.yAxis,t.yaxis)]:p.extendArray(t.yaxis,e.yAxis),t}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new b;return t.annotations.yaxis=p.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new b;return t.annotations.xaxis=p.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new b;return t.annotations.points=p.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(e.chart.scroller&&console.warn("Scroller has been deprecated since v2.0.0. Please remove the configuration for chart.scroller"),("bar"===e.chart.type||"rangeBar"===e.chart.type)&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&("barWidth"===e.xaxis.crosshairs.width&&e.series.length>1&&(console.warn('crosshairs.width = "barWidth" is only supported in single series, not in a multi-series barChart.'),e.xaxis.crosshairs.width="tickWidth"),e.plotOptions.bar.horizontal&&(e.states.hover.type="none",e.tooltip.shared=!1),e.tooltip.followCursor||(console.warn("followCursor option in shared columns cannot be turned off. Please set %ctooltip.followCursor: true","color: blue;"),e.tooltip.followCursor=!0)),"candlestick"===e.chart.type&&e.yaxis[0].reversed&&(console.warn("Reversed y-axis in candlestick chart is not supported."),e.yaxis[0].reversed=!1),e.chart.group&&0===e.yaxis[0].labels.minWidth&&console.warn("It looks like you have multiple charts in synchronization. You must provide yaxis.labels.minWidth which must be EQUAL for all grouped charts to prevent incorrect behaviour."),Array.isArray(e.stroke.width)&&"line"!==e.chart.type&&"area"!==e.chart.type&&(console.warn("stroke.width option accepts array only for line and area charts. Reverted back to Number"),e.stroke.width=e.stroke.width[0]),e}}]),t}(),A=function(){function t(){r(this,t)}return s(t,[{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,lastXAxis:[],lastYAxis:[],series:[],seriesRangeStart:[],seriesRangeEnd:[],seriesPercent:[],seriesTotals:[],stackedSeriesTotals:[],seriesX:[],seriesZ:[],columnSeries:null,labels:[],timelineLabels:[],invertedTimelineLabels:[],seriesNames:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],padHorizontal:0,maxValsInArrayIndex:0,radialSize:0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,minY:Number.MIN_VALUE,maxY:-Number.MAX_VALUE,minYArr:[],maxYArr:[],maxX:-Number.MAX_VALUE,initialmaxX:-Number.MAX_VALUE,minX:Number.MIN_VALUE,initialminX:Number.MIN_VALUE,minZ:Number.MIN_VALUE,maxZ:-Number.MAX_VALUE,minXDiff:Number.MAX_VALUE,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yRange:[],zRange:0,xRange:0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,delayedElements:[],axisCharts:!0,isXNumeric:!1,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,comboChartsHasBars:!1,dataChanged:!1,previousPaths:[],seriesXvalues:[],seriesYvalues:[],seriesCandleO:[],seriesCandleH:[],seriesCandleL:[],seriesCandleC:[],allSeriesHasEqualX:!0,dataPoints:0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,yAxisScale:[],xAxisScale:null,xAxisTicksPositions:[],timescaleTicks:[],rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yLabelsCoords:[],yTitleCoords:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,tooltipOpts:null}}},{key:"init",value:function(t){var e=this.globalVars(t);return e.initialConfig=p.extend({},t),e.initialSeries=JSON.parse(JSON.stringify(e.initialConfig.series)),e.lastXAxis=JSON.parse(JSON.stringify(e.initialConfig.xaxis)),e.lastYAxis=JSON.parse(JSON.stringify(e.initialConfig.yaxis)),e}}]),t}(),_=function(){function t(e){r(this,t),this.opts=e}return s(t,[{key:"init",value:function(){var t=new C(this.opts).init();return{config:t,globals:(new A).init(t)}}}]),t}(),E=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0}return s(t,[{key:"clippedImgArea",value:function(t){var e=this.w,n=e.config,i=parseInt(e.globals.gridWidth),r=parseInt(e.globals.gridHeight),o=i>r?i:r,s=t.image,a=0,l=0;void 0===t.width&&void 0===t.height?void 0!==n.fill.image.width&&void 0!==n.fill.image.height?(a=n.fill.image.width+1,l=n.fill.image.height):(a=o+1,l=o):(a=t.width,l=t.height);var c=document.createElementNS(e.globals.SVGNS,"pattern");v.setAttrs(c,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:a+"px",height:l+"px"});var h=document.createElementNS(e.globals.SVGNS,"image");c.appendChild(h),h.setAttributeNS("http://www.w3.org/1999/xlink","href",s),v.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:a+"px",height:l+"px"}),h.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(t){var e=this.w;return this.seriesIndex="bar"===e.config.chart.type&&e.config.plotOptions.bar.distributed||"heatmap"===e.config.chart.type?t.seriesNumber:t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var n,i,r,o=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var s=this.getFillColors()[this.seriesIndex];"function"==typeof s&&(s=s({seriesIndex:this.seriesIndex,value:t.value,w:e}));var a=this.getFillType(this.seriesIndex),l=Array.isArray(o.fill.opacity)?o.fill.opacity[this.seriesIndex]:o.fill.opacity,c=s;return t.color&&(s=t.color),-1===s.indexOf("rgb")?c=p.hexToRgba(s,l):s.indexOf("rgba")>-1&&(l="0."+p.getOpacityFromRGBA(s)),"pattern"===a&&(i=this.handlePatternFill(i,s,l,c)),"gradient"===a&&(r=this.handleGradientFill(r,s,l,this.seriesIndex)),o.fill.image.src.length>0&&"image"===a?t.seriesNumber<o.fill.image.src.length?(this.clippedImgArea({opacity:l,image:o.fill.image.src[t.seriesNumber],patternUnits:t.patternUnits,patternID:"pattern".concat(e.globals.cuid).concat(t.seriesNumber+1)}),n="url(#pattern".concat(e.globals.cuid).concat(t.seriesNumber+1,")")):n=c:n="gradient"===a?r:"pattern"===a?i:c,t.solid&&(n=c),n}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,n=this.opts,i=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?t.globals.stroke.colors instanceof Array?i=t.globals.stroke.colors:i.push(t.globals.stroke.colors):t.globals.fill.colors instanceof Array?i=t.globals.fill.colors:i.push(t.globals.fill.colors):"line"===e.chart.type?t.globals.stroke.colors instanceof Array?i=t.globals.stroke.colors:i.push(t.globals.stroke.colors):t.globals.fill.colors instanceof Array?i=t.globals.fill.colors:i.push(t.globals.fill.colors),void 0!==n.fillColors&&(i=[],n.fillColors instanceof Array?i=n.fillColors.slice():i.push(n.fillColors)),i}},{key:"handlePatternFill",value:function(t,e,n,i){var r=this.w.config,o=this.opts,s=new v(this.ctx),a=void 0===r.fill.pattern.strokeWidth?Array.isArray(r.stroke.width)?r.stroke.width[this.seriesIndex]:r.stroke.width:Array.isArray(r.fill.pattern.strokeWidth)?r.fill.pattern.strokeWidth[this.seriesIndex]:r.fill.pattern.strokeWidth,l=e;return r.fill.pattern.style instanceof Array?void 0!==r.fill.pattern.style[o.seriesNumber]?s.drawPattern(r.fill.pattern.style[o.seriesNumber],r.fill.pattern.width,r.fill.pattern.height,l,a,n):i:s.drawPattern(r.fill.pattern.style,r.fill.pattern.width,r.fill.pattern.height,l,a,n)}},{key:"handleGradientFill",value:function(t,e,n,i){var r,o,s=this.w.config,a=this.opts,l=new v(this.ctx),c=new p,h=s.fill.gradient.type,u=void 0===s.fill.gradient.opacityFrom?n:Array.isArray(s.fill.gradient.opacityFrom)?s.fill.gradient.opacityFrom[i]:s.fill.gradient.opacityFrom,d=void 0===s.fill.gradient.opacityTo?n:Array.isArray(s.fill.gradient.opacityTo)?s.fill.gradient.opacityTo[i]:s.fill.gradient.opacityTo;if(r=e,o=void 0===s.fill.gradient.gradientToColors||0===s.fill.gradient.gradientToColors.length?c.shadeColor("dark"===s.fill.gradient.shade?-1*parseFloat(s.fill.gradient.shadeIntensity):parseFloat(s.fill.gradient.shadeIntensity),e):s.fill.gradient.gradientToColors[a.seriesNumber],s.fill.gradient.inverseColors){var f=r;r=o,o=f}return l.drawGradient(h,r,o,u,d,a.size,s.fill.gradient.stops,s.fill.gradient.colorStops,i)}}]),t}(),T=function(){function t(e,n){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map((function(e){return t.config.markers.size}))}},{key:"plotChartMarkers",value:function(t,e,n){var i,r=this.w,o=e,s=t,a=null,l=new v(this.ctx);if(r.globals.markers.size[e]>0&&(a=l.group({class:"mscharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),s.x instanceof Array)for(var c=0;c<s.x.length;c++){var h=n;1===n&&0===c&&(h=0),1===n&&1===c&&(h=1);var u="mscharts-marker";if("line"!==r.config.chart.type&&"area"!==r.config.chart.type||r.globals.comboCharts||r.config.tooltip.intersect||(u+=" no-pointer-events"),Array.isArray(r.config.markers.size)?r.globals.markers.size[e]>0:r.config.markers.size>0){p.isNumber(s.y[c])?u+=" w".concat((Math.random()+1).toString(36).substring(4)):u="mscharts-nullpoint";var d=this.getMarkerConfig(u,e,h);r.config.series[o].data[n]&&(r.config.series[o].data[n].fillColor&&(d.pointFillColor=r.config.series[o].data[n].fillColor),r.config.series[o].data[n].strokeColor&&(d.pointStrokeColor=r.config.series[o].data[n].strokeColor)),(i=l.drawMarker(s.x[c],s.y[c],d)).attr("rel",h),i.attr("j",h),i.attr("index",e),i.node.setAttribute("default-marker-size",d.pSize),new g(this.ctx).setSelectionFilter(i,e,h),this.addEvents(i),a&&a.add(i)}else void 0===r.globals.pointsArray[e]&&(r.globals.pointsArray[e]=[]),r.globals.pointsArray[e].push([s.x[c],s.y[c]])}return a}},{key:"getMarkerConfig",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=this.getMarkerStyle(e),o=i.globals.markers.size[e],s=i.config.markers;null!==n&&s.discrete.length&&s.discrete.map((function(t){t.seriesIndex===e&&t.dataPointIndex===n&&(r.pointStrokeColor=t.strokeColor,r.pointFillColor=t.fillColor,o=t.size)}));var a="bubble"===i.config.chart.type?i.config.stroke.width:s.strokeWidth;return{pSize:o,pRadius:s.radius,pWidth:a instanceof Array?a[e]:a,pointStrokeColor:r.pointStrokeColor,pointFillColor:r.pointFillColor,shape:s.shape instanceof Array?s.shape[e]:s.shape,class:t,pointStrokeOpacity:s.strokeOpacity instanceof Array?s.strokeOpacity[e]:s.strokeOpacity,pointFillOpacity:s.fillOpacity instanceof Array?s.fillOpacity[e]:s.fillOpacity,seriesIndex:e}}},{key:"addEvents",value:function(t){var e=this.w,n=new v(this.ctx);t.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,n=e.globals.markers.colors,i=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:i instanceof Array?i[t]:i,pointFillColor:n instanceof Array?n[t]:n}}}]),t}(),P=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.radiusSizes=[]}return s(t,[{key:"draw",value:function(t,e,n){var i=this.w,r=new v(this.ctx),o=n.realIndex,s=n.pointsPos,a=n.zRatio,l=n.elParent,c=r.group({class:"mscharts-series-markers mscharts-series-".concat(i.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),s.x instanceof Array)for(var h=0;h<s.x.length;h++){var u=e+1,d=!0;0===e&&0===h&&(u=0),0===e&&1===h&&(u=1);var f=0,p=i.globals.markers.size[o];a!==1/0&&(p=i.globals.seriesZ[o][u]/a,void 0===this.radiusSizes[o]&&this.radiusSizes.push([]),this.radiusSizes[o].push(p)),i.config.chart.animations.enabled||(f=p);var g=s.y[h];if(f=f||0,null!==g&&void 0!==i.globals.series[o][u]||(d=!1),d){var m=this.drawPoint(s.x[h],g,f,p,o,u,e);c.add(m)}l.add(c)}}},{key:"drawPoint",value:function(t,e,n,i,r,o,s){var a=this.w,l=r,c=new m(this.ctx),h=new g(this.ctx),u=new E(this.ctx),d=new T(this.ctx),f=new v(this.ctx),p=d.getMarkerConfig("mscharts-marker",l),y=u.fillPath({seriesNumber:r,patternUnits:"objectBoundingBox",value:a.globals.series[r][s]}),b=f.drawCircle(n);if(a.config.series[l].data[o]&&a.config.series[l].data[o].fillColor&&(y=a.config.series[l].data[o].fillColor),b.attr({cx:t,cy:e,fill:y,stroke:p.pointStrokeColor,"stroke-width":p.pWidth}),a.config.chart.dropShadow.enabled&&h.dropShadow(b,a.config.chart.dropShadow,r),this.initialAnim&&!a.globals.dataChanged){var x=1;a.globals.resized||(x=a.config.chart.animations.speed),c.animateCircleRadius(b,0,i,x,a.globals.easing)}if(a.globals.dataChanged)if(this.dynamicAnim){var w,S,k,C,A=a.config.chart.animations.dynamicAnimation.speed;null!=(C=a.globals.previousPaths[r]&&a.globals.previousPaths[r][s])&&(w=C.x,S=C.y,k=void 0!==C.r?C.r:i);for(var _=0;_<a.globals.collapsedSeries.length;_++)a.globals.collapsedSeries[_].index===r&&(A=1,i=0);0===t&&0===e&&(i=0),c.animateCircle(b,{cx:w,cy:S,r:k},{cx:t,cy:e,r:i},A,a.globals.easing)}else b.attr({r:i});return b.attr({rel:o,j:o,index:r,"default-marker-size":i}),h.setSelectionFilter(b,r,o),d.addEvents(b),b.node.classList.add("mscharts-marker"),b}},{key:"centerTextInBubble",value:function(t){return{y:t+=parseInt(this.w.config.dataLabels.style.fontSize)/4}}}]),t}(),I=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"dataLabelsCorrection",value:function(t,e,n,i,r,o,s){var a=this.w,l=!1,c=new v(this.ctx).getTextRects(n,s),h=c.width,u=c.height;if(void 0===a.globals.dataLabelsRects[i]&&(a.globals.dataLabelsRects[i]=[]),a.globals.dataLabelsRects[i].push({x:t,y:e,width:h,height:u}),void 0!==a.globals.dataLabelsRects[i][a.globals.dataLabelsRects[i].length-2]){var d=a.globals.dataLabelsRects[i][void 0!==a.globals.lastDrawnDataLabelsIndexes[i]?a.globals.lastDrawnDataLabelsIndexes[i][a.globals.lastDrawnDataLabelsIndexes[i].length-1]:0];(t>d.x+d.width+2||e>d.y+d.height+2||t+h<d.x)&&(l=!0)}return(0===r||o)&&(l=!0),{x:t,y:e,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(t,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"top",r=this.w,o=new v(this.ctx),s=r.config.dataLabels,a=0,l=0,c=n,h=null;if(!s.enabled||t.x instanceof Array!=1)return h;h=o.group({class:"mscharts-data-labels"});for(var u=0;u<t.x.length;u++)if(a=t.x[u]+s.offsetX,l=t.y[u]+s.offsetY-r.globals.markers.size[e]-5,"bottom"===i&&(l=l+2*r.globals.markers.size[e]+1.4*parseInt(s.style.fontSize)),!isNaN(a)){1===n&&0===u&&(c=0),1===n&&1===u&&(c=1);var d=r.globals.series[e][c],f="";if("bubble"===r.config.chart.type){f=r.config.dataLabels.formatter(d=r.globals.seriesZ[e][c],{ctx:this.ctx,seriesIndex:e,dataPointIndex:c,w:r}),l=t.y[u]+r.config.dataLabels.offsetY;var p=new P(this.ctx),g=p.centerTextInBubble(l,e,c);l=g.y}else void 0!==d&&(f=r.config.dataLabels.formatter(d,{ctx:this.ctx,seriesIndex:e,dataPointIndex:c,w:r}));this.plotDataLabelsText({x:a,y:l,text:f,i:e,j:c,parent:h,offsetCorrection:!0,dataLabelsConfig:r.config.dataLabels})}return h}},{key:"plotDataLabelsText",value:function(t){var e=this.w,n=new v(this.ctx),i=t.x,r=t.y,o=t.i,s=t.j,a=t.text,l=t.textAnchor,c=t.parent,h=t.dataLabelsConfig,u=t.alwaysDrawDataLabel,d=t.offsetCorrection;if(!(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(o)<0)){var f={x:i,y:r,drawnextLabel:!0};if(d&&(f=this.dataLabelsCorrection(i,r,a,o,s,u,parseInt(h.style.fontSize))),e.globals.zoomed||(i=f.x,r=f.y),f.textRects&&(i+f.textRects.width<10||i>e.globals.gridWidth+10)&&(a=""),f.drawnextLabel){var p=n.drawText({width:100,height:parseInt(h.style.fontSize),x:i,y:r,foreColor:e.globals.dataLabels.style.colors[o],textAnchor:l||h.textAnchor,text:a,fontSize:h.style.fontSize,fontFamily:h.style.fontFamily});if(p.attr({class:"mscharts-datalabel",cx:i,cy:r}),h.dropShadow.enabled){var m=h.dropShadow;new g(this.ctx).dropShadow(p,m)}c.add(p),void 0===e.globals.lastDrawnDataLabelsIndexes[o]&&(e.globals.lastDrawnDataLabelsIndexes[o]=[]),e.globals.lastDrawnDataLabelsIndexes[o].push(s)}}}}]),t}(),M=function(){function t(e,n){r(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.xyRatios=n,null!==this.xyRatios&&(this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.invertedXRatio=n.invertedXRatio,this.invertedYRatio=n.invertedYRatio,this.baseLineY=n.baseLineY,this.baseLineInvertedY=n.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0}return s(t,[{key:"draw",value:function(t,e){var n=this.w,i=new v(this.ctx),r=new k(this.ctx,n);t=r.getLogSeries(t),this.series=t,this.yRatio=r.getLogYRatios(this.yRatio),this.initVariables(t);var o=i.group({class:"mscharts-bar-series mscharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var s=0,a=0;s<t.length;s++,a++){var l,c,h,u,d=void 0,f=void 0,g=void 0,m=void 0,y=[],b=[],x=n.globals.comboCharts?e[s]:s,w=i.group({class:"mscharts-series",rel:s+1,seriesName:p.escapeString(n.globals.seriesNames[x]),"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(w,x),t[s].length>0&&(this.visibleI=this.visibleI+1);var S=0,C=0,A=0;this.yRatio.length>1&&(this.yaxisIndex=x),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var _=this.initialPositions();m=_.y,C=_.barHeight,c=_.yDivision,u=_.zeroW,g=_.x,A=_.barWidth,l=_.xDivision,h=_.zeroH,this.horizontal||b.push(g+A/2);for(var E=i.group({class:"mscharts-datalabels"}),T=0,P=n.globals.dataPoints;T<n.globals.dataPoints;T++,P--){this.isNullValue=void 0===this.series[s][T]||null===t[s][T],n.config.stroke.show&&(S=this.isNullValue?0:Array.isArray(this.strokeWidth)?this.strokeWidth[x]:this.strokeWidth);var I=null;this.isHorizontal?(I=this.drawBarPaths({indexes:{i:s,j:T,realIndex:x,bc:a},barHeight:C,strokeWidth:S,pathTo:d,pathFrom:f,zeroW:u,x:g,y:m,yDivision:c,elSeries:w}),A=this.series[s][T]/this.invertedYRatio):(I=this.drawColumnPaths({indexes:{i:s,j:T,realIndex:x,bc:a},x:g,y:m,xDivision:l,pathTo:d,pathFrom:f,barWidth:A,zeroH:h,strokeWidth:S,elSeries:w}),C=this.series[s][T]/this.yRatio[this.yaxisIndex]),d=I.pathTo,f=I.pathFrom,m=I.y,g=I.x,T>0&&b.push(g+A/2),y.push(m);var M=this.getPathFillColor(t,s,T,x);w=this.renderSeries({realIndex:x,pathFill:M,j:T,i:s,pathFrom:f,pathTo:d,strokeWidth:S,elSeries:w,x:g,y:m,series:t,barHeight:C,barWidth:A,elDataLabelsWrap:E,visibleSeries:this.visibleI,type:"bar"})}n.globals.seriesXvalues[x]=b,n.globals.seriesYvalues[x]=y,o.add(w)}return o}},{key:"getPathFillColor",value:function(t,e,n,i){var r=this.w,o=new E(this.ctx),s=null,a=this.barOptions.distributed?n:e;return this.barOptions.colors.ranges.length>0&&this.barOptions.colors.ranges.map((function(i){t[e][n]>=i.from&&t[e][n]<=i.to&&(s=i.color)})),r.config.series[e].data[n]&&r.config.series[e].data[n].fillColor&&(s=r.config.series[e].data[n].fillColor),o.fillPath({seriesNumber:this.barOptions.distributed?a:i,color:s,value:t[e][n]})}},{key:"renderSeries",value:function(t){var e=t.realIndex,n=t.pathFill,i=t.lineFill,r=t.j,o=t.i,s=t.pathFrom,a=t.pathTo,l=t.strokeWidth,c=t.elSeries,h=t.x,u=t.y,d=t.series,f=t.barHeight,p=t.barWidth,m=t.elDataLabelsWrap,y=t.visibleSeries,b=t.type,x=this.w,w=new v(this.ctx);i||(i=this.barOptions.distributed?x.globals.stroke.colors[r]:x.globals.stroke.colors[e]),x.config.series[o].data[r]&&x.config.series[o].data[r].strokeColor&&(i=x.config.series[o].data[r].strokeColor),this.isNullValue&&(n="none");var S=w.renderPaths({i:o,j:r,realIndex:e,pathFrom:s,pathTo:a,stroke:i,strokeWidth:l,strokeLineCap:x.config.stroke.lineCap,fill:n,animationDelay:r/x.config.chart.animations.animateGradually.delay*(x.config.chart.animations.speed/x.globals.dataPoints)/2.4,initialSpeed:x.config.chart.animations.speed,dataChangeSpeed:x.config.chart.animations.dynamicAnimation.speed,className:"mscharts-".concat(b,"-area")});S.attr("clip-path","url(#gridRectMask".concat(x.globals.cuid,")")),new g(this.ctx).setSelectionFilter(S,e,r),c.add(S);var k=this.calculateDataLabelsPos({x:h,y:u,i:o,j:r,series:d,realIndex:e,barHeight:f,barWidth:p,renderedPath:S,visibleSeries:y});return null!==k&&m.add(k),c.add(m),c}},{key:"initVariables",value:function(t){var e=this.w;this.series=t,this.totalItems=0,this.seriesLen=0,this.visibleI=-1,this.visibleItems=1;for(var n=0;n<t.length;n++)if(t[n].length>0&&(this.seriesLen=this.seriesLen+1,this.totalItems+=t[n].length),e.globals.isXNumeric)for(var i=0;i<t[n].length;i++)e.globals.seriesX[n][i]>e.globals.minX&&e.globals.seriesX[n][i]<e.globals.maxX&&this.visibleItems++;else this.visibleItems=e.globals.dataPoints;0===this.seriesLen&&(this.seriesLen=1)}},{key:"initialPositions",value:function(){var t,e,n,i,r,o,s,a,l=this.w;return this.isHorizontal?(r=(n=l.globals.gridHeight/l.globals.dataPoints)/this.seriesLen,l.globals.isXNumeric&&(r=(n=l.globals.gridHeight/this.totalItems)/this.seriesLen),r=r*parseInt(this.barOptions.barHeight)/100,a=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(n-r*this.seriesLen)/2):(o=(i=l.globals.gridWidth/this.visibleItems)/this.seriesLen*parseInt(this.barOptions.columnWidth)/100,l.globals.isXNumeric&&(l.globals.minXDiff&&(i=l.globals.minXDiff/this.xRatio),(o=i/this.seriesLen*parseInt(this.barOptions.columnWidth)/100)<1&&(o=1)),s=l.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?l.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(i-o*this.seriesLen)/2),{x:t,y:e,yDivision:n,xDivision:i,barHeight:r,barWidth:o,zeroH:s,zeroW:a}}},{key:"drawBarPaths",value:function(t){var e,n=t.indexes,i=t.barHeight,r=t.strokeWidth,o=t.pathTo,s=t.pathFrom,a=t.zeroW,l=t.y,c=t.yDivision,h=t.elSeries,u=this.w,d=new v(this.ctx),f=n.i,p=n.j,g=n.realIndex,m=n.bc;u.globals.isXNumeric&&(l=(u.globals.seriesX[f][p]-u.globals.minX)/this.invertedXRatio-i);var y=l+i*this.visibleI;o=d.move(a,y),s=d.move(a,y),u.globals.previousPaths.length>0&&(s=this.getPathFrom(g,p));var b={barHeight:i,strokeWidth:r,barYPosition:y,x:e=null==this.series[f][p]?a:a+this.series[f][p]/this.invertedYRatio-2*(this.isReversed?this.series[f][p]/this.invertedYRatio:0),zeroW:a},x=this.barEndingShape(u,b,this.series,f,p);if(o=o+d.line(x.newX,y)+x.path+d.line(a,y+i-r)+d.line(a,y),s=s+d.line(a,y)+x.ending_p_from+d.line(a,y+i-r)+d.line(a,y+i-r)+d.line(a,y),u.globals.isXNumeric||(l+=c),this.barOptions.colors.backgroundBarColors.length>0&&0===f){m>=this.barOptions.colors.backgroundBarColors.length&&(m=0);var w=d.drawRect(0,y-i*this.visibleI,u.globals.gridWidth,i*this.seriesLen,0,this.barOptions.colors.backgroundBarColors[m],this.barOptions.colors.backgroundBarOpacity);h.add(w),w.node.classList.add("mscharts-backgroundBar")}return{pathTo:o,pathFrom:s,x:e,y:l,barYPosition:y}}},{key:"drawColumnPaths",value:function(t){var e,n=t.indexes,i=t.x,r=t.xDivision,o=t.pathTo,s=t.pathFrom,a=t.barWidth,l=t.zeroH,c=t.strokeWidth,h=t.elSeries,u=this.w,d=new v(this.ctx),f=n.i,p=n.j,g=n.realIndex,m=n.bc;if(u.globals.isXNumeric){var y=f;u.globals.seriesX[f].length||(y=u.globals.maxValsInArrayIndex),i=(u.globals.seriesX[y][p]-u.globals.minX)/this.xRatio-a/2}var b=i+a*this.visibleI;o=d.move(b,l),s=d.move(b,l),u.globals.previousPaths.length>0&&(s=this.getPathFrom(g,p));var x={barWidth:a,strokeWidth:c,barXPosition:b,y:e=null==this.series[f][p]?l:l-this.series[f][p]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[f][p]/this.yRatio[this.yaxisIndex]:0),zeroH:l},w=this.barEndingShape(u,x,this.series,f,p);if(o=o+d.line(b,w.newY)+w.path+d.line(b+a-c,l)+d.line(b-c/2,l),s=s+d.line(b,l)+w.ending_p_from+d.line(b+a-c,l)+d.line(b+a-c,l)+d.line(b-c/2,l),u.globals.isXNumeric||(i+=r),this.barOptions.colors.backgroundBarColors.length>0&&0===f){m>=this.barOptions.colors.backgroundBarColors.length&&(m=0);var S=d.drawRect(b-a*this.visibleI,0,a*this.seriesLen,u.globals.gridHeight,0,this.barOptions.colors.backgroundBarColors[m],this.barOptions.colors.backgroundBarOpacity);h.add(S),S.node.classList.add("mscharts-backgroundBar")}return{pathTo:o,pathFrom:s,x:i,y:e,barXPosition:b}}},{key:"getPathFrom",value:function(t,e){for(var n,i=this.w,r=0;r<i.globals.previousPaths.length;r++){var o=i.globals.previousPaths[r];o.paths&&o.paths.length>0&&parseInt(o.realIndex)===parseInt(t)&&void 0!==i.globals.previousPaths[r].paths[e]&&(n=i.globals.previousPaths[r].paths[e].d)}return n}},{key:"calculateDataLabelsPos",value:function(t){var e=t.x,n=t.y,i=t.i,r=t.j,o=t.realIndex,s=t.series,a=t.barHeight,l=t.barWidth,c=t.visibleSeries,h=t.renderedPath,u=this.w,d=new v(this.ctx),f=Array.isArray(this.strokeWidth)?this.strokeWidth[o]:this.strokeWidth,p=e+parseFloat(l*c),g=n+parseFloat(a*c);u.globals.isXNumeric&&!u.globals.isBarHorizontal&&(p=e+parseFloat(l*(c+1)),g=n+parseFloat(a*(c+1))-f);var m,y=e,b=n,x=u.config.dataLabels,w=this.barOptions.dataLabels,S=x.offsetX,k=x.offsetY,C={width:0,height:0};return u.config.dataLabels.enabled&&(C=d.getTextRects(u.globals.yLabelFormatters[0](u.globals.maxY),parseInt(x.style.fontSize))),m=this.isHorizontal?this.calculateBarsDataLabelsPosition({x:e,y:n,i:i,j:r,renderedPath:h,bcy:g,barHeight:a,barWidth:l,textRects:C,strokeWidth:f,dataLabelsX:y,dataLabelsY:b,barDataLabelsConfig:w,offX:S,offY:k}):this.calculateColumnsDataLabelsPosition({x:e,y:n,i:i,j:r,renderedPath:h,realIndex:o,bcx:p,bcy:g,barHeight:a,barWidth:l,textRects:C,strokeWidth:f,dataLabelsY:b,barDataLabelsConfig:w,offX:S,offY:k}),h.attr({cy:m.bcy,cx:m.bcx,j:r,val:s[i][r],barHeight:a,barWidth:l}),this.drawCalculatedDataLabels({x:m.dataLabelsX,y:m.dataLabelsY,val:s[i][r],i:o,j:r,barWidth:l,barHeight:a,textRects:C,dataLabelsConfig:x})}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e,n=this.w,i=t.y,r=t.bcx,o=t.barWidth,s=t.barHeight,a=t.textRects,l=t.dataLabelsY,c=t.strokeWidth,h=t.offX,u=t.offY;r-=c/2,e=n.globals.isXNumeric?r-o/2+h:r-n.globals.gridWidth/n.globals.dataPoints+o/2+h;var d=this.series[t.i][t.j]<=0;switch(this.isReversed&&(i-=s),t.barDataLabelsConfig.position){case"center":l=d?i+s/2+a.height/2+u:i+s/2+a.height/2-u;break;case"bottom":l=d?i+s+a.height+c+u:i+s-a.height/2+c-u;break;case"top":l=d?i-a.height/2-u:i+a.height+u}return n.config.chart.stacked||(l<0?l=0+c:l+a.height/3>n.globals.gridHeight&&(l=n.globals.gridHeight-c)),{bcx:r,bcy:i,dataLabelsX:e,dataLabelsY:l}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,n=t.x,i=t.bcy,r=t.barWidth,o=t.textRects,s=t.dataLabelsX,a=t.strokeWidth,l=t.offX,c=i-e.globals.gridHeight/e.globals.dataPoints+t.barHeight/2+o.height/2+t.offY-3,h=this.series[t.i][t.j]<=0;switch(this.isReversed&&(n+=r),t.barDataLabelsConfig.position){case"center":s=h?n-r/2-l:n-r/2+l;break;case"bottom":s=h?n-r-a-Math.round(o.width/2)-l:n-r+a+Math.round(o.width/2)+l;break;case"top":s=h?n-a+Math.round(o.width/2)-l:n-a-Math.round(o.width/2)+l}return e.config.chart.stacked||(s<0?s=s+o.width+a:s+o.width/2>e.globals.gridWidth&&(s=e.globals.gridWidth-o.width-a)),{bcx:n,bcy:i,dataLabelsX:s,dataLabelsY:c}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,n=t.y,i=t.val,r=t.i,o=t.j,s=t.textRects,a=t.barWidth,l=t.dataLabelsConfig,h=this.w,u=new I(this.ctx),d=new v(this.ctx),f=l.formatter,p=null,g=h.globals.collapsedSeriesIndices.indexOf(r)>-1;if(l.enabled&&!g){p=d.group({class:"mscharts-data-labels"});var m="";void 0!==i&&(m=f(i,{seriesIndex:r,dataPointIndex:o,w:h})),0===i&&h.config.chart.stacked&&(m=""),h.config.chart.stacked&&this.barOptions.dataLabels.hideOverflowingLabels&&(this.isHorizontal?((a=this.series[r][o]/this.yRatio[this.yaxisIndex])>0&&s.width/1.6>a||a<0&&s.width/1.6<a)&&(m=""):s.height/1.6>this.series[r][o]/this.yRatio[this.yaxisIndex]&&(m=""));var y=c({},l);this.isHorizontal&&i<0&&("start"===l.textAnchor?y.textAnchor="end":"end"===l.textAnchor&&(y.textAnchor="start")),u.plotDataLabelsText({x:e,y:n,text:m,i:this.barOptions.distributed?o:r,j:o,parent:p,dataLabelsConfig:y,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return p}},{key:"barEndingShape",value:function(t,e,n,i,r){var o=new v(this.ctx);if(this.isHorizontal){var s=null,a=e.x;if(void 0!==n[i][r]||null!==n[i][r]){var l=e.barHeight/2-e.strokeWidth;switch(n[i][r]<0&&(l=-e.barHeight/2-e.strokeWidth),t.config.chart.stacked||"rounded"===this.barOptions.endingShape&&(a=e.x-l/2),this.barOptions.endingShape){case"flat":s=o.line(a,e.barYPosition+e.barHeight-e.strokeWidth);break;case"rounded":s=o.quadraticCurve(a+l,e.barYPosition+(e.barHeight-e.strokeWidth)/2,a,e.barYPosition+e.barHeight-e.strokeWidth)}}return{path:s,ending_p_from:"",newX:a}}var c=null,h=e.y;if(void 0!==n[i][r]||null!==n[i][r]){var u=e.barWidth/2-e.strokeWidth;switch(n[i][r]<0&&(u=-e.barWidth/2-e.strokeWidth),t.config.chart.stacked||"rounded"===this.barOptions.endingShape&&(h+=u/2),this.barOptions.endingShape){case"flat":c=o.line(e.barXPosition+e.barWidth-e.strokeWidth,h);break;case"rounded":c=o.quadraticCurve(e.barXPosition+(e.barWidth-e.strokeWidth)/2,h-u,e.barXPosition+e.barWidth-e.strokeWidth,h)}}return{path:c,ending_p_from:"",newY:h}}}]),t}(),L=function(t){function e(){return r(this,e),d(this,u(e).apply(this,arguments))}return h(e,M),s(e,[{key:"draw",value:function(t,e){var n=this.w;this.graphics=new v(this.ctx),this.fill=new E(this.ctx),this.bar=new M(this.ctx,this.xyRatios);var i=new k(this.ctx,n);t=i.getLogSeries(t),this.yRatio=i.getLogYRatios(this.yRatio),this.initVariables(t),"100%"===n.config.chart.stackType&&(t=n.globals.seriesPercent.slice()),this.series=t,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var r=0;r<t.length;r++)t[r].length>0&&(this.totalItems+=t[r].length);for(var o=this.graphics.group({class:"mscharts-bar-series mscharts-plot-series"}),s=0,a=0,l=0,c=0;l<t.length;l++,c++){var h=void 0,u=void 0,d=void 0,f=void 0,g=void 0,m=void 0,y=[],b=[],x=n.globals.comboCharts?e[l]:l;this.yRatio.length>1&&(this.yaxisIndex=x),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var w=this.graphics.group({class:"mscharts-series",seriesName:p.escapeString(n.globals.seriesNames[x]),rel:l+1,"data:realIndex":x}),S=this.graphics.group({class:"mscharts-datalabels"}),C=0,A=0,_=0,T=this.initialPositions(s,a,d,f,g,m);a=T.y,A=T.barHeight,f=T.yDivision,m=T.zeroW,s=T.x,_=T.barWidth,d=T.xDivision,g=T.zeroH,this.yArrj=[],this.yArrjF=[],this.yArrjVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[];for(var P=0;P<n.globals.dataPoints;P++){n.config.stroke.show&&(C=this.isNullValue?0:Array.isArray(this.strokeWidth)?this.strokeWidth[x]:this.strokeWidth);var I=null;this.isHorizontal?(I=this.drawBarPaths({indexes:{i:l,j:P,realIndex:x,bc:c},barHeight:A,strokeWidth:C,pathTo:h,pathFrom:u,zeroW:m,x:s,y:a,yDivision:f,elSeries:w}),_=this.series[l][P]/this.invertedYRatio):(I=this.drawColumnPaths({indexes:{i:l,j:P,realIndex:x,bc:c},x:s,y:a,xDivision:d,pathTo:h,pathFrom:u,barWidth:_,zeroH:g,strokeWidth:C,elSeries:w}),A=this.series[l][P]/this.yRatio[this.yaxisIndex]),h=I.pathTo,u=I.pathFrom,a=I.y,y.push(s=I.x),b.push(a);var L=this.bar.getPathFillColor(t,l,P,x);w=this.renderSeries({realIndex:x,pathFill:L,j:P,i:l,pathFrom:u,pathTo:h,strokeWidth:C,elSeries:w,x:s,y:a,series:t,barHeight:A,barWidth:_,elDataLabelsWrap:S,type:"bar",visibleSeries:0})}n.globals.seriesXvalues[x]=y,n.globals.seriesYvalues[x]=b,this.prevY.push(this.yArrj),this.prevYF.push(this.yArrjF),this.prevYVal.push(this.yArrjVal),this.prevX.push(this.xArrj),this.prevXF.push(this.xArrjF),this.prevXVal.push(this.xArrjVal),o.add(w)}return o}},{key:"initialPositions",value:function(t,e,n,i,r,o){var s,a,l=this.w;return this.isHorizontal?(s=(s=i=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight)/100,o=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(i-s)/2):(a=n=l.globals.gridWidth/l.globals.dataPoints,a=l.globals.isXNumeric?(n=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth)/100:a*parseInt(l.config.plotOptions.bar.columnWidth)/100,r=this.baseLineY[this.yaxisIndex]+(this.isReversed?l.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(n-a)/2),{x:t,y:e,yDivision:i,xDivision:n,barHeight:s,barWidth:a,zeroH:r,zeroW:o}}},{key:"drawBarPaths",value:function(t){for(var e,n,i=t.indexes,r=t.barHeight,o=t.strokeWidth,s=t.pathTo,a=t.pathFrom,l=t.zeroW,c=t.y,h=t.yDivision,u=t.elSeries,d=this.w,f=c,p=i.i,g=i.j,m=i.realIndex,v=i.bc,y=0,b=0;b<this.prevXF.length;b++)y+=this.prevXF[b][g];if(p>0){var x=l;this.prevXVal[p-1][g]<0?x=this.series[p][g]>=0?this.prevX[p-1][g]+y-2*(this.isReversed?y:0):this.prevX[p-1][g]:this.prevXVal[p-1][g]>=0&&(x=this.series[p][g]>=0?this.prevX[p-1][g]:this.prevX[p-1][g]-y+2*(this.isReversed?y:0)),e=x}else e=l;var w=this.bar.barEndingShape(d,{barHeight:r,strokeWidth:o,invertedYRatio:this.invertedYRatio,barYPosition:f,x:n=null===this.series[p][g]?e:e+this.series[p][g]/this.invertedYRatio-2*(this.isReversed?this.series[p][g]/this.invertedYRatio:0)},this.series,p,g);if(this.series.length>1&&p!==this.endingShapeOnSeriesNumber&&(w.path=this.graphics.line(w.newX,f+r-o)),this.xArrj.push(w.newX),this.xArrjF.push(Math.abs(e-w.newX)),this.xArrjVal.push(this.series[p][g]),s=this.graphics.move(e,f),a=this.graphics.move(e,f),d.globals.previousPaths.length>0&&(a=this.bar.getPathFrom(m,g,!1)),s=s+this.graphics.line(w.newX,f)+w.path+this.graphics.line(e,f+r-o)+this.graphics.line(e,f),a=a+this.graphics.line(e,f)+this.graphics.line(e,f+r-o)+this.graphics.line(e,f+r-o)+this.graphics.line(e,f+r-o)+this.graphics.line(e,f),d.config.plotOptions.bar.colors.backgroundBarColors.length>0&&0===p){v>=d.config.plotOptions.bar.colors.backgroundBarColors.length&&(v=0);var S=this.graphics.drawRect(0,f,d.globals.gridWidth,r,0,d.config.plotOptions.bar.colors.backgroundBarColors[v],d.config.plotOptions.bar.colors.backgroundBarOpacity);u.add(S),S.node.classList.add("mscharts-backgroundBar")}return{pathTo:s,pathFrom:a,x:n,y:c+=h}}},{key:"drawColumnPaths",value:function(t){var e,n=t.indexes,i=t.x,r=t.xDivision,o=t.pathTo,s=t.pathFrom,a=t.barWidth,l=t.zeroH,c=t.strokeWidth,h=t.elSeries,u=this.w,d=n.i,f=n.j,p=n.realIndex,g=n.bc;if(u.globals.isXNumeric){var m=u.globals.seriesX[d][f];m||(m=0),i=(m-u.globals.minX)/this.xRatio-a/2}for(var v,y=i,b=0,x=0;x<this.prevYF.length;x++)b+=this.prevYF[x][f];if(d>0&&!u.globals.isXNumeric||d>0&&u.globals.isXNumeric&&u.globals.seriesX[d-1][f]===u.globals.seriesX[d][f]){var w=this.prevY[d-1][f];v=this.prevYVal[d-1][f]<0?this.series[d][f]>=0?w-b+2*(this.isReversed?b:0):w:this.series[d][f]>=0?w:w+b-2*(this.isReversed?b:0)}else v=u.globals.gridHeight-l;var S=this.bar.barEndingShape(u,{barWidth:a,strokeWidth:c,yRatio:this.yRatio[this.yaxisIndex],barXPosition:y,y:e=v-this.series[d][f]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[d][f]/this.yRatio[this.yaxisIndex]:0)},this.series,d,f);if(this.yArrj.push(S.newY),this.yArrjF.push(Math.abs(v-S.newY)),this.yArrjVal.push(this.series[d][f]),o=this.graphics.move(y,v),s=this.graphics.move(y,v),u.globals.previousPaths.length>0&&(s=this.bar.getPathFrom(p,f,!1)),o=o+this.graphics.line(y,S.newY)+S.path+this.graphics.line(y+a-c,v)+this.graphics.line(y-c/2,v),s=s+this.graphics.line(y,v)+this.graphics.line(y+a-c,v)+this.graphics.line(y+a-c,v)+this.graphics.line(y+a-c,v)+this.graphics.line(y-c/2,v),u.config.plotOptions.bar.colors.backgroundBarColors.length>0&&0===d){g>=u.config.plotOptions.bar.colors.backgroundBarColors.length&&(g=0);var k=this.graphics.drawRect(y,0,a,u.globals.gridHeight,0,u.config.plotOptions.bar.colors.backgroundBarColors[g],u.config.plotOptions.bar.colors.backgroundBarOpacity);h.add(k),k.node.classList.add("mscharts-backgroundBar")}return i+=r,{pathTo:o,pathFrom:s,x:u.globals.isXNumeric?i-r:i,y:e}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,n=this.w,i=0;i<e.length;i++){for(var r=0,o=0;o<e[n.globals.maxValsInArrayIndex].length;o++)r+=e[i][o];0===r&&this.zeroSerieses.push(i)}for(var s=e.length-1;s>=0;s--)this.zeroSerieses.indexOf(s)>-1&&s===this.endingShapeOnSeriesNumber&&(this.endingShapeOnSeriesNumber-=1)}}]),e}(),O=function(t){function e(){return r(this,e),d(this,u(e).apply(this,arguments))}return h(e,M),s(e,[{key:"draw",value:function(t,e){var n=this.w,i=new v(this.ctx),r=new E(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick;var o=new k(this.ctx,n);t=o.getLogSeries(t),this.series=t,this.yRatio=o.getLogYRatios(this.yRatio),this.initVariables(t);for(var s=i.group({class:"mscharts-candlestick-series mscharts-plot-series"}),a=0,l=0;a<t.length;a++,l++){var c,h,u=void 0,d=void 0,f=void 0,g=void 0,m=[],y=[],b=n.globals.comboCharts?e[a]:a,x=i.group({class:"mscharts-series",seriesName:p.escapeString(n.globals.seriesNames[b]),rel:a+1,"data:realIndex":b});t[a].length>0&&(this.visibleI=this.visibleI+1);var w,S,C=0;this.yRatio.length>1&&(this.yaxisIndex=b);var A=this.initialPositions();g=A.y,w=A.barHeight,c=A.xDivision,h=A.zeroH,y.push((f=A.x)+(S=A.barWidth)/2);for(var _=i.group({class:"mscharts-datalabels"}),T=0,P=n.globals.dataPoints;T<n.globals.dataPoints;T++,P--){this.isNullValue=void 0===this.series[a][T]||null===t[a][T],n.config.stroke.show&&(C=this.isNullValue?0:Array.isArray(this.strokeWidth)?this.strokeWidth[b]:this.strokeWidth);var I,M=this.drawCandleStickPaths({indexes:{i:a,j:T,realIndex:b,bc:l},x:f,y:g,xDivision:c,pathTo:u,pathFrom:d,barWidth:S,zeroH:h,strokeWidth:C,elSeries:x});u=M.pathTo,d=M.pathFrom,g=M.y,f=M.x,I=M.color,T>0&&y.push(f+S/2),m.push(g);var L=r.fillPath({seriesNumber:b,color:I,value:t[a][T]});x=this.renderSeries({realIndex:b,pathFill:L,lineFill:this.candlestickOptions.wick.useFillColor?I:void 0,j:T,i:a,pathFrom:d,pathTo:u,strokeWidth:C,elSeries:x,x:f,y:g,series:t,barHeight:w,barWidth:S,elDataLabelsWrap:_,visibleSeries:this.visibleI,type:"candlestick"})}n.globals.seriesXvalues[b]=y,n.globals.seriesYvalues[b]=m,s.add(x)}return s}},{key:"drawCandleStickPaths",value:function(t){var e,n=t.indexes,i=t.x,r=t.xDivision,o=t.pathFrom,s=t.barWidth,a=t.zeroH,l=t.strokeWidth,c=this.w,h=new v(this.ctx),u=n.i,d=n.j,f=!0,p=c.config.plotOptions.candlestick.colors.upward,g=c.config.plotOptions.candlestick.colors.downward,m=this.yRatio[this.yaxisIndex],y=n.realIndex,b=this.getOHLCValue(y,d),x=a,w=a;b.o>b.c&&(f=!1);var S=Math.min(b.o,b.c),k=Math.max(b.o,b.c);c.globals.isXNumeric&&(i=(c.globals.seriesX[u][d]-c.globals.minX)/this.xRatio-s/2);var C=i+s*this.visibleI;return null==this.series[u][d]?S=a:(S=a-S/m,k=a-k/m,x=a-b.h/m,w=a-b.l/m),h.move(C,a),o=h.move(C,S),c.globals.previousPaths.length>0&&(o=this.getPathFrom(y,d,!0)),e=h.move(C,k)+h.line(C+s/2,k)+h.line(C+s/2,x)+h.line(C+s/2,k)+h.line(C+s,k)+h.line(C+s,S)+h.line(C+s/2,S)+h.line(C+s/2,w)+h.line(C+s/2,S)+h.line(C,S)+h.line(C,k-l/2),o+=h.move(C,S),c.globals.isXNumeric||(i+=r),{pathTo:e,pathFrom:o,x:i,y:k,barXPosition:C,color:f?p:g}}},{key:"getOHLCValue",value:function(t,e){var n=this.w;return{o:n.globals.seriesCandleO[t][e],h:n.globals.seriesCandleH[t][e],l:n.globals.seriesCandleL[t][e],c:n.globals.seriesCandleC[t][e]}}}]),e}(),R=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new v(this.ctx),n=new g(this.ctx),i=t.config.xaxis.crosshairs.fill.gradient,r=t.config.xaxis.crosshairs.dropShadow,o=r.enabled,s=r.left,a=r.top,l=r.blur,c=r.color,h=r.opacity,u=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===t.config.xaxis.crosshairs.fill.type&&(u=e.drawGradient("vertical",i.colorFrom,i.colorTo,i.opacityFrom,i.opacityTo,null,i.stops,null));var d=e.drawRect();1===t.config.xaxis.crosshairs.width&&(d=e.drawLine()),d.attr({class:"mscharts-xcrosshairs",x:0,y:0,y2:t.globals.gridHeight,width:p.isNumber(t.config.xaxis.crosshairs.width)?t.config.xaxis.crosshairs.width:0,height:t.globals.gridHeight,fill:u,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),o&&(d=n.dropShadow(d,{left:s,top:a,blur:l,color:c,opacity:h})),t.globals.dom.elGraphical.add(d)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new v(this.ctx),n=t.config.yaxis[0].crosshairs;if(t.config.yaxis[0].crosshairs.show){var i=e.drawLine(0,0,t.globals.gridWidth,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);i.attr({class:"mscharts-ycrosshairs"}),t.globals.dom.elGraphical.add(i)}var r=e.drawLine(0,0,t.globals.gridWidth,0,n.stroke.color,0,0);r.attr({class:"mscharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(r)}}]),t}(),N=function(){function t(e,n){r(this,t),this.ctx=e,this.w=e.w,this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.negRange=!1,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.width}return s(t,[{key:"draw",value:function(t){var e=this.w,n=new v(this.ctx),i=n.group({class:"mscharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var r=e.globals.gridWidth/e.globals.dataPoints,o=e.globals.gridHeight/e.globals.series.length,s=0,a=!1;this.checkColorRange();var l=t.slice();e.config.yaxis[0].reversed&&(a=!0,l.reverse());for(var c=a?0:l.length-1;a?c<l.length:c>=0;a?c++:c--){var h=n.group({class:"mscharts-series mscharts-heatmap-series",seriesName:p.escapeString(e.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(e.config.chart.dropShadow.enabled){var u=e.config.chart.dropShadow;new g(this.ctx).dropShadow(h,u,c)}for(var d=0,f=0;f<l[c].length;f++){var m=1,y=this.determineHeatColor(c,f);if(e.globals.hasNegs||this.negRange){var b=e.config.plotOptions.heatmap.shadeIntensity;m=e.config.plotOptions.heatmap.reverseNegativeShade?y.percent<0?y.percent/100*(1.25*b):1.25*b*(1-y.percent/100):y.percent<0?1-(1+y.percent/100)*b:(1-y.percent/100)*b}else m=1-y.percent/100;var x=y.color;if(e.config.plotOptions.heatmap.enableShades){var w=new p;x=p.hexToRgba(w.shadeColor(m,y.color),e.config.fill.opacity)}var S=n.drawRect(d,s,r,o,this.rectRadius);if(S.attr({cx:d,cy:s}),S.node.classList.add("mscharts-heatmap-rect"),h.add(S),S.attr({fill:x,i:c,index:c,j:f,val:l[c][f],"stroke-width":this.strokeWidth,stroke:e.globals.stroke.colors[0],color:x}),S.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,S)),S.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,S)),S.node.addEventListener("mousedown",n.pathMouseDown.bind(this,S)),e.config.chart.animations.enabled&&!e.globals.dataChanged){var k=1;e.globals.resized||(k=e.config.chart.animations.speed),this.animateHeatMap(S,d,s,r,o,k)}if(e.globals.dataChanged){var C=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){C=this.dynamicAnim.speed;var A=e.globals.previousPaths[c]&&e.globals.previousPaths[c][f]&&e.globals.previousPaths[c][f].color;A||(A="rgba(255, 255, 255, 0)"),this.animateHeatColor(S,p.isColorHex(A)?A:p.rgb2hex(A),p.isColorHex(x)?x:p.rgb2hex(x),C)}}var _=this.calculateHeatmapDataLabels({x:d,y:s,i:c,j:f,series:l,rectHeight:o,rectWidth:r});null!==_&&h.add(_),d+=r}s+=o,i.add(h)}var E=e.globals.yAxisScale[0].result.slice();return e.config.yaxis[0].reversed?E.unshift(""):E.push(""),e.globals.yAxisScale[0].result=E,e.config.yaxis[0].labels.offsetY=-e.globals.gridHeight/e.globals.series.length/2,i}},{key:"checkColorRange",value:function(){var t=this,e=this.w.config.plotOptions.heatmap;e.colorScale.ranges.length>0&&e.colorScale.ranges.map((function(e,n){e.from<0&&(t.negRange=!0)}))}},{key:"determineHeatColor",value:function(t,e){var n=this.w,i=n.globals.series[t][e],r=n.config.plotOptions.heatmap,o=n.globals.colors[r.colorScale.inverse?e:t],s=Math.min.apply(Math,f(n.globals.series[t])),a=Math.max.apply(Math,f(n.globals.series[t]));r.distributed||(s=n.globals.minY,a=n.globals.maxY),void 0!==r.colorScale.min&&(s=r.colorScale.min<n.globals.minY?r.colorScale.min:n.globals.minY,a=r.colorScale.max>n.globals.maxY?r.colorScale.max:n.globals.maxY);var l=Math.abs(a)+Math.abs(s),c=100*i/(0===l?l-1e-6:l);return r.colorScale.ranges.length>0&&r.colorScale.ranges.map((function(t,e){if(i>=t.from&&i<=t.to){o=t.color,s=t.from,a=t.to;var n=Math.abs(a)+Math.abs(s);c=100*i/(0===n?n-1e-6:n)}})),{color:o,percent:c}}},{key:"calculateHeatmapDataLabels",value:function(t){var e=t.x,n=t.y,i=t.i,r=t.j,o=t.rectHeight,s=t.rectWidth,a=this.w,l=a.config.dataLabels,c=new v(this.ctx),h=new I(this.ctx),u=l.formatter,d=null;if(l.enabled){d=c.group({class:"mscharts-data-labels"});var f=l.offsetY,p=e+s/2+l.offsetX,g=n+o/2+parseInt(l.style.fontSize)/3+f,m=u(a.globals.series[i][r],{seriesIndex:i,dataPointIndex:r,w:a});h.plotDataLabelsText({x:p,y:g,text:m,i:i,j:r,parent:d,dataLabelsConfig:l})}return d}},{key:"animateHeatMap",value:function(t,e,n,i,r,o){var s=new m(this.ctx);s.animateRect(t,{x:e+i/2,y:n+r/2,width:0,height:0},{x:e,y:n,width:i,height:r},o,(function(){s.animationCompleted(t)}))}},{key:"animateHeatColor",value:function(t,e,n,i){t.attr({fill:e}).animate(i).attr({fill:n})}}]),t}(),D=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels;var n=this.w;this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.svgHeight-35:n.globals.gridWidth,this.centerY=this.defaultSize/2,this.centerX=n.globals.gridWidth/2,this.fullAngle=360,n.globals.radialSize=this.defaultSize/2.05-n.config.stroke.width-n.config.chart.dropShadow.blur,void 0!==n.config.plotOptions.pie.size&&(n.globals.radialSize=n.config.plotOptions.pie.size),this.donutSize=n.globals.radialSize*parseInt(n.config.plotOptions.pie.donut.size)/100,this.sliceLabels=[],this.prevSectorAngleArr=[]}return s(t,[{key:"draw",value:function(t){var e=this.w,n=new v(this.ctx),i=n.group({class:"mscharts-pie"});if(e.globals.noData)return i;for(var r=0,o=0;o<t.length;o++)r+=p.negToZero(t[o]);var s=[],a=n.group();0===r&&(r=1e-5);for(var l=0;l<t.length;l++){var c=this.fullAngle*p.negToZero(t[l])/r;s.push(c)}if(e.globals.dataChanged){for(var h,u=0,d=0;d<e.globals.previousPaths.length;d++)u+=p.negToZero(e.globals.previousPaths[d]);for(var f=0;f<e.globals.previousPaths.length;f++)h=this.fullAngle*p.negToZero(e.globals.previousPaths[f])/u,this.prevSectorAngleArr.push(h)}this.donutSize<0&&(this.donutSize=0);var g=e.config.plotOptions.pie.customScale,m=e.globals.gridWidth/2-e.globals.gridWidth/2*g,y=e.globals.gridHeight/2-e.globals.gridHeight/2*g;if("donut"===e.config.chart.type){var b=n.drawCircle(this.donutSize);b.attr({cx:this.centerX,cy:this.centerY,fill:e.config.plotOptions.pie.donut.background}),a.add(b)}var x=this.drawArcs(s,t);if(this.sliceLabels.forEach((function(t){x.add(t)})),a.attr({transform:"translate(".concat(m,", ").concat(y-5,") scale(").concat(g,")")}),i.attr({"data:innerTranslateX":m,"data:innerTranslateY":y-25}),a.add(x),i.add(a),this.donutDataLabels.show){var w=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:m,translateY:y});i.add(w)}return i}},{key:"drawArcs",value:function(t,e){var n=this.w,i=new g(this.ctx),r=new v(this.ctx),o=new E(this.ctx),s=r.group({class:"mscharts-slices"}),a=0,l=0,c=0,h=0;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var u=0;u<t.length;u++){var d=r.group({class:"mscharts-series mscharts-pie-series",seriesName:p.escapeString(n.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});s.add(d),c=(a=c)+t[u],h=(l=h)+this.prevSectorAngleArr[u];var f=c-a,m=o.fillPath({seriesNumber:u,size:n.globals.radialSize,value:e[u]}),y=this.getChangedPath(l,h),b=r.drawPath({d:y,stroke:this.lineColorArr instanceof Array?this.lineColorArr[u]:this.lineColorArr,strokeWidth:this.strokeWidth,fill:m,fillOpacity:n.config.fill.opacity,classes:"mscharts-pie-area mscharts-".concat(n.config.chart.type,"-slice-").concat(u)});b.attr({index:0,j:u}),n.config.chart.dropShadow.enabled&&i.dropShadow(b,n.config.chart.dropShadow,u),this.addListeners(b,this.donutDataLabels),v.setAttrs(b.node,{"data:angle":f,"data:startAngle":a,"data:strokeWidth":this.strokeWidth,"data:value":e[u]});var x={x:0,y:0};"pie"===n.config.chart.type?x=p.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,a+(c-a)/2):"donut"===n.config.chart.type&&(x=p.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,a+(c-a)/2)),d.add(b);var w=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):(this.animDur=(w=(c-a)/this.fullAngle*n.config.chart.animations.speed)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(b,this.dynamicAnim&&n.globals.dataChanged?{size:n.globals.radialSize,endAngle:c,startAngle:a,prevStartAngle:l,prevEndAngle:h,animateStartingPos:!0,i:u,animBeginArr:this.animBeginArr,dur:n.config.chart.animations.dynamicAnimation.speed}:{size:n.globals.radialSize,endAngle:c,startAngle:a,i:u,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:w}),n.config.plotOptions.pie.expandOnClick&&b.click(this.pieClicked.bind(this,u)),n.config.dataLabels.enabled){var S=x.x,k=x.y,C=100*(c-a)/360+"%";if(0!==f&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[u]){var A=n.config.dataLabels.formatter;void 0!==A&&(C=A(n.globals.seriesPercent[u][0],{seriesIndex:u,w:n}));var _=r.drawText({x:S,y:k,text:C,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,foreColor:n.globals.dataLabels.style.colors[u]});if(n.config.dataLabels.dropShadow.enabled){var T=n.config.dataLabels.dropShadow;new g(this.ctx).dropShadow(_,T)}_.node.classList.add("mscharts-pie-label"),n.config.chart.animations.animate&&!1===n.globals.resized&&(_.node.classList.add("mscharts-pie-label-delay"),_.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(_)}}}return s}},{key:"addListeners",value:function(t,e){var n=new v(this.ctx);t.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",n.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var n=e.endAngle-e.startAngle,i=n,r=e.startAngle,o=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(r=e.prevEndAngle,i=e.prevEndAngle-e.prevStartAngle),e.i===this.w.config.series.length-1&&(n+o>this.fullAngle?e.endAngle=e.endAngle-(n+o):n+o<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(n+o)))),n===this.fullAngle&&(n=this.fullAngle-.01),this.animateArc(t,r,o,n,i,e)}},{key:"animateArc",value:function(t,e,n,i,r,o){var s,a=this,l=this.w,c=new m(this.ctx),h=o.size;(isNaN(e)||isNaN(r))&&(e=n,r=i,o.dur=0);var u=i,d=n,f=e-n;l.globals.dataChanged&&o.shouldSetPrevPaths&&(s=a.getPiePath({me:a,startAngle:d,angle:r,size:h}),t.attr({d:s})),0!==o.dur?t.animate(o.dur,l.globals.easing,o.animBeginArr[o.i]).afterAll((function(){"pie"!==l.config.chart.type&&"donut"!==l.config.chart.type||this.animate(300).attr({"stroke-width":l.config.stroke.width}),o.i===l.config.series.length-1&&c.animationCompleted(t)})).during((function(l){u=f+(i-f)*l,o.animateStartingPos&&(u=r+(i-r)*l,d=e-r+(n-(e-r))*l),s=a.getPiePath({me:a,startAngle:d,angle:u,size:h}),t.node.setAttribute("data:pathOrig",s),t.attr({d:s})})):(s=a.getPiePath({me:a,startAngle:d,angle:i,size:h}),o.isTrack||(l.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",s),t.attr({d:s}))}},{key:"pieClicked",value:function(t){var e,n=this.w,i=this.w.globals.radialSize+4,r=n.globals.dom.Paper.select(".mscharts-".concat(n.config.chart.type.toLowerCase(),"-slice-").concat(t)).members[0],o=r.attr("d");if("true"!==r.attr("data:pieClicked")){var s=n.globals.dom.baseEl.querySelectorAll(".mscharts-pie-area");Array.prototype.forEach.call(s,(function(t){t.setAttribute("data:pieClicked","false");var e=t.getAttribute("data:pathOrig");t.setAttribute("d",e)})),r.attr("data:pieClicked","true");var a=parseInt(r.attr("data:startAngle")),l=parseInt(r.attr("data:angle"));e=this.getPiePath({me:this,startAngle:a,angle:l,size:i}),360!==l&&r.plot(e).animate(1).plot(o).animate(100).plot(e)}else{r.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(r.node,this.donutDataLabels);var c=r.attr("data:pathOrig");r.attr({d:c})}}},{key:"getChangedPath",value:function(t,e){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),n}},{key:"getPiePath",value:function(t){var e=t.me,n=t.startAngle,i=t.angle,r=t.size,o=this.w,s=n,a=Math.PI*(s-90)/180,l=i+n;Math.ceil(l)>=360&&(l=359.99);var c=Math.PI*(l-90)/180,h=e.centerX+r*Math.cos(a),u=e.centerY+r*Math.sin(a),d=e.centerX+r*Math.cos(c),f=e.centerY+r*Math.sin(c),g=p.polarToCartesian(e.centerX,e.centerY,e.donutSize,l),m=p.polarToCartesian(e.centerX,e.centerY,e.donutSize,s),v=i>180?1:0;return"donut"===o.config.chart.type?["M",h,u,"A",r,r,0,v,1,d,f,"L",g.x,g.y,"A",e.donutSize,e.donutSize,0,v,0,m.x,m.y,"L",h,u,"z"].join(" "):"pie"===o.config.chart.type?["M",h,u,"A",r,r,0,v,1,d,f,"L",e.centerX,e.centerY,"L",h,u].join(" "):["M",h,u,"A",r,r,0,v,1,d,f].join(" ")}},{key:"renderInnerDataLabels",value:function(t,e){var n=this.w,i=new v(this.ctx),r=i.group({class:"mscharts-datalabels-group",transform:"translate(".concat(e.translateX?e.translateX:0,", ").concat(e.translateY?e.translateY:0,")")}),o=t.total.show;r.node.style.opacity=e.opacity;var s,a,l=e.centerX,c=e.centerY;s=void 0===t.name.color?n.globals.colors[0]:t.name.color,a=void 0===t.value.color?n.config.chart.foreColor:t.value.color;var h=t.value.formatter,u="",d="";if(o?(s=t.total.color,d=t.total.label,u=t.total.formatter(n)):1===n.globals.series.length&&(u=h(n.globals.series[0],n),d=n.globals.seriesNames[0]),t.name.show){var f=i.drawText({x:l,y:c+parseInt(t.name.offsetY),text:d,textAnchor:"middle",foreColor:s,fontSize:t.name.fontSize,fontFamily:t.name.fontFamily});f.node.classList.add("mscharts-datalabel-label"),r.add(f)}if(t.value.show){var p=t.name.show?parseInt(t.value.offsetY)+16:t.value.offsetY,g=i.drawText({x:l,y:c+p,text:u,textAnchor:"middle",foreColor:a,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});g.node.classList.add("mscharts-datalabel-value"),r.add(g)}return r}},{key:"printInnerLabels",value:function(t,e,n,i){var r,o=this.w;i?r=void 0===t.name.color?o.globals.colors[parseInt(i.parentNode.getAttribute("rel"))-1]:t.name.color:o.globals.series.length>1&&t.total.show&&(r=t.total.color);var s=o.globals.dom.baseEl.querySelector(".mscharts-datalabel-label"),a=o.globals.dom.baseEl.querySelector(".mscharts-datalabel-value");n=(0,t.value.formatter)(n,o),i||"function"!=typeof t.total.formatter||(n=t.total.formatter(o)),null!==s&&(s.textContent=e),null!==a&&(a.textContent=n),null!==s&&(s.style.fill=r)}},{key:"printDataLabelsInner",value:function(t,e){var n=this.w,i=t.getAttribute("data:value"),r=n.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"))-1];n.globals.series.length>1&&this.printInnerLabels(e,r,i,t);var o=n.globals.dom.baseEl.querySelector(".mscharts-datalabels-group");null!==o&&(o.style.opacity=1)}},{key:"revertDataLabelsInner",value:function(e,n,i){var r=this,o=this.w,s=o.globals.dom.baseEl.querySelector(".mscharts-datalabels-group");if(n.total.show&&o.globals.series.length>1)new t(this.ctx).printInnerLabels(n,n.total.label,n.total.formatter(o));else{var a=document.querySelectorAll(".mscharts-pie-area"),l=!1;if(Array.prototype.forEach.call(a,(function(t){"true"===t.getAttribute("data:pieClicked")&&(l=!0,r.printDataLabelsInner(t,n))})),!l)if(o.globals.selectedDataPoints.length&&o.globals.series.length>1)if(o.globals.selectedDataPoints[0].length>0){var c=o.globals.selectedDataPoints[0],h=o.globals.dom.baseEl.querySelector(".mscharts-".concat(o.config.chart.type.toLowerCase(),"-slice-").concat(c));this.printDataLabelsInner(h,n)}else s&&o.globals.selectedDataPoints.length&&0===o.globals.selectedDataPoints[0].length&&(s.style.opacity=0);else s&&o.globals.series.length>1&&(s.style.opacity=0)}}}]),t}(),z=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var n=this.w;this.graphics=new v(this.ctx),this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.svgHeight-35:n.globals.gridWidth,this.maxValue=this.w.globals.maxY,this.polygons=n.config.plotOptions.radar.polygons,this.maxLabelWidth=20;var i=n.globals.labels.slice().sort((function(t,e){return e.length-t.length}))[0],o=this.graphics.getTextRects(i,n.config.dataLabels.style.fontSize);this.size=this.defaultSize/2.1-n.config.stroke.width-n.config.chart.dropShadow.blur-o.width/1.75,void 0!==n.config.plotOptions.radar.size&&(this.size=n.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return s(t,[{key:"draw",value:function(t){var e=this,n=this.w,i=new E(this.ctx),r=[];t.length&&(this.dataPointsLen=t[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=n.globals.gridWidth/2,s=n.globals.gridHeight/2,a=this.graphics.group({class:"mscharts-radar-series","data:innerTranslateX":o,"data:innerTranslateY":s-25,transform:"translate(".concat(o||0,", ").concat(s||0,")")}),l=[],h=null;if(this.yaxisLabels=this.graphics.group({class:"mscharts-yaxis"}),t.forEach((function(t,o){var s=e.graphics.group().attr({class:"mscharts-series",seriesName:p.escapeString(n.globals.seriesNames[o]),rel:o+1,"data:realIndex":o});e.dataRadiusOfPercent[o]=[],e.dataRadius[o]=[],e.angleArr[o]=[],t.forEach((function(t,n){e.dataRadiusOfPercent[o][n]=t/e.maxValue,e.dataRadius[o][n]=e.dataRadiusOfPercent[o][n]*e.size,e.angleArr[o][n]=n*e.disAngle})),l=e.getDataPointsPos(e.dataRadius[o],e.angleArr[o]);var a=e.createPaths(l,{x:0,y:0});h=e.graphics.group({class:"mscharts-series-markers-wrap hidden"}),n.globals.delayedElements.push({el:h.node,index:o});var u={i:o,realIndex:o,animationDelay:o,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"mscharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[o],strokeLineCap:n.config.stroke.lineCap},d=null;n.globals.previousPaths.length>0&&(d=e.getPathFrom(o));for(var f=0;f<a.linePathsTo.length;f++){var m=e.graphics.renderPaths(c({},u,{pathFrom:null===d?a.linePathsFrom[f]:d,pathTo:a.linePathsTo[f],strokeWidth:Array.isArray(n.config.stroke.width)?n.config.stroke.width[o]:n.config.stroke.width,fill:"none",drawShadow:!1}));s.add(m);var v=i.fillPath({seriesNumber:o}),y=e.graphics.renderPaths(c({},u,{pathFrom:null===d?a.areaPathsFrom[f]:d,pathTo:a.areaPathsTo[f],strokeWidth:0,fill:v,drawShadow:!1}));n.config.chart.dropShadow.enabled&&new g(e.ctx).dropShadow(y,Object.assign({},n.config.chart.dropShadow,{noUserSpaceOnUse:!0}),o),s.add(y)}t.forEach((function(t,n){var i=new T(e.ctx).getMarkerConfig("mscharts-marker",o,n),r=e.graphics.drawMarker(l[n].x,l[n].y,i);r.attr("rel",n),r.attr("j",n),r.attr("index",o),r.node.setAttribute("default-marker-size",i.pSize);var a=e.graphics.group({class:"mscharts-series-markers"});a&&a.add(r),h.add(a),s.add(h)})),r.push(s)})),this.drawPolygons({parent:a}),n.config.dataLabels.enabled){var u=this.drawLabels();a.add(u)}return a.add(this.yaxisLabels),r.forEach((function(t){a.add(t)})),a}},{key:"drawPolygons",value:function(t){for(var e=this,n=this.w,i=t.parent,r=n.globals.yAxisScale[0].result.reverse(),o=r.length,s=[],a=this.size/(o-1),l=0;l<o;l++)s[l]=a*l;s.reverse();var c=[],h=[];s.forEach((function(t,n){var i=e.getPolygonPos(t),r="";i.forEach((function(t,i){if(0===n){var o=e.graphics.drawLine(t.x,t.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[i]:e.polygons.connectorColors);h.push(o)}0===i&&e.yaxisLabelsTextsPos.push({x:t.x,y:t.y}),r+=t.x+","+t.y+" "})),c.push(r)})),c.forEach((function(t,r){var o=e.polygons.strokeColors,s=e.graphics.drawPolygon(t,Array.isArray(o)?o[r]:o,n.globals.radarPolygons.fill.colors[r]);i.add(s)})),h.forEach((function(t){i.add(t)})),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(t,n){var i=e.drawYAxisText(t.x,t.y,n,r[n]);e.yaxisLabels.add(i)}))}},{key:"drawYAxisText",value:function(t,e,n,i){var r=this.w,o=r.config.yaxis[0];return this.graphics.drawText({x:t+o.labels.offsetX,y:e+o.labels.offsetY,text:(0,r.globals.yLabelFormatters[0])(i,n),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:o.labels.style.color})}},{key:"drawLabels",value:function(){var t=this,e=this.w,n="middle",i=e.config.dataLabels,r=this.graphics.group({class:"mscharts-datalabels"}),o=this.getPolygonPos(this.size),s=0,a=0;return e.globals.labels.forEach((function(l,c){var h=i.formatter,u=new I(t.ctx);if(o[c]){s=o[c].x,a=o[c].y,Math.abs(o[c].x)>=10?o[c].x>0?(n="start",s+=10):o[c].x<0&&(n="end",s-=10):n="middle",Math.abs(o[c].y)>=t.size-10&&(o[c].y<0?a-=10:o[c].y>0&&(a+=10));var d=h(l,{seriesIndex:-1,dataPointIndex:c,w:e});u.plotDataLabelsText({x:s,y:a,text:d,textAnchor:n,i:c,j:c,parent:r,dataLabelsConfig:i,offsetCorrection:!1})}})),r}},{key:"createPaths",value:function(t,e){var n=this,i=[],r=[],o=[],s=[];if(t.length){r=[this.graphics.move(e.x,e.y)],s=[this.graphics.move(e.x,e.y)];var a=this.graphics.move(t[0].x,t[0].y),l=this.graphics.move(t[0].x,t[0].y);t.forEach((function(e,i){a+=n.graphics.line(e.x,e.y),l+=n.graphics.line(e.x,e.y),i===t.length-1&&(a+="Z",l+="Z")})),i.push(a),o.push(l)}return{linePathsFrom:r,linePathsTo:i,areaPathsFrom:s,areaPathsTo:o}}},{key:"getPathFrom",value:function(t){for(var e=this.w,n=null,i=0;i<e.globals.previousPaths.length;i++){var r=e.globals.previousPaths[i];r.paths.length>0&&parseInt(r.realIndex)===parseInt(t)&&void 0!==e.globals.previousPaths[i].paths[0]&&(n=e.globals.previousPaths[i].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var i=[],r=0;r<n;r++){var o={};o.x=t[r]*Math.sin(e[r]),o.y=-t[r]*Math.cos(e[r]),i.push(o)}return i}},{key:"getPolygonPos",value:function(t){for(var e=[],n=2*Math.PI/this.dataPointsLen,i=0;i<this.dataPointsLen;i++){var r={};r.x=t*Math.sin(i*n),r.y=-t*Math.cos(i*n),e.push(r)}return e}}]),t}(),F=function(t){function e(t){var n;r(this,e),(n=d(this,u(e).call(this,t))).ctx=t,n.w=t.w,n.animBeginArr=[0],n.animDur=0;var i=n.w;return n.startAngle=i.config.plotOptions.radialBar.startAngle,n.endAngle=i.config.plotOptions.radialBar.endAngle,n.trackStartAngle=i.config.plotOptions.radialBar.track.startAngle,n.trackEndAngle=i.config.plotOptions.radialBar.track.endAngle,n.radialDataLabels=i.config.plotOptions.radialBar.dataLabels,n.trackStartAngle||(n.trackStartAngle=n.startAngle),n.trackEndAngle||(n.trackEndAngle=n.endAngle),360===n.endAngle&&(n.endAngle=359.99),n.fullAngle=360-i.config.plotOptions.radialBar.endAngle-i.config.plotOptions.radialBar.startAngle,n.margin=parseInt(i.config.plotOptions.radialBar.track.margin),n}return h(e,D),s(e,[{key:"draw",value:function(t){var e=this.w,n=new v(this.ctx),i=n.group({class:"mscharts-radialbar"});if(e.globals.noData)return i;var r=n.group(),o=this.defaultSize/2,s=e.globals.gridWidth/2,a=this.defaultSize/2.05-e.config.stroke.width-e.config.chart.dropShadow.blur;void 0!==e.config.plotOptions.radialBar.size&&(a=e.config.plotOptions.radialBar.size);var l=e.globals.fill.colors;if(e.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:a,centerX:s,centerY:o,colorArr:l,series:t});r.add(c)}var h=this.drawArcs({size:a,centerX:s,centerY:o,colorArr:l,series:t}),u=360;e.config.plotOptions.radialBar.startAngle<0&&(u=Math.abs(e.config.plotOptions.radialBar.endAngle-e.config.plotOptions.radialBar.startAngle));var d=(360-u)/360;if(e.globals.radialSize=a-a*d,this.radialDataLabels.value.show){var f=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);e.globals.radialSize+=f*d}return r.add(h.g),"front"===e.config.plotOptions.radialBar.hollow.position&&(h.g.add(h.elHollow),h.dataLabels&&h.g.add(h.dataLabels)),i.add(r),i}},{key:"drawTracks",value:function(t){var e=this.w,n=new v(this.ctx),i=n.group({class:"mscharts-tracks"}),r=new g(this.ctx),o=new E(this.ctx),s=this.getStrokeWidth(t);t.size=t.size-s/2;for(var a=0;a<t.series.length;a++){var l=n.group({class:"mscharts-radialbar-track mscharts-track"});i.add(l),l.attr({rel:a+1}),t.size=t.size-s-this.margin;var c=e.config.plotOptions.radialBar.track,h=o.fillPath({seriesNumber:0,size:t.size,fillColors:Array.isArray(c.background)?c.background[a]:c.background,solid:!0}),u=this.trackStartAngle,d=this.trackEndAngle;Math.abs(d)+Math.abs(u)>=360&&(d=360-Math.abs(this.startAngle)-.1);var f=n.drawPath({d:"",stroke:h,strokeWidth:s*parseInt(c.strokeWidth)/100,fill:"none",strokeOpacity:c.opacity,classes:"mscharts-radialbar-area"});c.dropShadow.enabled&&r.dropShadow(f,c.dropShadow),l.add(f),f.attr("id","mscharts-radialbarTrack-"+a),this.animatePaths(f,{centerX:t.centerX,centerY:t.centerY,endAngle:d,startAngle:u,size:t.size,i:a,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:e.globals.easing})}return i}},{key:"drawArcs",value:function(t){var e=this.w,n=new v(this.ctx),i=new E(this.ctx),r=new g(this.ctx),o=n.group(),s=this.getStrokeWidth(t);t.size=t.size-s/2;var a=e.config.plotOptions.radialBar.hollow.background,l=t.size-s*t.series.length-this.margin*t.series.length-s*parseInt(e.config.plotOptions.radialBar.track.strokeWidth)/100/2,c=l-e.config.plotOptions.radialBar.hollow.margin;void 0!==e.config.plotOptions.radialBar.hollow.image&&(a=this.drawHollowImage(t,o,l,a));var h=this.drawHollow({size:c,centerX:t.centerX,centerY:t.centerY,fill:a});e.config.plotOptions.radialBar.hollow.dropShadow.enabled&&r.dropShadow(h,e.config.plotOptions.radialBar.hollow.dropShadow);var u=1;!this.radialDataLabels.total.show&&e.globals.series.length>1&&(u=0);var d=null;this.radialDataLabels.show&&(d=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:t.centerX,centerY:t.centerY,opacity:u})),"back"===e.config.plotOptions.radialBar.hollow.position&&(o.add(h),d&&o.add(d));var f=!1;e.config.plotOptions.radialBar.inverseOrder&&(f=!0);for(var m=f?t.series.length-1:0;f?m>=0:m<t.series.length;f?m--:m++){var y=n.group({class:"mscharts-series mscharts-radial-series",seriesName:p.escapeString(e.globals.seriesNames[m])});o.add(y),y.attr({rel:m+1,"data:realIndex":m}),this.ctx.series.addCollapsedClassToSeries(y,m),t.size=t.size-s-this.margin;var b=i.fillPath({seriesNumber:m,size:t.size,value:t.series[m]}),x=this.startAngle,w=void 0,S=Math.abs(e.config.plotOptions.radialBar.endAngle-e.config.plotOptions.radialBar.startAngle),k=p.negToZero(t.series[m]>100?100:t.series[m])/100,C=Math.round(S*k)+this.startAngle,A=void 0;e.globals.dataChanged&&(w=this.startAngle,A=Math.round(S*p.negToZero(e.globals.previousPaths[m])/100)+w),Math.abs(C)+Math.abs(x)>=360&&(C-=.01),Math.abs(A)+Math.abs(w)>=360&&(A-=.01);var _=C-x,T=Array.isArray(e.config.stroke.dashArray)?e.config.stroke.dashArray[m]:e.config.stroke.dashArray,P=n.drawPath({d:"",stroke:b,strokeWidth:s,fill:"none",fillOpacity:e.config.fill.opacity,classes:"mscharts-radialbar-area mscharts-radialbar-slice-"+m,strokeDashArray:T});v.setAttrs(P.node,{"data:angle":_,"data:value":t.series[m]}),e.config.chart.dropShadow.enabled&&r.dropShadow(P,e.config.chart.dropShadow,m),this.addListeners(P,this.radialDataLabels),y.add(P),P.attr({index:0,j:m});var I=0;!this.initialAnim||e.globals.resized||e.globals.dataChanged||(this.animDur=(I=(C-x)/360*e.config.chart.animations.speed)/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),e.globals.dataChanged&&(this.animDur=(I=(C-x)/360*e.config.chart.animations.dynamicAnimation.speed)/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(P,{centerX:t.centerX,centerY:t.centerY,endAngle:C,startAngle:x,prevEndAngle:A,prevStartAngle:w,size:t.size,i:m,totalItems:2,animBeginArr:this.animBeginArr,dur:I,shouldSetPrevPaths:!0,easing:e.globals.easing})}return{g:o,elHollow:h,dataLabels:d}}},{key:"drawHollow",value:function(t){var e=new v(this.ctx).drawCircle(2*t.size);return e.attr({class:"mscharts-radialbar-hollow",cx:t.centerX,cy:t.centerY,r:t.size,fill:t.fill}),e}},{key:"drawHollowImage",value:function(t,e,n,i){var r=this.w,o=new E(this.ctx),s=(Math.random()+1).toString(36).substring(4),a=r.config.plotOptions.radialBar.hollow.image;if(r.config.plotOptions.radialBar.hollow.imageClipped)o.clippedImgArea({width:n,height:n,image:a,patternID:"pattern".concat(r.globals.cuid).concat(s)}),i="url(#pattern".concat(r.globals.cuid).concat(s,")");else{var l=r.config.plotOptions.radialBar.hollow.imageWidth,c=r.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var h=r.globals.dom.Paper.image(a).loaded((function(e){this.move(t.centerX-e.width/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-e.height/2+r.config.plotOptions.radialBar.hollow.imageOffsetY)}));e.add(h)}else{var u=r.globals.dom.Paper.image(a).loaded((function(e){this.move(t.centerX-l/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,t.centerY-c/2+r.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)}));e.add(u)}}return i}},{key:"getStrokeWidth",value:function(t){return t.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size))/100/(t.series.length+1)-this.margin}}]),e}(),V=function(t){function e(){return r(this,e),d(this,u(e).apply(this,arguments))}return h(e,M),s(e,[{key:"draw",value:function(t,e){var n=this.w,i=new v(this.ctx),r=new E(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=t,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.initVariables(t);for(var o=i.group({class:"mscharts-rangebar-series mscharts-plot-series"}),s=0,a=0;s<t.length;s++,a++){var l,c,h,u,d=void 0,f=void 0,g=void 0,m=void 0,y=n.globals.comboCharts?e[s]:s,b=i.group({class:"mscharts-series",seriesName:p.escapeString(n.globals.seriesNames[y]),rel:s+1,"data:realIndex":y});t[s].length>0&&(this.visibleI=this.visibleI+1);var x=0,w=0,S=0;this.yRatio.length>1&&(this.yaxisIndex=y);var k=this.initialPositions();m=k.y,c=k.yDivision,w=k.barHeight,u=k.zeroW,g=k.x,S=k.barWidth,l=k.xDivision,h=k.zeroH;for(var C=i.group({class:"mscharts-datalabels"}),A=0,_=n.globals.dataPoints;A<n.globals.dataPoints;A++,_--){this.isNullValue=!1,void 0!==this.series[s][A]&&null!==t[s][A]||(this.isNullValue=!0),n.config.stroke.show&&(x=this.isNullValue?0:Array.isArray(this.strokeWidth)?this.strokeWidth[y]:this.strokeWidth);var T=null;this.isHorizontal?S=(T=this.drawRangeBarPaths({indexes:{i:s,j:A,realIndex:y,bc:a},barHeight:w,strokeWidth:x,pathTo:d,pathFrom:f,zeroW:u,x:g,y:m,yDivision:c,elSeries:b})).barWidth:w=(T=this.drawRangeColumnPaths({indexes:{i:s,j:A,realIndex:y,bc:a},x:g,y:m,xDivision:l,pathTo:d,pathFrom:f,barWidth:S,zeroH:h,strokeWidth:x,elSeries:b})).barHeight,d=T.pathTo,f=T.pathFrom,m=T.y,g=T.x;var P=r.fillPath({seriesNumber:y});b=this.renderSeries({realIndex:y,pathFill:P,lineFill:n.globals.stroke.colors[y],j:A,i:s,pathFrom:f,pathTo:d,strokeWidth:x,elSeries:b,x:g,y:m,series:t,barHeight:w,barWidth:S,elDataLabelsWrap:C,visibleSeries:this.visibleI,type:"rangebar"})}o.add(b)}return o}},{key:"drawRangeColumnPaths",value:function(t){var e,n=t.indexes,i=t.x,r=t.strokeWidth,o=t.xDivision,s=t.pathFrom,a=t.barWidth,l=t.zeroH,c=this.w,h=new v(this.ctx),u=n.i,d=n.j,f=this.yRatio[this.yaxisIndex],p=n.realIndex,g=this.getRangeValue(p,d),m=Math.min(g.start,g.end),y=Math.max(g.start,g.end);c.globals.isXNumeric&&(i=(c.globals.seriesX[u][d]-c.globals.minX)/this.xRatio-a/2);var b=i+a*this.visibleI;null==this.series[u][d]?m=l:(m=l-m/f,y=l-y/f);var x=Math.abs(y-m);return h.move(b,l),s=h.move(b,m),c.globals.previousPaths.length>0&&(s=this.getPathFrom(p,d,!0)),e=h.move(b,y)+h.line(b+a,y)+h.line(b+a,m)+h.line(b,m)+h.line(b,y-r/2),s=s+h.move(b,m)+h.line(b+a,m)+h.line(b+a,m)+h.line(b,m),c.globals.isXNumeric||(i+=o),{pathTo:e,pathFrom:s,barHeight:x,x:i,y:y,barXPosition:b}}},{key:"drawRangeBarPaths",value:function(t){var e,n=t.indexes,i=t.y,r=t.yDivision,o=t.pathFrom,s=t.barHeight,a=t.zeroW,l=this.w,c=new v(this.ctx),h=n.i,u=n.j,d=n.realIndex,f=a,p=a;l.globals.isXNumeric&&(i=(l.globals.seriesX[h][u]-l.globals.minX)/this.invertedXRatio-s);var g=i+s*this.visibleI;null!=this.series[h][u]&&(f=a+this.seriesRangeStart[h][u]/this.invertedYRatio,p=a+this.seriesRangeEnd[h][u]/this.invertedYRatio),c.move(a,g),o=c.move(a,g),l.globals.previousPaths.length>0&&(o=this.getPathFrom(d,u));var m=Math.abs(p-f);return e=c.move(f,g)+c.line(p,g)+c.line(p,g+s)+c.line(f,g+s)+c.line(f,g),o=o+c.line(f,g)+c.line(f,g+s)+c.line(f,g+s)+c.line(f,g),l.globals.isXNumeric||(i+=r),{pathTo:e,pathFrom:o,barWidth:m,x:p,y:i,barYPosition:g}}},{key:"getRangeValue",value:function(t,e){var n=this.w;return{start:n.globals.seriesRangeStart[t][e],end:n.globals.seriesRangeEnd[t][e]}}}]),e}(),X=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return s(t,[{key:"xLabelFormat",value:function(t,e,n){var i=this.w;return"datetime"===i.config.xaxis.type&&void 0===i.config.xaxis.labels.formatter&&void 0===i.config.tooltip.x.formatter?new w(this.ctx).formatDate(new Date(e),i.config.tooltip.x.format,!0,!0):t(e,n)}},{key:"setLabelFormatters",value:function(){var t=this.w;return t.globals.xLabelFormatter=function(t){return t},t.globals.xaxisTooltipFormatter=function(t){return t},t.globals.ttKeyFormatter=function(t){return t},t.globals.ttZFormatter=function(t){return t},t.globals.legendFormatter=function(t){return t},t.globals.xLabelFormatter=void 0!==t.config.xaxis.labels.formatter?t.config.xaxis.labels.formatter:function(e){return p.isNumber(e)?e.toFixed("numeric"===t.config.xaxis.type&&t.globals.dataPoints<50?1:t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?1:0):e},t.globals.ttKeyFormatter="function"==typeof t.config.tooltip.x.formatter?t.config.tooltip.x.formatter:t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),Array.isArray(t.config.tooltip.y)?t.globals.ttVal=t.config.tooltip.y:void 0!==t.config.tooltip.y.formatter&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(e,n){t.globals.yLabelFormatters[n]=void 0!==e.labels.formatter?e.labels.formatter:function(i){return t.globals.xyCharts&&p.isNumber(i)?i.toFixed(0!==t.globals.yValueDecimal?void 0!==e.decimalsInFloat?e.decimalsInFloat:t.globals.yValueDecimal:t.globals.maxYArr[n]-t.globals.minYArr[n]<10?1:0):i}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce((function(t,e){return t.length>e.length?t:e}),0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),t}(),H=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getLabel",value:function(t,e,n,i){var r,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=this.w,a=void 0===t[i]?"":t[i],l=s.globals.xLabelFormatter,c=s.config.xaxis.labels.formatter,h=!1,u=new X(this.ctx),d=a;r=u.xLabelFormat(l,a,d),void 0!==c&&(r=c(a,t[i],i));var f=function(t){var n=null;return e.forEach((function(t){"month"===t.unit?n="year":"day"===t.unit?n="month":"hour"===t.unit?n="day":"minute"===t.unit&&(n="hour")})),n===t};return e.length>0?(h=f(e[i].unit),n=e[i].position,r=e[i].value):"datetime"===s.config.xaxis.type&&void 0===c&&(r=""),void 0===r&&(r=""),(0===(r=r.toString()).indexOf("NaN")||0===r.toLowerCase().indexOf("invalid")||r.toLowerCase().indexOf("infinity")>=0||o.indexOf(r)>=0&&!s.config.xaxis.labels.showDuplicates)&&(r=""),{x:n,text:r,isBold:h}}},{key:"drawYAxisTicks",value:function(t,e,n,i,r,o,s){var a=this.w,l=new v(this.ctx),c=a.globals.translateY;if(i.show){!0===a.config.yaxis[r].opposite&&(t+=i.width);for(var h=e;h>=0;h--){var u=c+e/10+a.config.yaxis[r].labels.offsetY-1;a.globals.isBarHorizontal&&(u=o*h);var d=l.drawLine(t+n.offsetX-i.width+i.offsetX,u+i.offsetY,t+n.offsetX+i.offsetX,u+i.offsetY,n.color);s.add(d),c+=o}}}}]),t}(),Y=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xAxisoffX=0,"bottom"===n.config.xaxis.position&&(this.xAxisoffX=n.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new H(e)}return s(t,[{key:"drawYaxis",value:function(t){var e=this.w,n=new v(this.ctx),i=e.config.yaxis[t].labels.style.fontSize,r=e.config.yaxis[t].labels.style.fontFamily,o=n.group({class:"mscharts-yaxis",rel:t,transform:"translate("+e.globals.translateYAxisX[t]+", 0)"});if(!e.config.yaxis[t].show)return o;var s=n.group({class:"mscharts-yaxis-texts-g"});o.add(s);var a=e.globals.yAxisScale[t].result.length-1,l=e.globals.gridHeight/a+.1,c=e.globals.translateY,h=e.globals.yLabelFormatters[t],u=e.globals.yAxisScale[t].result.slice();if(e.config.yaxis[t]&&e.config.yaxis[t].reversed&&u.reverse(),e.config.yaxis[t].labels.show)for(var d=a;d>=0;d--){var f=u[d];f=h(f,d);var p=e.config.yaxis[t].labels.padding;e.config.yaxis[t].opposite&&0!==e.config.yaxis.length&&(p*=-1);var g=n.drawText({x:p,y:c+a/10+e.config.yaxis[t].labels.offsetY+1,text:f,textAnchor:e.config.yaxis[t].opposite?"start":"end",fontSize:i,fontFamily:r,foreColor:e.config.yaxis[t].labels.style.color,cssClass:"mscharts-yaxis-label "+e.config.yaxis[t].labels.style.cssClass});s.add(g);var m=n.rotateAroundCenter(g.node);0!==e.config.yaxis[t].labels.rotate&&g.node.setAttribute("transform","rotate(".concat(e.config.yaxis[t].labels.rotate," ").concat(m.x," ").concat(m.y,")")),c+=l}if(void 0!==e.config.yaxis[t].title.text){var y=n.group({class:"mscharts-yaxis-title"}),b=0;e.config.yaxis[t].opposite&&(b=e.globals.translateYAxisX[t]);var x=n.drawText({x:b,y:e.globals.gridHeight/2+e.globals.translateY,text:e.config.yaxis[t].title.text,textAnchor:"end",foreColor:e.config.yaxis[t].title.style.color,fontSize:e.config.yaxis[t].title.style.fontSize,fontFamily:e.config.yaxis[t].title.style.fontFamily,cssClass:"mscharts-yaxis-title-text "+e.config.yaxis[t].title.style.cssClass});y.add(x),o.add(y)}var w=e.config.yaxis[t].axisBorder;if(w.show){var S=31+w.offsetX;e.config.yaxis[t].opposite&&(S=-31-w.offsetX);var k=n.drawLine(S,e.globals.translateY+w.offsetY-2,S,e.globals.gridHeight+e.globals.translateY+w.offsetY+2,w.color);o.add(k),this.axesUtils.drawYAxisTicks(S,a,w,e.config.yaxis[t].axisTicks,t,l,o)}return o}},{key:"drawYaxisInversed",value:function(t){var e=this.w,n=new v(this.ctx),i=n.group({class:"mscharts-xaxis mscharts-yaxis-inversed"}),r=n.group({class:"mscharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});i.add(r);var o=e.globals.yAxisScale[t].result.length-1,s=e.globals.gridWidth/o+.1,a=s+e.config.xaxis.labels.offsetX,l=e.globals.xLabelFormatter,c=e.globals.yAxisScale[t].result.slice(),h=e.globals.invertedTimelineLabels;h.length>0&&(this.xaxisLabels=h.slice(),o=(c=h.slice()).length),e.config.yaxis[t]&&e.config.yaxis[t].reversed&&c.reverse();var u=h.length;if(e.config.xaxis.labels.show)for(var d=u?0:o;u?d<u-1:d>=0;u?d++:d--){var f=c[d];f=l(f,d);var p=e.globals.gridWidth+e.globals.padHorizontal-(a-s+e.config.xaxis.labels.offsetX);if(h.length){var g=this.axesUtils.getLabel(c,h,p,d,this.drawnLabels);p=g.x,f=g.text,this.drawnLabels.push(g.text)}var m=n.drawText({x:p,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30,text:"",textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,cssClass:"mscharts-xaxis-label "+e.config.xaxis.labels.style.cssClass});r.add(m),m.tspan(f);var y=document.createElementNS(e.globals.SVGNS,"title");y.textContent=f,m.node.appendChild(y),a+=s}if(void 0!==e.config.xaxis.title.text){var b=n.group({class:"mscharts-xaxis-title mscharts-yaxis-title-inversed"}),x=n.drawText({x:e.globals.gridWidth/2,y:this.xAxisoffX+parseInt(this.xaxisFontSize)+parseInt(e.config.xaxis.title.style.fontSize)+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,cssClass:"mscharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});b.add(x),i.add(b)}var w=e.config.yaxis[t].axisBorder;if(w.show){var S=n.drawLine(e.globals.padHorizontal+w.offsetX,1+w.offsetY,e.globals.padHorizontal+w.offsetX,e.globals.gridHeight+w.offsetY,w.color);i.add(S)}return i}},{key:"yAxisTitleRotate",value:function(t,e){var n=this.w,i=new v(this.ctx),r={width:0,height:0},o={width:0,height:0},s=n.globals.dom.baseEl.querySelector(" .mscharts-yaxis[rel='".concat(t,"'] .mscharts-yaxis-texts-g"));null!==s&&(r=s.getBoundingClientRect());var a=n.globals.dom.baseEl.querySelector(".mscharts-yaxis[rel='".concat(t,"'] .mscharts-yaxis-title text"));if(null!==a&&(o=a.getBoundingClientRect()),null!==a){var l=this.xPaddingForYAxisTitle(t,r,o,e);a.setAttribute("x",l.xPos-(e?10:0))}if(null!==a){var c=i.rotateAroundCenter(a);a.setAttribute("transform",e?"rotate(".concat(n.config.yaxis[t].title.rotate," ").concat(c.x," ").concat(c.y,")"):"rotate(-".concat(n.config.yaxis[t].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,n,i){var r=this.w,o=0,s=0,a=10;return void 0===r.config.yaxis[t].title.text||t<0?{xPos:s,padd:0}:(i?(s=e.width+r.config.yaxis[t].title.offsetX+n.width/2+a/2,0===(o+=1)&&(s-=a/2)):(s=-1*e.width+r.config.yaxis[t].title.offsetX+a/2+n.width/2,r.globals.isBarHorizontal&&(s=-1*e.width-r.config.yaxis[t].title.offsetX-(a=25))),{xPos:s,padd:a})}},{key:"setYAxisXPosition",value:function(t,e){var n=this.w,i=0,r=0,o=21,s=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.map((function(a,l){var c=n.globals.ignoreYAxisIndexes.indexOf(l)>-1||!a.show||a.floating||0===t[l].width,h=t[l].width+e[l].width;a.opposite?n.globals.isBarHorizontal?n.globals.translateYAxisX[l]=(r=n.globals.gridWidth+n.globals.translateX-1)-a.labels.offsetX:(r=n.globals.gridWidth+n.globals.translateX+s,c||(s=s+h+20),n.globals.translateYAxisX[l]=r-a.labels.offsetX+20):(i=n.globals.translateX-o,c||(o=o+h+20),n.globals.translateYAxisX[l]=i+a.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".mscharts-yaxis");(e=p.listToArray(e)).forEach((function(e,n){var i=t.config.yaxis[n];if(void 0!==i.labels.align){var r=t.globals.dom.baseEl.querySelector(".mscharts-yaxis[rel='".concat(n,"'] .mscharts-yaxis-texts-g")),o=t.globals.dom.baseEl.querySelectorAll(".mscharts-yaxis[rel='".concat(n,"'] .mscharts-yaxis-label"));o=p.listToArray(o);var s=r.getBoundingClientRect();"left"===i.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","start")})),i.opposite||r.setAttribute("transform","translate(-".concat(s.width,", 0)"))):"center"===i.labels.align?(o.forEach((function(t,e){t.setAttribute("text-anchor","middle")})),r.setAttribute("transform","translate(".concat(s.width/2*(i.opposite?1:-1),", 0)"))):"right"===i.labels.align&&(o.forEach((function(t,e){t.setAttribute("text-anchor","end")})),i.opposite&&r.setAttribute("transform","translate(".concat(s.width,", 0)")))}}))}}]),t}(),j=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.xPadRight=0,this.xPadLeft=0}return s(t,[{key:"plotCoords",value:function(){var t=this.w,e=t.globals,n=this.getLegendsRect();e.axisCharts?this.setGridCoordsForAxisCharts(n):this.setGridCoordsForNonAxisCharts(n),this.titleSubtitleOffset(),e.gridHeight=e.gridHeight-t.config.grid.padding.top-t.config.grid.padding.bottom,e.gridWidth=e.gridWidth-t.config.grid.padding.left-t.config.grid.padding.right-this.xPadRight-this.xPadLeft,e.translateX=e.translateX+t.config.grid.padding.left+this.xPadLeft,e.translateY=e.translateY+t.config.grid.padding.top}},{key:"conditionalChecksForAxisCoords",value:function(t,e){var n=this.w;this.xAxisHeight=(t.height+e.height)*n.globals.LINE_HEIGHT_RATIO+15,this.xAxisWidth=t.width,this.xAxisHeight-e.height>n.config.xaxis.labels.maxHeight&&(this.xAxisHeight=n.config.xaxis.labels.maxHeight),n.config.xaxis.labels.minHeight&&this.xAxisHeight<n.config.xaxis.labels.minHeight&&(this.xAxisHeight=n.config.xaxis.labels.minHeight),n.config.xaxis.floating&&(this.xAxisHeight=0),this.yAxisWidth=n.globals.isBarHorizontal?n.globals.yLabelsCoords[0].width+n.globals.yTitleCoords[0].width+15:this.getTotalYAxisWidth();var i=0,r=0;n.config.yaxis.forEach((function(t){i+=t.labels.minWidth,r+=t.labels.maxWidth})),this.yAxisWidth<i&&(this.yAxisWidth=i),this.yAxisWidth>r&&(this.yAxisWidth=r)}},{key:"setGridCoordsForAxisCharts",value:function(t){var e=this.w,n=e.globals,i=this.getyAxisLabelsCoords(),r=this.getxAxisLabelsCoords(),o=this.getyAxisTitleCoords(),s=this.getxAxisTitleCoords();e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map((function(t,n){e.globals.yLabelsCoords.push({width:i[n].width,index:n}),e.globals.yTitleCoords.push({width:o[n].width,index:n})})),this.conditionalChecksForAxisCoords(r,s),n.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize)/1.5*-1),n.translateXAxisY=n.translateXAxisY+e.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+e.config.xaxis.labels.offsetX;var a=this.yAxisWidth,l=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight,n.xAxisHeight=this.xAxisHeight;var c=10;switch(e.config.grid.show&&"radar"!==e.config.chart.type||(a=0,l=35),this.isSparkline&&(t={height:0,width:0},l=0,a=0,c=0),this.additionalPaddingXLabels(r),e.config.legend.position){case"bottom":n.translateY=c,n.translateX=a,n.gridHeight=n.svgHeight-t.height-l-(this.isSparkline?0:e.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-a;break;case"top":n.translateY=t.height+c,n.translateX=a,n.gridHeight=n.svgHeight-t.height-l-(this.isSparkline?0:e.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-a;break;case"left":n.translateY=c,n.translateX=t.width+a,n.gridHeight=n.svgHeight-l-12,n.gridWidth=n.svgWidth-t.width-a;break;case"right":n.translateY=c,n.translateX=a,n.gridHeight=n.svgHeight-l-12,n.gridWidth=n.svgWidth-t.width-a-5;break;default:throw new Error("Legend position not supported")}this.setGridXPosForDualYAxis(o,i),new Y(this.ctx).setYAxisXPosition(i,o)}},{key:"setGridCoordsForNonAxisCharts",value:function(t){var e=this.w,n=e.globals,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var r=10,o=0;if("pie"===e.config.chart.type||"donut"===e.config.chart.type?(r+=e.config.plotOptions.pie.offsetY,o+=e.config.plotOptions.pie.offsetX):"radialBar"===e.config.chart.type&&(r+=e.config.plotOptions.radialBar.offsetY,o+=e.config.plotOptions.radialBar.offsetX),!e.config.legend.show)return n.gridHeight=n.svgHeight-35,n.gridWidth=n.gridHeight,n.translateY=r-10,void(n.translateX=o+(n.svgWidth-n.gridWidth)/2);switch(e.config.legend.position){case"bottom":n.gridHeight=n.svgHeight-t.height-35,n.gridWidth=n.gridHeight,n.translateY=r-20,n.translateX=o+(n.svgWidth-n.gridWidth)/2;break;case"top":n.gridHeight=n.svgHeight-t.height-35,n.gridWidth=n.gridHeight,n.translateY=t.height+r+10,n.translateX=o+(n.svgWidth-n.gridWidth)/2;break;case"left":n.gridWidth=n.svgWidth-t.width-i,n.gridHeight=n.gridWidth,n.translateY=r,n.translateX=o+t.width+i;break;case"right":n.gridWidth=n.svgWidth-t.width-i-5,n.gridHeight=n.gridWidth,n.translateY=r,n.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"setGridXPosForDualYAxis",value:function(t,e){var n=this.w;n.config.yaxis.map((function(i,r){-1===n.globals.ignoreYAxisIndexes.indexOf(r)&&!n.config.yaxis[r].floating&&n.config.yaxis[r].show&&i.opposite&&(n.globals.translateX=n.globals.translateX-(e[r].width+t[r].width)-parseInt(n.config.yaxis[r].labels.style.fontSize)/1.2-12)}))}},{key:"additionalPaddingXLabels",value:function(t){var e=this,n=this.w;if("category"===n.config.xaxis.type&&n.globals.isBarHorizontal||"numeric"===n.config.xaxis.type||"datetime"===n.config.xaxis.type){var i=n.globals.isXNumeric;n.config.yaxis.forEach((function(r,o){var s;(!r.show||r.floating||-1!==n.globals.collapsedSeriesIndices.indexOf(o)||i||r.opposite&&n.globals.isBarHorizontal)&&((i&&n.globals.isMultipleYAxis&&-1!==n.globals.collapsedSeriesIndices.indexOf(o)||n.globals.isBarHorizontal&&r.opposite)&&n.config.grid.padding.left<(s=t).width&&(e.xPadLeft=s.width/2+1),(!n.globals.isBarHorizontal&&r.opposite&&-1!==n.globals.collapsedSeriesIndices.indexOf(o)||i&&!n.globals.isMultipleYAxis)&&function(t){e.timescaleLabels?n.globals.skipLastTimelinelabel=e.timescaleLabels[e.timescaleLabels.length-1].position+t.width>n.globals.gridWidth:"datetime"===n.config.xaxis.type?n.config.grid.padding.right<t.width&&(n.globals.skipLastTimelinelabel=!0):"datetime"!==n.config.xaxis.type&&n.config.grid.padding.right<t.width&&(e.xPadRight=t.width/2+1)}(t))}))}n.globals.isBarHorizontal&&(this.xPadRight=t.width/2+1)}},{key:"titleSubtitleOffset",value:function(){var t=this.w,e=t.globals,n=this.isSparkline||!t.globals.axisCharts?0:10;n+=void 0!==t.config.title.text?t.config.title.margin:this.isSparkline||!t.globals.axisCharts?0:5,n+=void 0!==t.config.subtitle.text?t.config.subtitle.margin:this.isSparkline||!t.globals.axisCharts?0:5,t.config.legend.show&&"bottom"===t.config.legend.position&&!t.config.legend.floating&&(t.config.series.length>1||!t.globals.axisCharts||t.config.legend.showForSingleSeries)&&(n+=10);var i=this.getTitleSubtitleCoords("title"),r=this.getTitleSubtitleCoords("subtitle");e.gridHeight=e.gridHeight-i.height-r.height-n,e.translateY=e.translateY+i.height+r.height+n}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,n=10,i=function(e){return t.globals.ignoreYAxisIndexes.indexOf(e)>-1};return t.globals.yLabelsCoords.map((function(r,o){var s=t.config.yaxis[o].floating;r.width>0&&!s?(e=e+r.width+n,i(o)&&(e=e-r.width-n)):e+=s||!t.config.yaxis[o].show?0:5})),t.globals.yTitleCoords.map((function(r,o){var s=t.config.yaxis[o].floating;n=parseInt(t.config.yaxis[o].title.style.fontSize),r.width>0&&!s?(e=e+r.width+n,i(o)&&(e=e-r.width-n)):e+=s||!t.config.yaxis[o].show?0:5})),e}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.timescaleLabels=e.globals.timelineLabels.slice(),e.globals.isBarHorizontal&&"datetime"===e.config.xaxis.type&&(this.timescaleLabels=e.globals.invertedTimelineLabels.slice());var n=this.timescaleLabels.map((function(t){return t.value})),i=n.reduce((function(t,e){return void 0===t?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):t.length>e.length?t:e}),0);return 1.05*(t=new v(this.ctx).getTextRects(i,e.config.xaxis.labels.style.fontSize)).width*n.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,n=e.globals.labels.slice();if(e.globals.timelineLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();t={width:i.width,height:i.height}}else{var r="left"!==e.config.legend.position||"right"!==e.config.legend.position||e.config.legend.floating?0:this.lgRect.width,o=e.globals.xLabelFormatter,s=n.reduce((function(t,e){return t.length>e.length?t:e}),0);e.globals.isBarHorizontal&&(s=e.globals.yAxisScale[0].result.reduce((function(t,e){return t.length>e.length?t:e}),0));var a=s;s=new X(this.ctx).xLabelFormat(o,s,a);var l=new v(this.ctx),c=l.getTextRects(s,e.config.xaxis.labels.style.fontSize);(t={width:c.width,height:c.height}).width*n.length>e.globals.svgWidth-r-this.yAxisWidth&&0!==e.config.xaxis.labels.rotate?e.globals.isBarHorizontal||(e.globals.rotateXLabels=!0,c=l.getTextRects(s,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1),t.height=c.height/1.66):e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,n=[],i=10;return e.config.yaxis.map((function(r,o){if(r.show&&r.labels.show&&e.globals.yAxisScale[o].result.length){var s=e.globals.yLabelFormatters[o],a=s(e.globals.yAxisScale[o].niceMax,{seriesIndex:o,dataPointIndex:-1,w:e});void 0!==a&&0!==a.length||(a=e.globals.yAxisScale[o].niceMax),e.globals.isBarHorizontal&&(i=0,a=s(a=e.globals.labels.slice().reduce((function(t,e){return t.length>e.length?t:e}),0),{seriesIndex:o,dataPointIndex:-1,w:e}));var l=new v(t.ctx).getTextRects(a,r.labels.style.fontSize);n.push({width:l.width+i,height:l.height})}else n.push({width:0,height:0})})),n}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,n=0;if(void 0!==t.config.xaxis.title.text){var i=new v(this.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=i.width,n=i.height}return{width:e,height:n}}},{key:"getyAxisTitleCoords",value:function(){var t=this,e=[];return this.w.config.yaxis.map((function(n,i){if(n.show&&void 0!==n.title.text){var r=new v(t.ctx).getTextRects(n.title.text,n.title.style.fontSize,n.title.style.fontFamily,"rotate(-90 0 0)",!1);e.push({width:r.width,height:r.height})}else e.push({width:0,height:0})})),e}},{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,n=0,i=0,r="title"===t?e.config.title.floating:e.config.subtitle.floating,o=e.globals.dom.baseEl.querySelector(".mscharts-".concat(t,"-text"));if(null!==o&&!r){var s=o.getBoundingClientRect();n=s.width,i=e.globals.axisCharts?s.height+5:s.height}return{width:n,height:i}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelector(".mscharts-legend"),n=Object.assign({},p.getBoundingClientRect(e));return this.lgRect=null!==e&&!t.config.legend.floating&&t.config.legend.show?{x:n.x,y:n.y,height:n.height,width:0===n.height?0:n.width}:{x:0,y:0,height:0,width:0},this.lgRect}}]),t}(),B=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".mscharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector("[seriesName='".concat(p.escapeString(t),"']"))}},{key:"addCollapsedClassToSeries",value:function(t,e){var n=this.w;function i(n){for(var i=0;i<n.length;i++)n[i].index===e&&t.node.classList.add("mscharts-series-collapsed")}i(n.globals.collapsedSeries),i(n.globals.ancillaryCollapsedSeries)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.w,n=e.globals.initialSeries.slice();e.config.series=n,e.globals.collapsedSeries=[],e.globals.ancillaryCollapsedSeries=[],e.globals.collapsedSeriesIndices=[],e.globals.ancillaryCollapsedSeriesIndices=[],e.globals.previousPaths=[],t&&this.ctx._updateSeries(n,e.config.chart.animations.dynamicAnimation.enabled)}},{key:"toggleSeriesOnHover",value:function(t,e){var n=this.w,i=n.globals.dom.baseEl.querySelectorAll(".mscharts-series");if("mousemove"===t.type){var r=parseInt(e.getAttribute("rel"))-1,o=null;o=n.globals.dom.baseEl.querySelector(n.globals.axisCharts||"radialBar"===n.config.chart.type?n.globals.axisCharts?".mscharts-series[data\\:realIndex='".concat(r,"']"):".mscharts-series[rel='".concat(r+1,"']"):".mscharts-series[rel='".concat(r+1,"'] path"));for(var s=0;s<i.length;s++)i[s].classList.add("legend-mouseover-inactive");null!==o&&(n.globals.axisCharts||o.parentNode.classList.remove("legend-mouseover-inactive"),o.classList.remove("legend-mouseover-inactive"))}else if("mouseout"===t.type)for(var a=0;a<i.length;a++)i[a].classList.remove("legend-mouseover-inactive")}},{key:"highlightRangeInSeries",value:function(t,e){var n=this.w,i=n.globals.dom.baseEl.querySelectorAll(".mscharts-heatmap-rect"),r=function(){for(var t=0;t<i.length;t++)i[t].classList.remove("legend-mouseover-inactive")};if("mousemove"===t.type){var o=parseInt(e.getAttribute("rel"))-1;r(),function(){for(var t=0;t<i.length;t++)i[t].classList.add("legend-mouseover-inactive")}(),function(t){for(var e=0;e<i.length;e++){var n=parseInt(i[e].getAttribute("val"));n>=t.from&&n<=t.to&&i[e].classList.remove("legend-mouseover-inactive")}}(n.config.plotOptions.heatmap.colorScale.ranges[o])}else"mouseout"===t.type&&r()}},{key:"getActiveSeriesIndex",value:function(){var t=this.w,e=0;if(t.globals.series.length>1)for(var n=t.globals.series.map((function(e,n){return e.length>0&&"bar"!==t.config.series[n].type&&"column"!==t.config.series[n].type?n:-1})),i=0;i<n.length;i++)if(-1!==n[i]){e=n[i];break}return e}},{key:"getActiveConfigSeriesIndex",value:function(){var t=this.w,e=0;if(t.config.series.length>1)for(var n=t.config.series.map((function(t,e){return t.data&&t.data.length>0?e:-1})),i=0;i<n.length;i++)if(-1!==n[i]){e=n[i];break}return e}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(e,n,i){for(var r=e[n].childNodes,o={type:i,paths:[],realIndex:e[n].getAttribute("data:realIndex")},s=0;s<r.length;s++)if(r[s].hasAttribute("pathTo")){var a=r[s].getAttribute("pathTo");o.paths.push({d:a})}t.globals.previousPaths.push(o)}t.globals.previousPaths=[];var n=t.globals.dom.baseEl.querySelectorAll(".mscharts-line-series .mscharts-series");if(n.length>0)for(var i=n.length-1;i>=0;i--)e(n,i,"line");var r=t.globals.dom.baseEl.querySelectorAll(".mscharts-area-series .mscharts-series");if(r.length>0)for(var o=r.length-1;o>=0;o--)e(r,o,"area");var s=t.globals.dom.baseEl.querySelectorAll(".mscharts-bar-series .mscharts-series");if(s.length>0)for(var a=0;a<s.length;a++)e(s,a,"bar");var l=t.globals.dom.baseEl.querySelectorAll(".mscharts-candlestick-series .mscharts-series");if(l.length>0)for(var c=0;c<l.length;c++)e(l,c,"candlestick");var h=t.globals.dom.baseEl.querySelectorAll(".mscharts-radar-series .mscharts-series");if(h.length>0)for(var u=0;u<h.length;u++)e(h,u,"radar");var d=t.globals.dom.baseEl.querySelectorAll(".mscharts-bubble-series .mscharts-series");if(d.length>0)for(var f=0;f<d.length;f++){for(var p=t.globals.dom.baseEl.querySelectorAll(".mscharts-bubble-series .mscharts-series[data\\:realIndex='".concat(f,"'] circle")),g=[],m=0;m<p.length;m++)g.push({x:p[m].getAttribute("cx"),y:p[m].getAttribute("cy"),r:p[m].getAttribute("r")});t.globals.previousPaths.push(g)}var v=t.globals.dom.baseEl.querySelectorAll(".mscharts-scatter-series .mscharts-series");if(v.length>0)for(var y=0;y<v.length;y++){for(var b=t.globals.dom.baseEl.querySelectorAll(".mscharts-scatter-series .mscharts-series[data\\:realIndex='".concat(y,"'] circle")),x=[],w=0;w<b.length;w++)x.push({x:b[w].getAttribute("cx"),y:b[w].getAttribute("cy"),r:b[w].getAttribute("r")});t.globals.previousPaths.push(x)}var S=t.globals.dom.baseEl.querySelectorAll(".mscharts-heatmap .mscharts-series");if(S.length>0)for(var k=0;k<S.length;k++){for(var C=t.globals.dom.baseEl.querySelectorAll(".mscharts-heatmap .mscharts-series[data\\:realIndex='".concat(k,"'] rect")),A=[],_=0;_<C.length;_++)A.push({color:C[_].getAttribute("color")});t.globals.previousPaths.push(A)}t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,n=new v(this.ctx),i=t.globals.svgWidth/2,r=t.globals.svgHeight/2,o="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(i=10,o="start"):"right"===e.align&&(i=t.globals.svgWidth-10,o="end"),"top"===e.verticalAlign?r=50:"bottom"===e.verticalAlign&&(r=t.globals.svgHeight-50),i+=e.offsetX,r=r+parseInt(e.style.fontSize)+2,void 0!==e.text&&""!==e.text){var s=n.drawText({x:i,y:r,text:e.text,textAnchor:o,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"mscharts-text-nodata"});s.node.setAttribute("class","mscharts-title-text"),t.globals.dom.Paper.add(s)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,n=0;n<t.length;n++)if(0===t[n].length)for(var i=0;i<t[e.globals.maxValsInArrayIndex].length;i++)t[n].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,n=this.filteredSeriesX(),i=0;i<n.length-1;i++)if(n[i][0]!==n[i+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map((function(t,e){return t.length>0?t:[]}))}}]),t}(),W=function(){function t(e,n){r(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this)}return s(t,[{key:"init",value:function(){var t=this.w,e=t.globals,n=t.config;if((n.legend.showForSingleSeries&&1===e.series.length||e.series.length>1||!e.axisCharts)&&n.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),p.isIE11()||this.appendToForeignObject(),"bottom"===n.legend.position||"top"===n.legend.position?this.legendAlignHorizontal():"right"!==n.legend.position&&"left"!==n.legend.position||this.legendAlignVertical()}}},{key:"getLegendStyles",value:function(){var t=document.createElement("style");t.setAttribute("type","text/css");var e=document.createTextNode("\t\n    \t\n      .mscharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .mscharts-legend.position-bottom, .mscharts-legend.position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .mscharts-legend.position-right, .mscharts-legend.position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .mscharts-legend.position-bottom.left, .mscharts-legend.position-top.left, .mscharts-legend.position-right, .mscharts-legend.position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .mscharts-legend.position-bottom.center, .mscharts-legend.position-top.center {\t\n        justify-content: center;  \t\n      }\t\n      .mscharts-legend.position-bottom.right, .mscharts-legend.position-top.right {\t\n        justify-content: flex-end;\t\n      }\t\n      .mscharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .mscharts-legend.position-bottom .mscharts-legend-series, .mscharts-legend.position-top .mscharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .mscharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .mscharts-legend-text *, .mscharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .mscharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n      }\t\n      \t\n      .mscharts-legend.right .mscharts-legend-series, .mscharts-legend.left .mscharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .mscharts-legend-series.no-click {\t\n        cursor: auto;\t\n      }\t\n      .mscharts-legend .mscharts-hidden-zero-series, .mscharts-legend .mscharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .inactive-legend {\t\n        opacity: 0.45;\t\n      }");return t.appendChild(e),t}},{key:"appendToForeignObject",value:function(){var t=this.w.globals;t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject");var e=t.dom.elLegendForeign;e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",t.svgWidth),e.setAttribute("height",t.svgHeight),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.appendChild(t.dom.elLegendWrap),e.appendChild(this.getLegendStyles()),t.dom.Paper.node.insertBefore(e,t.dom.elGraphical.node)}},{key:"drawLegends",value:function(){var t=this.w,e=t.config.legend.fontFamily,n=t.globals.seriesNames,i=t.globals.colors.slice();if("heatmap"===t.config.chart.type){var r=t.config.plotOptions.heatmap.colorScale.ranges;n=r.map((function(t){return t.name?t.name:t.from+" - "+t.to})),i=r.map((function(t){return t.color}))}for(var o=t.globals.legendFormatter,s=t.config.legend.inverseOrder,a=s?n.length-1:0;s?a>=0:a<=n.length-1;s?a--:a++){var l=o(n[a],{seriesIndex:a,w:t}),c=!1,h=!1;if(t.globals.collapsedSeries.length>0)for(var u=0;u<t.globals.collapsedSeries.length;u++)t.globals.collapsedSeries[u].index===a&&(c=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var d=0;d<t.globals.ancillaryCollapsedSeriesIndices.length;d++)t.globals.ancillaryCollapsedSeriesIndices[d]===a&&(h=!0);var f=document.createElement("span");f.classList.add("mscharts-legend-marker");var p=t.config.legend.markers.offsetX,g=t.config.legend.markers.offsetY,m=t.config.legend.markers.height,y=t.config.legend.markers.width,b=t.config.legend.markers.strokeWidth,x=t.config.legend.markers.strokeColor,w=t.config.legend.markers.radius,S=f.style;S.background=i[a],S.color=i[a],t.config.legend.markers.fillColors&&t.config.legend.markers.fillColors[a]&&(S.background=t.config.legend.markers.fillColors[a]),S.height=Array.isArray(m)?parseFloat(m[a])+"px":parseFloat(m)+"px",S.width=Array.isArray(y)?parseFloat(y[a])+"px":parseFloat(y)+"px",S.left=Array.isArray(p)?p[a]:p,S.top=Array.isArray(g)?g[a]:g,S.borderWidth=Array.isArray(b)?b[a]:b,S.borderColor=Array.isArray(x)?x[a]:x,S.borderRadius=Array.isArray(w)?parseFloat(w[a])+"px":parseFloat(w)+"px",t.config.legend.markers.customHTML&&(f.innerHTML=Array.isArray(t.config.legend.markers.customHTML)?t.config.legend.markers.customHTML[a]():t.config.legend.markers.customHTML()),v.setAttrs(f,{rel:a+1,"data:collapsed":c||h}),(c||h)&&f.classList.add("inactive-legend");var C=document.createElement("div"),A=document.createElement("span");A.classList.add("mscharts-legend-text"),A.innerHTML=l;var _=t.config.legend.labels.useSeriesColors?t.globals.colors[a]:t.config.legend.labels.colors;_||(_=t.config.chart.foreColor),A.style.color=_,A.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",A.style.fontFamily=e||t.config.chart.fontFamily,v.setAttrs(A,{rel:a+1,i:a,"data:default-text":l,"data:collapsed":c||h}),C.appendChild(f),C.appendChild(A);var E=new k(this.ctx);t.config.legend.showForZeroSeries||0===E.getSeriesTotalByIndex(a)&&E.seriesHaveSameValues(a)&&!E.isSeriesNull(a)&&-1===t.globals.collapsedSeriesIndices.indexOf(a)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(a)&&C.classList.add("mscharts-hidden-zero-series"),t.config.legend.showForNullSeries||E.isSeriesNull(a)&&-1===t.globals.collapsedSeriesIndices.indexOf(a)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(a)&&C.classList.add("mscharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(C),t.globals.dom.elLegendWrap.classList.add(t.config.legend.horizontalAlign),t.globals.dom.elLegendWrap.classList.add("position-"+t.config.legend.position),C.classList.add("mscharts-legend-series"),C.style.margin="".concat(t.config.legend.itemMargin.horizontal,"px ").concat(t.config.legend.itemMargin.vertical,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",v.setAttrs(C,{rel:a+1,"data:collapsed":c||h}),(c||h)&&C.classList.add("inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||C.classList.add("no-click")}"heatmap"!==t.config.chart.type&&t.config.legend.onItemClick.toggleDataSeries&&t.globals.dom.elWrap.addEventListener("click",this.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&(t.globals.dom.elWrap.addEventListener("mousemove",this.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",this.onLegendHovered,!0))}},{key:"getLegendBBox",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".mscharts-legend").getBoundingClientRect();return{clwh:t.height,clww:t.width}}},{key:"setLegendWrapXY",value:function(t,e){var n=this.w,i=n.globals.dom.baseEl.querySelector(".mscharts-legend"),r=i.getBoundingClientRect(),o=0,s=0;if("bottom"===n.config.legend.position)s+=n.globals.svgHeight-r.height/2;else if("top"===n.config.legend.position){var a=new j(this.ctx),l=a.getTitleSubtitleCoords("title").height,c=a.getTitleSubtitleCoords("subtitle").height;s=s+(l>0?l-10:0)+(c>0?c-10:0)}i.style.position="absolute",s=s+e+n.config.legend.offsetY,i.style.left=(o=o+t+n.config.legend.offsetX)+"px",i.style.top=s+"px","bottom"===n.config.legend.position?(i.style.top="auto",i.style.bottom=10+n.config.legend.offsetY+"px"):"right"===n.config.legend.position&&(i.style.left="auto",i.style.right=25+n.config.legend.offsetX+"px"),i.style.width&&(i.style.width=parseInt(n.config.legend.width)+"px"),i.style.height&&(i.style.height=parseInt(n.config.legend.height)+"px")}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.baseEl.querySelector(".mscharts-legend").style.right=0;var e=this.getLegendBBox(),n=new j(this.ctx),i=n.getTitleSubtitleCoords("title"),r=n.getTitleSubtitleCoords("subtitle"),o=0;"bottom"===t.config.legend.position?o=-e.clwh/1.8:"top"===t.config.legend.position&&(o=i.height+r.height+t.config.title.margin+t.config.subtitle.margin-15),this.setLegendWrapXY(20,o)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.getLegendBBox(),n=0;"left"===t.config.legend.position&&(n=20),"right"===t.config.legend.position&&(n=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,n=t.target.classList.contains("mscharts-legend-text")||t.target.classList.contains("mscharts-legend-marker");if("heatmap"!==e.config.chart.type)!t.target.classList.contains("inactive-legend")&&n&&new B(this.ctx).toggleSeriesOnHover(t,t.target);else if(n){var i=parseInt(t.target.getAttribute("rel"))-1;this.ctx.fireEvent("legendHover",[this.ctx,i,this.w]),new B(this.ctx).highlightRangeInSeries(t,t.target)}}},{key:"onLegendClick",value:function(t){if(t.target.classList.contains("mscharts-legend-text")||t.target.classList.contains("mscharts-legend-marker")){var e=parseInt(t.target.getAttribute("rel"))-1,n="true"===t.target.getAttribute("data:collapsed"),i=this.w.config.chart.events.legendClick;"function"==typeof i&&i(this.ctx,e,this.w),this.ctx.fireEvent("legendClick",[this.ctx,e,this.w]);var r=this.w.config.legend.markers.onClick;"function"==typeof r&&t.target.classList.contains("mscharts-legend-marker")&&(r(this.ctx,e,this.w),this.ctx.fireEvent("legendMarkerClick",[this.ctx,e,this.w])),this.toggleDataSeries(e,n)}}},{key:"toggleDataSeries",value:function(t,e){var n=this.w;if(n.globals.axisCharts||"radialBar"===n.config.chart.type){n.globals.resized=!0;var i=null,r=null;if(n.globals.risingSeries=[],n.globals.axisCharts?(i=n.globals.dom.baseEl.querySelector(".mscharts-series[data\\:realIndex='".concat(t,"']")),r=parseInt(i.getAttribute("data:realIndex"))):(i=n.globals.dom.baseEl.querySelector(".mscharts-series[rel='".concat(t+1,"']")),r=parseInt(i.getAttribute("rel"))-1),e)this.riseCollapsedSeries(n.globals.collapsedSeries,n.globals.collapsedSeriesIndices,r),this.riseCollapsedSeries(n.globals.ancillaryCollapsedSeries,n.globals.ancillaryCollapsedSeriesIndices,r);else{if(n.globals.axisCharts){var o=!1;if(n.config.yaxis[r]&&n.config.yaxis[r].show&&n.config.yaxis[r].showAlways&&(o=!0,n.globals.ancillaryCollapsedSeriesIndices.indexOf(r)<0&&(n.globals.ancillaryCollapsedSeries.push({index:r,data:n.config.series[r].data.slice(),type:i.parentNode.className.baseVal.split("-")[1]}),n.globals.ancillaryCollapsedSeriesIndices.push(r))),!o){n.globals.collapsedSeries.push({index:r,data:n.config.series[r].data.slice(),type:i.parentNode.className.baseVal.split("-")[1]}),n.globals.collapsedSeriesIndices.push(r);var s=n.globals.risingSeries.indexOf(r);n.globals.risingSeries.splice(s,1)}n.config.series[r].data=[]}else n.globals.collapsedSeries.push({index:r,data:n.config.series[r]}),n.globals.collapsedSeriesIndices.push(r),n.config.series[r]=0;for(var a=i.childNodes,l=0;l<a.length;l++)a[l].classList.contains("mscharts-series-markers-wrap")&&(a[l].classList.contains("mscharts-hide")?a[l].classList.remove("mscharts-hide"):a[l].classList.add("mscharts-hide"));n.globals.allSeriesCollapsed=n.globals.collapsedSeries.length===n.globals.series.length,this.ctx._updateSeries(n.config.series,n.config.chart.animations.dynamicAnimation.enabled)}}else{var c=n.globals.dom.Paper.select(" .mscharts-series[rel='".concat(t+1,"'] path")),h=n.config.chart.type;if("pie"===h||"donut"===h){var u=n.config.plotOptions.pie.donut.labels,d=new v(this.ctx),f=new D(this.ctx);d.pathMouseDown(c.members[0],null),f.printDataLabelsInner(c.members[0].node,u)}c.fire("click")}}},{key:"riseCollapsedSeries",value:function(t,e,n){var i=this.w;if(t.length>0)for(var r=0;r<t.length;r++)t[r].index===n&&(i.globals.axisCharts?(i.config.series[n].data=t[r].data.slice(),t.splice(r,1),e.splice(r,1),i.globals.risingSeries.push(n)):(i.config.series[n]=t[r].data,t.splice(r,1),e.splice(r,1),i.globals.risingSeries.push(n)),this.ctx._updateSeries(i.config.series,i.config.chart.animations.dynamicAnimation.enabled))}}]),t}(),U=function(){function t(e,n,i){r(this,t),this.ctx=e,this.w=e.w,this.xyRatios=n,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new P(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.yaxisIndex=0}return s(t,[{key:"draw",value:function(t,e,n){var i=this.w,r=new v(this.ctx),o=new E(this.ctx),s=i.globals.comboCharts?e:i.config.chart.type,a=r.group({class:"mscharts-".concat(s,"-series mscharts-plot-series")}),l=new k(this.ctx,i);t=l.getLogSeries(t);var h=this.xyRatios.yRatio;h=l.getLogYRatios(h);for(var u=this.xyRatios.zRatio,d=this.xyRatios.xRatio,f=this.xyRatios.baseLineY,g=[],m=[],y=0,b=0;b<t.length;b++){if("line"===s&&("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[b])&&l.seriesHaveSameValues(b)){var x=t[b].slice();x[x.length-1]=x[x.length-1]+1e-6,t[b]=x}var w=i.globals.gridWidth/i.globals.dataPoints,S=i.globals.comboCharts?n[b]:b;h.length>1&&(this.yaxisIndex=S),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var C=[],A=[],_=i.globals.gridHeight-f[this.yaxisIndex]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*f[this.yaxisIndex]:0),P=_;_>i.globals.gridHeight&&(P=i.globals.gridHeight);var M=i.globals.padHorizontal+(y=w/2),L=1;i.globals.isXNumeric&&i.globals.seriesX.length>0&&(M=(i.globals.seriesX[S][0]-i.globals.minX)/d),A.push(M);var O=void 0,R=void 0,N=void 0,D=void 0,z=[],F=[],V=r.group({class:"mscharts-series",seriesName:p.escapeString(i.globals.seriesNames[S])}),X=r.group({class:"mscharts-series-markers-wrap"}),H=r.group({class:"mscharts-datalabels"});this.ctx.series.addCollapsedClassToSeries(V,S),V.attr({"data:longestSeries":t[b].length===i.globals.dataPoints,rel:b+1,"data:realIndex":S}),this.appendPathFrom=!0;var Y=M,j=void 0,B=Y,W=_,U=0;if(W=this.determineFirstPrevY({i:b,series:t,yRatio:h[this.yaxisIndex],zeroY:_,prevY:W,prevSeriesY:m,lineYPosition:U}).prevY,C.push(W),j=W,null===t[b][0]){for(var G=0;G<t[b].length;G++)if(null!==t[b][G]){O=r.move(B=w*G,W=_-t[b][G]/h[this.yaxisIndex]),R=r.move(B,P);break}}else O=r.move(B,W),R=r.move(B,P)+r.line(B,W);if(N=r.move(-1,_)+r.line(-1,_),D=r.move(-1,_)+r.line(-1,_),i.globals.previousPaths.length>0){var q=this.checkPreviousPaths({pathFromLine:N,pathFromArea:D,realIndex:S});N=q.pathFromLine,D=q.pathFromArea}for(var Z=i.globals.dataPoints>1?i.globals.dataPoints-1:i.globals.dataPoints,Q=0;Q<Z;Q++){if(i.globals.isXNumeric){var $=i.globals.seriesX[S][Q+1];void 0===i.globals.seriesX[S][Q+1]&&($=i.globals.seriesX[S][Z-1]),M=($-i.globals.minX)/d}else M+=w;var J=p.isNumber(i.globals.minYArr[S])?i.globals.minYArr[S]:i.globals.minY;i.config.chart.stacked?(U=b>0&&i.globals.collapsedSeries.length<i.config.series.length-1?m[b-1][Q+1]:_,L=null==t[b][Q+1]?U-J/h[this.yaxisIndex]+2*(this.isReversed?J/h[this.yaxisIndex]:0):U-t[b][Q+1]/h[this.yaxisIndex]+2*(this.isReversed?t[b][Q+1]/h[this.yaxisIndex]:0)):L=null==t[b][Q+1]?_-J/h[this.yaxisIndex]+2*(this.isReversed?J/h[this.yaxisIndex]:0):_-t[b][Q+1]/h[this.yaxisIndex]+2*(this.isReversed?t[b][Q+1]/h[this.yaxisIndex]:0),A.push(M),C.push(L);var K=this.createPaths({series:t,i:b,j:Q,x:M,y:L,xDivision:w,pX:Y,pY:j,areaBottomY:P,linePath:O,areaPath:R,linePaths:z,areaPaths:F,seriesIndex:n});F=K.areaPaths,z=K.linePaths,Y=K.pX,j=K.pY,R=K.areaPath,O=K.linePath,this.appendPathFrom&&(N+=r.line(M,_),D+=r.line(M,_));var tt=this.calculatePoints({series:t,x:M,y:L,realIndex:S,i:b,j:Q,prevY:W,categoryAxisCorrection:y,xRatio:d});if(this.pointsChart)this.scatter.draw(V,Q,{realIndex:S,pointsPos:tt,zRatio:u,elParent:X});else{var et=new T(this.ctx);i.globals.dataPoints>1&&X.node.classList.add("hidden");var nt=et.plotChartMarkers(tt,S,Q+1);null!==nt&&X.add(nt)}var it=!t[b][Q+1]||t[b][Q+1]>t[b][Q]?"top":"bottom",rt=new I(this.ctx).drawDataLabel(tt,S,Q+1,null,it);null!==rt&&H.add(rt)}m.push(C),i.globals.seriesXvalues[S]=A,i.globals.seriesYvalues[S]=C,this.pointsChart||i.globals.delayedElements.push({el:X.node,index:S});var ot={i:b,realIndex:S,animationDelay:b,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"mscharts-".concat(s)};if("area"===s)for(var st=o.fillPath({seriesNumber:S}),at=0;at<F.length;at++){var lt=r.renderPaths(c({},ot,{pathFrom:D,pathTo:F[at],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:st}));V.add(lt)}if(i.config.stroke.show&&!this.pointsChart){var ct;ct="line"===s?o.fillPath({seriesNumber:S,i:b}):i.globals.stroke.colors[S];for(var ht=0;ht<z.length;ht++){var ut=r.renderPaths(c({},ot,{pathFrom:N,pathTo:z[ht],stroke:ct,strokeWidth:Array.isArray(i.config.stroke.width)?i.config.stroke.width[S]:i.config.stroke.width,strokeLineCap:i.config.stroke.lineCap,fill:"none"}));V.add(ut)}}V.add(X),V.add(H),g.push(V)}for(var dt=g.length;dt>0;dt--)a.add(g[dt-1]);return a}},{key:"createPaths",value:function(t){var e=t.series,n=t.i,i=t.j,r=t.x,o=t.y,s=t.pX,a=t.pY,l=t.xDivision,c=t.areaBottomY,h=t.linePath,u=t.areaPath,d=t.linePaths,f=t.areaPaths,p=t.seriesIndex,g=this.w,m=new v(this.ctx),y=g.config.stroke.curve;if(Array.isArray(g.config.stroke.curve)&&(y=Array.isArray(p)?g.config.stroke.curve[p[n]]:g.config.stroke.curve[n]),"smooth"===y){var b=.35*(r-s);g.globals.hasNullValues?(null!==e[n][i]&&(null!==e[n][i+1]?(h=m.move(s,a)+m.curve(s+b,a,r-b,o,r+1,o),u=m.move(s+1,a)+m.curve(s+b,a,r-b,o,r+1,o)+m.line(r,c)+m.line(s,c)+"z"):(h=m.move(s,a),u=m.move(s,a)+"z")),d.push(h),f.push(u)):(h+=m.curve(s+b,a,r-b,o,r,o),u+=m.curve(s+b,a,r-b,o,r,o)),s=r,a=o,i===e[n].length-2&&(u=u+m.curve(s,a,r,o,r,c)+m.move(r,o)+"z",g.globals.hasNullValues||(d.push(h),f.push(u)))}else null===e[n][i+1]&&(h+=m.move(r,o),u=u+m.line(r-l,c)+m.move(r,o)),null===e[n][i]&&(h+=m.move(r,o),u+=m.move(r,c)),"stepline"===y?(h=h+m.line(r,null,"H")+m.line(null,o,"V"),u=u+m.line(r,null,"H")+m.line(null,o,"V")):"straight"===y&&(h+=m.line(r,o),u+=m.line(r,o)),i===e[n].length-2&&(u=u+m.line(r,c)+m.move(r,o)+"z",d.push(h),f.push(u));return{linePaths:d,areaPaths:f,pX:s,pY:a,linePath:h,areaPath:u}}},{key:"calculatePoints",value:function(t){var e=t.series,n=t.x,i=t.y,r=t.i,o=t.j,s=t.prevY,a=this.w,l=[],c=[];if(0===o){var h=t.categoryAxisCorrection+a.config.markers.offsetX;a.globals.isXNumeric&&(h=(a.globals.seriesX[t.realIndex][0]-a.globals.minX)/t.xRatio+a.config.markers.offsetX),l.push(h),c.push(p.isNumber(e[r][0])?s+a.config.markers.offsetY:null),l.push(n+a.config.markers.offsetX),c.push(p.isNumber(e[r][o+1])?i+a.config.markers.offsetY:null)}else l.push(n+a.config.markers.offsetX),c.push(p.isNumber(e[r][o+1])?i+a.config.markers.offsetY:null);return{x:l,y:c}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,n=t.pathFromArea,i=t.realIndex,r=this.w,o=0;o<r.globals.previousPaths.length;o++){var s=r.globals.previousPaths[o];("line"===s.type||"area"===s.type)&&s.paths.length>0&&parseInt(s.realIndex)===parseInt(i)&&("line"===s.type?(this.appendPathFrom=!1,e=r.globals.previousPaths[o].paths[0].d):"area"===s.type&&(this.appendPathFrom=!1,n=r.globals.previousPaths[o].paths[0].d,r.config.stroke.show&&(e=r.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:e,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(t){var e=t.i,n=t.series,i=t.yRatio,r=t.zeroY,o=t.prevY,s=t.prevSeriesY,a=t.lineYPosition,l=this.w;if(void 0!==n[e][0])o=l.config.chart.stacked?(a=e>0?s[e-1][0]:r)-n[e][0]/i+2*(this.isReversed?n[e][0]/i:0):r-n[e][0]/i+2*(this.isReversed?n[e][0]/i:0);else if(l.config.chart.stacked&&e>0&&void 0===n[e][0])for(var c=e-1;c>=0;c--)if(null!=n[c][0]){o=a=s[c][0];break}return{prevY:o,lineYPosition:a}}}]),t}(),G=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.xaxisLabels=n.globals.labels.slice(),n.globals.timelineLabels.length>0&&(this.xaxisLabels=n.globals.timelineLabels.slice()),this.drawnLabels=[],this.offY="top"===n.config.xaxis.position?0:n.globals.gridHeight+1,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?n.globals.gridWidth*parseInt(this.xaxisBorderWidth)/100:parseInt(this.xaxisBorderWidth),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0],this.axesUtils=new H(e)}return s(t,[{key:"drawXaxis",value:function(){var t,e=this.w,n=new v(this.ctx),i=n.group({class:"mscharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),r=n.group({class:"mscharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});i.add(r);for(var o=e.globals.padHorizontal,s=[],a=0;a<this.xaxisLabels.length;a++)s.push(this.xaxisLabels[a]);o=e.globals.isXNumeric?o+(t=e.globals.gridWidth/(s.length-1))/2+e.config.xaxis.labels.offsetX:o+(t=e.globals.gridWidth/s.length)+e.config.xaxis.labels.offsetX;var l=s.length;if(e.config.xaxis.labels.show)for(var c=0;c<=l-1;c++){var h=this.axesUtils.getLabel(s,e.globals.timelineLabels,o-t/2+e.config.xaxis.labels.offsetX,c,this.drawnLabels);this.drawnLabels.push(h.text);var u=28;e.globals.rotateXLabels&&(u=22);var d=n.drawText({x:h.x,y:this.offY+e.config.xaxis.labels.offsetY+u,text:"",textAnchor:"middle",fontWeight:h.isBold?600:400,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[c]:this.xaxisForeColors,cssClass:"mscharts-xaxis-label "+e.config.xaxis.labels.style.cssClass});c===l-1&&e.globals.skipLastTimelinelabel&&(h.text=""),r.add(d),n.addTspan(d,h.text,this.xaxisFontFamily);var f=document.createElementNS(e.globals.SVGNS,"title");f.textContent=h.text,d.node.appendChild(f),o+=t}if(void 0!==e.config.xaxis.title.text){var p=n.group({class:"mscharts-xaxis-title"}),g=n.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY-parseInt(this.xaxisFontSize)+e.globals.xAxisLabelsHeight+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,foreColor:e.config.xaxis.title.style.color,cssClass:"mscharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});p.add(g),i.add(p)}if(e.config.xaxis.axisBorder.show){var m=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(m-=15);var y=n.drawLine(e.globals.padHorizontal+m+e.config.xaxis.axisBorder.offsetX,this.offY,this.xaxisBorderWidth,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);i.add(y)}return i}},{key:"drawXaxisInversed",value:function(t){var e,n,i=this.w,r=new v(this.ctx),o=i.config.yaxis[0].opposite?i.globals.translateYAxisX[t]:0,s=r.group({class:"mscharts-yaxis mscharts-xaxis-inversed",rel:t}),a=r.group({class:"mscharts-yaxis-texts-g mscharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});s.add(a);for(var l=[],c=0;c<this.xaxisLabels.length;c++)l.push(this.xaxisLabels[c]);n=-(e=i.globals.gridHeight/l.length)/2.2;var h=i.globals.yLabelFormatters[0],u=i.config.yaxis[0].labels;if(u.show)for(var d=0;d<=l.length-1;d++){var f=void 0===l[d]?"":l[d];f=h(f,{seriesIndex:t,dataPointIndex:d,w:i});var p=r.drawText({x:u.offsetX-15,y:n+e+u.offsetY,text:f,textAnchor:this.yaxis.opposite?"start":"end",foreColor:u.style.color?u.style.color:u.style.colors[d],fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,cssClass:"mscharts-yaxis-label "+u.style.cssClass});if(a.add(p),0!==i.config.yaxis[t].labels.rotate){var g=r.rotateAroundCenter(p.node);p.node.setAttribute("transform","rotate(".concat(i.config.yaxis[t].labels.rotate," ").concat(g.x," ").concat(g.y,")"))}n+=e}if(void 0!==i.config.yaxis[0].title.text){var m=r.group({class:"mscharts-yaxis-title mscharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),y=r.drawText({x:0,y:i.globals.gridHeight/2,text:i.config.yaxis[0].title.text,textAnchor:"middle",foreColor:i.config.yaxis[0].title.style.color,fontSize:i.config.yaxis[0].title.style.fontSize,fontFamily:i.config.yaxis[0].title.style.fontFamily,cssClass:"mscharts-yaxis-title-text "+i.config.yaxis[0].title.style.cssClass});m.add(y),s.add(m)}if(i.config.xaxis.axisBorder.show){var b=r.drawLine(i.globals.padHorizontal+i.config.xaxis.axisBorder.offsetX,this.offY,this.xaxisBorderWidth,this.offY,this.yaxis.axisBorder.color,0,this.xaxisBorderHeight);s.add(b),this.axesUtils.drawYAxisTicks(0,l.length,i.config.yaxis[0].axisBorder,i.config.yaxis[0].axisTicks,0,e,s)}return s}},{key:"drawXaxisTicks",value:function(t,e){var n=this.w,i=t;if(!(t<0||t>n.globals.gridWidth)){var r=this.offY+n.config.xaxis.axisTicks.offsetY,o=r+n.config.xaxis.axisTicks.height;if(n.config.xaxis.axisTicks.show){var s=new v(this.ctx).drawLine(t+n.config.xaxis.axisTicks.offsetX,r+n.config.xaxis.offsetY,i+n.config.xaxis.axisTicks.offsetX,o+n.config.xaxis.offsetY,n.config.xaxis.axisTicks.color);e.add(s),s.node.classList.add("mscharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],n=this.xaxisLabels.length,i=t.globals.padHorizontal;if(t.globals.timelineLabels.length>0)for(var r=0;r<n;r++)e.push(i=this.xaxisLabels[r].position);else for(var o=n,s=0;s<o;s++){var a=o;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(a-=1),e.push(i+=t.globals.gridWidth/a)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new v(this.ctx),n=t.globals.dom.baseEl.querySelector(".mscharts-xaxis-texts-g"),i=t.globals.dom.baseEl.querySelectorAll(".mscharts-xaxis-texts-g text"),r=t.globals.dom.baseEl.querySelectorAll(".mscharts-yaxis-inversed text"),o=t.globals.dom.baseEl.querySelectorAll(".mscharts-xaxis-inversed-texts-g text");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var s=0;s<i.length;s++){var a=e.rotateAroundCenter(i[s]);a.y=a.y-1,a.x=a.x+1,i[s].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(a.x," ").concat(a.y,")")),i[s].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var l=i[s].childNodes;t.config.xaxis.labels.trim&&e.placeTextWithEllipsis(l[0],l[0].textContent,t.config.xaxis.labels.maxHeight-("bottom"===t.config.legend.position?20:10))}else for(var c=t.globals.gridWidth/t.globals.labels.length,h=0;h<i.length;h++){var u=i[h].childNodes;t.config.xaxis.labels.trim&&"datetime"!==t.config.xaxis.type&&e.placeTextWithEllipsis(u[0],u[0].textContent,c)}if(r.length>0){var d=r[r.length-1].getBBox(),f=r[0].getBBox();d.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),f.x+f.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var p=0;p<o.length;p++)e.placeTextWithEllipsis(o[p],o[p].textContent,t.config.yaxis[0].labels.maxWidth-2*parseInt(t.config.yaxis[0].title.style.fontSize)-20)}}}]),t}(),q=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"niceScale",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,o=this.w,s=void 0===this.w.config.yaxis[i].max&&void 0===this.w.config.yaxis[i].min||this.w.config.yaxis[i].forceNiceScale;if(t===Number.MIN_VALUE&&0===e||!p.isNumber(t)&&!p.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE){var a=this.linearScale(t=0,e=r,r);return a}t>e?(console.warn("yaxis.min cannot be greater than yaxis.max"),e=t+.1):t===e&&(t=0===t?0:t-.5,e=0===e?2:e+.5);var l=[],c=Math.abs(e-t);c<1&&s&&("candlestick"===o.config.chart.type||"candlestick"===o.config.series[i].type||o.globals.isRangeData)&&(e*=1.01);var h=r+1;h<2?h=2:h>2&&(h-=2);var u=c/h,d=Math.floor(p.log10(u)),f=Math.pow(10,d),g=Math.round(u/f);g<1&&(g=1);var m=g*f,v=m*Math.floor(t/m),y=m*Math.ceil(e/m),b=v;if(s&&c>2){for(;l.push(b),!((b+=m)>y););return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}var x=t;(l=[]).push(x);for(var w=Math.abs(e-t)/r,S=0;S<=r;S++)l.push(x+=w);return l[l.length-2]>=e&&l.pop(),{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"linearScale",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=Math.abs(e-t),r=i/n;n===Number.MAX_VALUE&&(n=10,r=1);for(var o=[],s=t;n>=0;)o.push(s),s+=r,n-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScale",value:function(t,e,n,i){(e<0||e===Number.MIN_VALUE)&&(e=.01);for(var r=Math.log(e)/Math.log(10),o=Math.log(n)/Math.log(10),s=Math.abs(n-e)/i,a=[],l=e;i>=0;)a.push(l),l+=s,i-=1;var c=a.map((function(t,i){t<=0&&(t=.01);var s=Math.pow(10,r+(o-r)/(n-e)*(t-r));return Math.round(s/p.roundToBase(s,10))*p.roundToBase(s,10)}));return 0===c[0]&&(c[0]=1),{result:c,niceMin:c[0],niceMax:c[c.length-1]}}},{key:"setYScaleForIndex",value:function(t,e,n){var i=this.w.globals,r=this.w.config,o=i.isBarHorizontal?r.xaxis:r.yaxis[t];if(void 0===i.yAxisScale[t]&&(i.yAxisScale[t]=[]),o.logarithmic)i.allSeriesCollapsed=!1,i.yAxisScale[t]=this.logarithmicScale(t,e,n,o.tickAmount?o.tickAmount:Math.floor(Math.log10(n)));else if(n!==-Number.MAX_VALUE&&p.isNumber(n))if(i.allSeriesCollapsed=!1,void 0===o.min&&void 0===o.max||o.forceNiceScale){var s=Math.abs(n-e);i.yAxisScale[t]=this.niceScale(e,n,s,t,o.tickAmount?o.tickAmount:s<5&&s>1?s+1:5)}else i.yAxisScale[t]=this.linearScale(e,n,o.tickAmount);else i.yAxisScale[t]=this.linearScale(0,5,5)}},{key:"setMultipleYScales",value:function(){var t=this,e=this.w.globals,n=this.w.config,i=e.minYArr.concat([]),r=e.maxYArr.concat([]),o=[];n.yaxis.forEach((function(s,a){var l=a;n.series.forEach((function(t,n){t.name===s.seriesName&&-1===e.collapsedSeriesIndices.indexOf(n)&&(l=n,o.push(a!==n?{index:n,similarIndex:a,alreadyExists:!0}:{index:n}))})),t.setYScaleForIndex(a,i[l],r[l])})),this.sameScaleInMultipleAxes(i,r,o)}},{key:"sameScaleInMultipleAxes",value:function(t,e,n){var i=this,r=this.w.config,o=this.w.globals,s=[];n.forEach((function(t){t.alreadyExists&&(void 0===s[t.index]&&(s[t.index]=[]),s[t.index].push(t.index),s[t.index].push(t.similarIndex))})),o.yAxisSameScaleIndices=s,s.forEach((function(t,e){s.forEach((function(n,i){var r,o;e!==i&&(r=t,o=n,r.filter((function(t){return-1!==o.indexOf(t)}))).length>0&&(s[e]=s[e].concat(s[i]))}))}));var a=s.map((function(t){return t.filter((function(e,n){return t.indexOf(e)===n}))})).map((function(t){return t.sort()}));s=s.filter((function(t){return!!t}));var l=a.slice(),c=l.map((function(t){return JSON.stringify(t)}));l=l.filter((function(t,e){return c.indexOf(JSON.stringify(t))===e}));var h=[],u=[];t.forEach((function(t,n){l.forEach((function(i,r){i.indexOf(n)>-1&&(void 0===h[r]&&(h[r]=[],u[r]=[]),h[r].push({key:n,value:t}),u[r].push({key:n,value:e[n]}))}))}));var d=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),f=Array.apply(null,Array(l.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);h.forEach((function(t,e){t.forEach((function(t,n){d[e]=Math.min(t.value,d[e])}))})),u.forEach((function(t,e){t.forEach((function(t,n){f[e]=Math.max(t.value,f[e])}))})),t.forEach((function(t,e){u.forEach((function(t,n){var s=d[n],a=f[n];r.chart.stacked&&(a=0,t.forEach((function(t,e){a+=t.value,s!==Number.MIN_VALUE&&(s+=h[n][e].value)}))),t.forEach((function(n,l){t[l].key===e&&(void 0!==r.yaxis[e].min&&(s="function"==typeof r.yaxis[e].min?r.yaxis[e].min(o.minY):r.yaxis[e].min),void 0!==r.yaxis[e].max&&(a="function"==typeof r.yaxis[e].max?r.yaxis[e].max(o.maxY):r.yaxis[e].max),i.setYScaleForIndex(e,s,a))}))}))}))}},{key:"autoScaleY",value:function(t,e,n){t||(t=this);var i=t.w;if(i.globals.isMultipleYAxis||i.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),e;var r=i.globals.seriesX[0],o=i.config.chart.stacked;return e.forEach((function(t,s){for(var a=0,l=0;l<r.length;l++)if(r[l]>=n.xaxis.min){a=l;break}var c,h,u=i.globals.minYArr[s],d=i.globals.maxYArr[s],f=i.globals.stackedSeriesTotals;i.globals.series.forEach((function(s,l){var p=s[a];o?(c=h=p=f[a],f.forEach((function(t,e){r[e]<=n.xaxis.max&&r[e]>=n.xaxis.min&&(t>h&&null!==t&&(h=t),s[e]<c&&null!==s[e]&&(c=s[e]))}))):(c=h=p,s.forEach((function(t,e){if(r[e]<=n.xaxis.max&&r[e]>=n.xaxis.min){var o=t,s=t;i.globals.series.forEach((function(n,i){null!==t&&(o=Math.min(n[e],o),s=Math.max(n[e],s))})),s>h&&null!==s&&(h=s),o<c&&null!==o&&(c=o)}}))),void 0===c&&void 0===h&&(c=u,h=d),(h*=h<0?.9:1.1)<0&&h<d&&(h=d),(c*=c<0?1.1:.9)<0&&c>u&&(c=u),e.length>1?(e[l].min=void 0===t.min?c:t.min,e[l].max=void 0===t.max?h:t.max):(e[0].min=void 0===t.min?c:t.min,e[0].max=void 0===t.max?h:t.max)}))})),e}}]),t}(),Z=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.scales=new q(e)}return s(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w.globals,o=-Number.MAX_VALUE,s=Number.MIN_VALUE;null===i&&(i=t+1);var a=r.series,l=a,c=a;"candlestick"===this.w.config.chart.type?(l=r.seriesCandleL,c=r.seriesCandleH):r.isRangeData&&(l=r.seriesRangeStart,c=r.seriesRangeEnd);for(var h=t;h<i;h++){r.dataPoints=Math.max(r.dataPoints,a[h].length);for(var u=0;u<r.series[h].length;u++){var d=a[h][u];null!==d&&p.isNumber(d)?(o=Math.max(o,c[h][u]),e=Math.min(e,l[h][u]),n=Math.max(n,l[h][u]),"candlestick"===this.w.config.chart.type&&(o=Math.max(o,r.seriesCandleO[h][u]),o=Math.max(o,r.seriesCandleH[h][u]),o=Math.max(o,r.seriesCandleL[h][u]),n=o=Math.max(o,r.seriesCandleC[h][u])),p.isFloat(d)&&(d=p.noExponents(d),r.yValueDecimal=Math.max(r.yValueDecimal,d.toString().split(".")[1].length)),s>l[h][u]&&l[h][u]<0&&(s=l[h][u])):r.hasNullValues=!0}}return{minY:s,maxY:o,lowestY:e,highestY:n}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var n=Number.MAX_VALUE;if(t.isMultipleYAxis)for(var i=0;i<t.series.length;i++){var r=this.getMinYMaxY(i,n,null,i+1);t.minYArr.push(r.minY),t.maxYArr.push(r.maxY),n=r.lowestY}var o=this.getMinYMaxY(0,n,null,t.series.length);if(t.minY=o.minY,t.maxY=o.maxY,n=o.lowestY,e.chart.stacked){var s=[],a=[];if(t.series.length)for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++)for(var c=0,h=0,u=0;u<t.series.length;u++)null!==t.series[u][l]&&p.isNumber(t.series[u][l])&&(t.series[u][l]>0?c=c+parseFloat(t.series[u][l])+1e-4:h+=parseFloat(t.series[u][l])),u===t.series.length-1&&(s.push(c),a.push(h));for(var d=0;d<s.length;d++)t.maxY=Math.max(t.maxY,s[d]),t.minY=Math.min(t.minY,a[d])}if(("line"===e.chart.type||"area"===e.chart.type||"candlestick"===e.chart.type)&&t.minY===Number.MIN_VALUE&&n!==-Number.MAX_VALUE&&n!==t.maxY){var f=t.maxY-n;n>=0&&n<=10&&(f=0),t.minY=n-5*f/100,t.maxY=t.maxY+5*f/100}return e.yaxis.map((function(e,n){void 0!==e.max&&("number"==typeof e.max?t.maxYArr[n]=e.max:"function"==typeof e.max&&(t.maxYArr[n]=e.max(t.maxY)),t.maxY=t.maxYArr[n]),void 0!==e.min&&("number"==typeof e.min?t.minYArr[n]=e.min:"function"==typeof e.min&&(t.minYArr[n]=e.min(t.minY)),t.minY=t.minYArr[n])})),t.isBarHorizontal&&(void 0!==e.xaxis.min&&"number"==typeof e.xaxis.min&&(t.minY=e.xaxis.min),void 0!==e.xaxis.max&&"number"==typeof e.xaxis.max&&(t.maxY=e.xaxis.max)),t.isMultipleYAxis?(this.scales.setMultipleYScales(),t.minY=n,t.yAxisScale.forEach((function(e,n){t.minYArr[n]=e.niceMin,t.maxYArr[n]=e.niceMax}))):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.yAxisScale[0].niceMin,t.maxYArr[0]=t.yAxisScale[0].niceMax),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr}}},{key:"setXRange",value:function(){var t,e=this.w.globals,n=this.w.config,i="numeric"===n.xaxis.type||"datetime"===n.xaxis.type||"category"===n.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric)for(var r=0;r<e.series.length;r++)if(e.labels[r])for(var o=0;o<e.labels[r].length;o++)null!==e.labels[r][o]&&p.isNumber(e.labels[r][o])&&(e.maxX=Math.max(e.maxX,e.labels[r][o]),e.initialmaxX=Math.max(e.maxX,e.labels[r][o]),e.minX=Math.min(e.minX,e.labels[r][o]),e.initialminX=Math.min(e.minX,e.labels[r][o]));if(e.noLabelsProvided&&0===n.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialmaxX=e.labels[e.labels.length-1],e.minX=1,e.initialminX=1),(e.comboChartsHasBars||"candlestick"===n.chart.type||"bar"===n.chart.type&&e.isXNumeric)&&("category"!==n.xaxis.type||e.isXNumeric)){var s=e.svgWidth/e.dataPoints*(Math.abs(e.maxX-e.minX)/e.svgWidth),a=e.minX-s/2;e.minX=a,e.initialminX=a;var l=e.maxX+s/((e.series.length+1)/e.series.length);e.maxX=l,e.initialmaxX=l}if(!e.isXNumeric&&!e.noLabelsProvided||n.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric||(void 0===n.xaxis.tickAmount?(t=Math.round(e.svgWidth/150),"numeric"===n.xaxis.type&&e.dataPoints<20&&(t=e.dataPoints-1),t>e.dataPoints&&0!==e.dataPoints&&(t=e.dataPoints-1)):t="dataPoints"===n.xaxis.tickAmount?e.series[e.maxValsInArrayIndex].length-1:n.xaxis.tickAmount,void 0!==n.xaxis.max&&"number"==typeof n.xaxis.max&&(e.maxX=n.xaxis.max),void 0!==n.xaxis.min&&"number"==typeof n.xaxis.min&&(e.minX=n.xaxis.min),void 0!==n.xaxis.range&&(e.minX=e.maxX-n.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE?e.xAxisScale=this.scales.linearScale(e.minX,e.maxX,t):(e.xAxisScale=this.scales.linearScale(1,t,t),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,t-1),e.seriesX=e.labels.slice())),i&&(e.labels=e.xAxisScale.result.slice())),e.minX===e.maxX)if("datetime"===n.xaxis.type){var c=new Date(e.minX);c.setDate(c.getDate()-2),e.minX=new Date(c).getTime();var h=new Date(e.maxX);h.setDate(h.getDate()+2),e.maxX=new Date(h).getTime()}else("numeric"===n.xaxis.type||"category"===n.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.maxX=e.maxX+2);return e.isXNumeric&&e.seriesX.forEach((function(t,n){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=t.slice();i.sort((function(t,e){return t-e})),i.forEach((function(t,i){i>0&&(e.minXDiff=Math.min(t-e.seriesX[n][i-1],e.minXDiff))}))})),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var n=0;n<t.seriesZ[e].length;n++)null!==t.seriesZ[e][n]&&p.isNumber(t.seriesZ[e][n])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][n]),t.minZ=Math.min(t.minZ,t.seriesZ[e][n]))}}]),t}(),Q=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[]}return s(t,[{key:"calculateTimeScaleTicks",value:function(t,e){var n=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timelineLabels=[],[];var r=new w(this.ctx),o=(e-t)/864e5;this.determineInterval(o),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,o<.005?i.globals.disableZoomIn=!0:o>5e4&&(i.globals.disableZoomOut=!0);var s=r.getTimeUnitsfromTimestamp(t,e),a=i.globals.gridWidth/o,l=a/24,h=l/60,u=Math.floor(24*o),d=Math.floor(24*o*60),f=Math.floor(o),p=Math.floor(o/30),g=Math.floor(o/365),m={minMinute:s.minMinute,minHour:s.minHour,minDate:s.minDate,minMonth:s.minMonth,minYear:s.minYear},v={firstVal:m,currentMinute:m.minMinute,currentHour:m.minHour,currentMonthDate:m.minDate,currentDate:m.minDate,currentMonth:m.minMonth,currentYear:m.minYear,daysWidthOnXAxis:a,hoursWidthOnXAxis:l,minutesWidthOnXAxis:h,numberOfMinutes:d,numberOfHours:u,numberOfDays:f,numberOfMonths:p,numberOfYears:g};switch(this.tickInterval){case"years":this.generateYearScale(v);break;case"months":case"half_year":this.generateMonthScale(v);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(v);break;case"hours":this.generateHourScale(v);break;case"minutes":this.generateMinuteScale(v)}var y=this.timeScaleArray.map((function(t){var e={position:t.position,unit:t.unit,year:t.year,day:t.day?t.day:1,hour:t.hour?t.hour:0,month:t.month+1};return"month"===t.unit?c({},e,{day:1,value:t.value+1}):"day"===t.unit||"hour"===t.unit?c({},e,{value:t.value}):"minute"===t.unit?c({},e,{value:t.value,minute:t.value}):t}));return y.filter((function(t){var e=1,r=Math.ceil(i.globals.gridWidth/120),o=t.value;void 0!==i.config.xaxis.tickAmount&&(r=i.config.xaxis.tickAmount),y.length>r&&(e=Math.floor(y.length/r));var s=!1,a=!1;switch(n.tickInterval){case"half_year":e=7,"year"===t.unit&&(s=!0);break;case"months":e=1,"year"===t.unit&&(s=!0);break;case"months_fortnight":e=15,"year"!==t.unit&&"month"!==t.unit||(s=!0),30===o&&(a=!0);break;case"months_days":e=10,"month"===t.unit&&(s=!0),30===o&&(a=!0);break;case"week_days":e=8,"month"===t.unit&&(s=!0);break;case"days":e=1,"month"===t.unit&&(s=!0);break;case"hours":"day"===t.unit&&(s=!0);break;case"minutes":o%5!=0&&(a=!0)}if("minutes"===n.tickInterval||"hours"===n.tickInterval){if(!a)return!0}else if((o%e==0||s)&&!a)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var n=this.w,i=this.formatDates(t),r=this.removeOverlappingTS(i);e?n.globals.invertedTimelineLabels=r.slice():n.globals.timelineLabels=r.slice(),new j(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){switch(!0){case t>1825:this.tickInterval="years";break;case t>800&&t<=1825:this.tickInterval="half_year";break;case t>180&&t<=800:this.tickInterval="months";break;case t>90&&t<=180:this.tickInterval="months_fortnight";break;case t>60&&t<=90:this.tickInterval="months_days";break;case t>30&&t<=60:this.tickInterval="week_days";break;case t>2&&t<=30:this.tickInterval="days";break;case t>.1&&t<=2:this.tickInterval="hours";break;case t<.1:this.tickInterval="minutes";break;default:this.tickInterval="days"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,n=t.currentMonth,i=t.currentYear,r=t.daysWidthOnXAxis,o=t.numberOfYears,s=e.minYear,a=0,l=new w(this.ctx);if(e.minDate>1&&e.minMonth>0){var c=l.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);a=(l.determineDaysOfYear(e.minYear)-c+1)*r,this.timeScaleArray.push({position:a,value:s=e.minYear+1,unit:"year",year:s,month:p.monthMod(n+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:a,value:s,unit:"year",year:i,month:p.monthMod(n+1)});for(var h=s,u=a,d=0;d<o;d++)u=l.determineDaysOfYear(++h-1)*r+u,this.timeScaleArray.push({position:u,value:h,unit:"year",year:h,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,n=t.currentMonthDate,i=t.currentMonth,r=t.currentYear,o=t.daysWidthOnXAxis,s=t.numberOfMonths,a=i,l=0,c=new w(this.ctx),h="month",u=0;if(e.minDate>1){l=(c.determineDaysOfMonths(i+1,e.minYear)-n+1)*o,a=p.monthMod(i+1);var d=r+u,f=p.monthMod(a),g=a;0===a&&(h="year",g=d,f=1,d+=u+=1),this.timeScaleArray.push({position:l,value:g,unit:h,year:d,month:f})}else this.timeScaleArray.push({position:l,value:a,unit:h,year:r,month:p.monthMod(i)});for(var m=a+1,v=l,y=0,b=1;y<s;y++,b++){0===(m=p.monthMod(m))?(h="year",u+=1):h="month";var x=r+Math.floor(m/12)+u;v=c.determineDaysOfMonths(m,x)*o+v,this.timeScaleArray.push({position:v,value:0===m?x:m,unit:h,year:x,month:0===m?1:m}),m++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,n=t.currentMonth,i=t.currentYear,r=t.hoursWidthOnXAxis,o=t.numberOfDays,s=new w(this.ctx),a="day",l=(24-e.minHour)*r,c=e.minDate+1,h=c,u=function(t,e,n){return t>s.determineDaysOfMonths(e+1,n)?(d=1,a="month",h=e+=1,e):e},d=c,f=u(d,n,i);this.timeScaleArray.push({position:l,value:h,unit:a,year:i,month:p.monthMod(f),day:d});for(var g=l,m=0;m<o;m++){a="day",f=u(d+=1,f,i+Math.floor(f/12)+0);var v=i+Math.floor(f/12)+0;g=24*r+g;var y=1===d?p.monthMod(f):d;this.timeScaleArray.push({position:g,value:y,unit:a,year:v,month:p.monthMod(f),day:y})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,n=t.currentDate,i=t.currentMonth,r=t.currentYear,o=t.minutesWidthOnXAxis,s=t.numberOfHours,a=new w(this.ctx),l="hour",c=function(t,e){return t>a.determineDaysOfMonths(e+1,r)&&(m=1,e+=1),{month:e,date:m}},h=function(t,e){return t>a.determineDaysOfMonths(e+1,r)?e+=1:e},u=60-e.minMinute,d=u*o,f=e.minHour+1,g=f+1;60===u&&(d=0,g=(f=e.minHour)+1);var m=n,v=h(m,i);this.timeScaleArray.push({position:d,value:f,unit:l,day:m,hour:g,year:r,month:p.monthMod(v)});for(var y=d,b=0;b<s;b++){l="hour",g>=24&&(g=0,l="day",v=c(m+=1,v).month,v=h(m,v));var x=r+Math.floor(v/12)+0;this.timeScaleArray.push({position:y=0===g&&0===b?u*o:60*o+y,value:0===g?m:g,unit:l,hour:g,day:m,year:x,month:p.monthMod(v)}),g++}}},{key:"generateMinuteScale",value:function(t){var e=t.firstVal,n=t.currentYear,i=t.minutesWidthOnXAxis,r=t.numberOfMinutes,o=i-(t.currentMinute-e.minMinute),s=e.minMinute+1,a=s+1,l=t.currentDate,c=t.currentMonth,h=t.currentHour;this.timeScaleArray.push({position:o,value:s,unit:"minute",day:l,hour:h,minute:a,year:n,month:p.monthMod(c)});for(var u=o,d=0;d<r;d++){a>=60&&(a=0,24===(h+=1)&&(h=0));var f=n+Math.floor(c/12)+0;this.timeScaleArray.push({position:u=i+u,value:a,unit:"minute",hour:h,minute:a,day:l,year:f,month:p.monthMod(c)}),a++}}},{key:"createRawDateString",value:function(t,e){var n=t.year;return n+="-"+("0"+t.month.toString()).slice(-2),n+="day"===t.unit?"day"===t.unit?"-"+("0"+e).slice(-2):"-01":"-"+("0"+(t.day?t.day:"1")).slice(-2),(n+="hour"===t.unit?"hour"===t.unit?"T"+("0"+e).slice(-2):"T00":"T"+("0"+(t.hour?t.hour:"0")).slice(-2))+("minute"===t.unit?":"+("0"+e).slice(-2)+":00.000Z":":00:00.000Z")}},{key:"formatDates",value:function(t){var e=this,n=this.w;return t.map((function(t){var i=t.value.toString(),r=new w(e.ctx),o=e.createRawDateString(t,i),s=new Date(Date.parse(o));if(void 0===n.config.xaxis.labels.format){var a="dd MMM",l=n.config.xaxis.labels.datetimeFormatter;"year"===t.unit&&(a=l.year),"month"===t.unit&&(a=l.month),"day"===t.unit&&(a=l.day),"hour"===t.unit&&(a=l.hour),"minute"===t.unit&&(a=l.minute),i=r.formatDate(s,a,!0,!1)}else i=r.formatDate(s,n.config.xaxis.labels.format);return{dateString:o,position:t.position,value:i,unit:t.unit,year:t.year,month:t.month}}))}},{key:"removeOverlappingTS",value:function(t){var e=this,n=new v(this.ctx),i=0;return t.map((function(r,o){if(o>0&&e.w.config.xaxis.labels.hideOverlappingLabels){var s=n.getTextRects(t[i].value).width;return r.position>t[i].position+s+10?(i=o,r):null}return r})).filter((function(t){return null!==t}))}}]),t}(),$=function(){function t(e,n){r(this,t),this.ctx=n,this.w=n.w,this.el=e,this.coreUtils=new k(this.ctx),this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[]}return s(t,[{key:"setupElements",value:function(){var t=this.w.globals,e=this.w.config,n=e.chart.type;t.axisCharts=["line","area","bar","rangeBar","candlestick","radar","scatter","bubble","heatmap"].indexOf(n)>-1,t.xyCharts=["line","area","bar","rangeBar","candlestick","scatter","bubble"].indexOf(n)>-1,t.isBarHorizontal=("bar"===e.chart.type||"rangeBar"===e.chart.type)&&e.plotOptions.bar.horizontal,t.chartClass=".mscharts"+t.cuid,t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),v.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"mscharts-canvas "+t.chartClass.substring(1)}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"mscharts-svg","xmlns:data":"MSChartsNS",transform:"translate(".concat(e.chart.offsetX,", ").concat(e.chart.offsetY,")")}),t.dom.Paper.node.style.background=e.chart.background,this.setSVGDimensions(),t.dom.elGraphical=t.dom.Paper.group().attr({class:"mscharts-inner mscharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("mscharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var n=this.w,i=n.config,r=n.globals,o={series:[],i:[]},s={series:[],i:[]},a={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]};r.series.map((function(e,i){void 0!==t[i].type?("column"===t[i].type||"bar"===t[i].type?(n.config.plotOptions.bar.horizontal=!1,l.series.push(e),l.i.push(i),n.globals.columnSeries=l.series):"area"===t[i].type?(s.series.push(e),s.i.push(i)):"line"===t[i].type?(o.series.push(e),o.i.push(i)):"scatter"===t[i].type?(a.series.push(e),a.i.push(i)):"bubble"===t[i].type||("candlestick"===t[i].type?(c.series.push(e),c.i.push(i)):console.warn("You have specified an unrecognized chart type. Available types for this propery are line/area/column/bar/scatter/bubble")),r.comboCharts=!0):(o.series.push(e),o.i.push(i))}));var h=new U(this.ctx,e),u=new O(this.ctx,e),d=new D(this.ctx),f=new F(this.ctx),p=new V(this.ctx,e),g=new z(this.ctx),m=[];if(r.comboCharts){if(s.series.length>0&&m.push(h.draw(s.series,"area",s.i)),l.series.length>0)if(n.config.chart.stacked){var v=new L(this.ctx,e);m.push(v.draw(l.series,l.i))}else{var y=new M(this.ctx,e);m.push(y.draw(l.series,l.i))}if(o.series.length>0&&m.push(h.draw(o.series,"line",o.i)),c.series.length>0&&m.push(u.draw(c.series,c.i)),a.series.length>0){var b=new U(this.ctx,e,!0);m.push(b.draw(a.series,"scatter",a.i))}}else switch(i.chart.type){case"line":m=h.draw(r.series,"line");break;case"area":m=h.draw(r.series,"area");break;case"bar":m=i.chart.stacked?new L(this.ctx,e).draw(r.series):new M(this.ctx,e).draw(r.series);break;case"candlestick":m=new O(this.ctx,e).draw(r.series);break;case"rangeBar":m=p.draw(r.series);break;case"heatmap":m=new N(this.ctx,e).draw(r.series);break;case"pie":case"donut":m=d.draw(r.series);break;case"radialBar":m=f.draw(r.series);break;case"radar":m=g.draw(r.series);break;default:m=h.draw(r.series)}return m}},{key:"setSVGDimensions",value:function(){var t=this.w.globals,e=this.w.config;t.svgWidth=e.chart.width,t.svgHeight=e.chart.height;var n=p.getDimensions(this.el),i=e.chart.width.toString().split(/[0-9]+/g).pop();if("%"===i?p.isNumber(n[0])&&(0===n[0].width&&(n=p.getDimensions(this.el.parentNode)),t.svgWidth=n[0]*parseInt(e.chart.width)/100):"px"!==i&&""!==i||(t.svgWidth=parseInt(e.chart.width)),"auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===e.chart.height.toString().split(/[0-9]+/g).pop()){var r=p.getDimensions(this.el.parentNode);t.svgHeight=r[1]*parseInt(e.chart.height)/100}else t.svgHeight=parseInt(e.chart.height);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth;t.svgWidth<0&&(t.svgWidth=0),t.svgHeight<0&&(t.svgHeight=0),v.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),t.dom.Paper.node.parentNode.parentNode.style.minHeight=t.svgHeight+(e.chart.sparkline.enabled?0:t.axisCharts?e.chart.parentHeightOffset:0)+"px",t.dom.elWrap.style.width=t.svgWidth+"px",t.dom.elWrap.style.height=t.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals;v.setAttrs(t.dom.elGraphical.node,{transform:"translate("+t.translateX+", "+t.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,n=0;"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(n=new W(this.ctx).getLegendBBox().clwh+10);var i=t.globals.dom.baseEl.querySelector(".mscharts-radialbar .mscharts-tracks"),r=t.globals.dom.baseEl.querySelector(".mscharts-radialbar .mscharts-datalabels-group"),o=2*t.globals.radialSize;if(i){var s=p.getBoundingClientRect(i);if(o=s.bottom,r){var a=p.getBoundingClientRect(r),l=Math.max(s.bottom,a.bottom)-s.top+a.height;o=Math.max(2*t.globals.radialSize,l)}}var c=o+e.translateY+n+20;e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",c),e.dom.elWrap.style.height=c+"px",v.setAttrs(e.dom.Paper.node,{height:c}),e.dom.Paper.node.parentNode.parentNode.style.minHeight=c+"px"}},{key:"coreCalculations",value:function(){new Z(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this.w.globals;t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesPercent=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.stackedSeriesTotals=[],t.labels=[],t.timelineLabels=[],t.noLabelsProvided=!1,t.timescaleTicks=[],t.resizeTimer=null,t.selectionResizeTimer=null,t.seriesXvalues=this.w.config.series.map((function(t){return[]})),t.seriesYvalues=this.w.config.series.map((function(t){return[]})),t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.isDataXYZ=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialmaxX=-Number.MAX_VALUE,t.initialminX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this,e=this.w;e.globals.ignoreYAxisIndexes=e.globals.collapsedSeries.map((function(e,n){if(t.w.globals.isMultipleYAxis)return e.index}))}},{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new B(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new B(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!=t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var n=this.w.config,i=this.w.globals,r=0;r<t[e].data.length;r++)if(void 0!==t[e].data[r][1]&&(Array.isArray(t[e].data[r][1])&&4===t[e].data[r][1].length?this.twoDSeries.push(p.parseNumber(t[e].data[r][1][3])):this.twoDSeries.push(p.parseNumber(t[e].data[r][1])),i.dataFormatXNumeric=!0),"datetime"===n.xaxis.type){var o=new Date(t[e].data[r][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(t[e].data[r][0]);for(var s=0;s<t[e].data.length;s++)void 0!==t[e].data[s][2]&&(this.threeDSeries.push(t[e].data[s][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var n=this.w.config,i=this.w.globals,r=new w(this.ctx),o=e;i.collapsedSeriesIndices.indexOf(e)>-1&&(o=this.activeSeriesIndex);for(var s=0;s<t[e].data.length;s++)void 0!==t[e].data[s].y&&(Array.isArray(t[e].data[s].y)?this.twoDSeries.push(p.parseNumber(t[e].data[s].y[t[e].data[s].y.length-1])):this.twoDSeries.push(p.parseNumber(t[e].data[s].y)));for(var a=0;a<t[o].data.length;a++){var l="string"==typeof t[o].data[a].x,c=!!r.isValidDate(t[o].data[a].x.toString());l||c?l?"datetime"!==n.xaxis.type||i.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[a].x)):this.twoDSeriesX.push(r.parseDate(t[o].data[a].x)):"datetime"===n.xaxis.type?this.twoDSeriesX.push(r.parseDate(t[o].data[a].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[o].data[a].x))):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[o].data[a].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var h=0;h<t[e].data.length;h++)this.threeDSeries.push(t[e].data[h].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",t,e)),n.seriesRangeStart.push(i.start),n.seriesRangeEnd.push(i.end),i}},{key:"handleCandleStickData",value:function(t,e){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickDataFormat("array",t,e):this.isFormatXY()&&(i=this.handleCandleStickDataFormat("xy",t,e)),n.seriesCandleO.push(i.o),n.seriesCandleH.push(i.h),n.seriesCandleL.push(i.l),n.seriesCandleC.push(i.c),i}},{key:"handleRangeDataFormat",value:function(t,e,n){var i=[],r=[],o="Please provide [Start, End] values in valid format. Read more https://mscharts.com/docs/series/#rangecharts",s=new B(this.ctx).getActiveConfigSeriesIndex();if("array"===t){if(2!==e[s].data[0][1].length)throw new Error(o);for(var a=0;a<e[n].data.length;a++)i.push(e[n].data[a][1][0]),r.push(e[n].data[a][1][1])}else if("xy"===t){if(2!==e[s].data[0].y.length)throw new Error(o);for(var l=0;l<e[n].data.length;l++)i.push(e[n].data[l].y[0]),r.push(e[n].data[l].y[1])}return{start:i,end:r}}},{key:"handleCandleStickDataFormat",value:function(t,e,n){var i=[],r=[],o=[],s=[],a="Please provide [Open, High, Low and Close] values in valid format. Read more https://mscharts.com/docs/series/#candlestick";if("array"===t){if(4!==e[n].data[0][1].length)throw new Error(a);for(var l=0;l<e[n].data.length;l++)i.push(e[n].data[l][1][0]),r.push(e[n].data[l][1][1]),o.push(e[n].data[l][1][2]),s.push(e[n].data[l][1][3])}else if("xy"===t){if(4!==e[n].data[0].y.length)throw new Error(a);for(var c=0;c<e[n].data.length;c++)i.push(e[n].data[c].y[0]),r.push(e[n].data[c].y[1]),o.push(e[n].data[c].y[2]),s.push(e[n].data[c].y[3])}return{o:i,h:r,l:o,c:s}}},{key:"parseDataAxisCharts",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,n=this.w.config,i=this.w.globals,r=new w(e),o=0;o<t.length;o++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[o].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==n.chart.type&&"rangeArea"!==n.chart.type&&"rangeBar"!==t[o].type&&"rangeArea"!==t[o].type||(i.isRangeData=!0,this.handleRangeData(t,o)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,o):this.isFormatXY()&&this.handleFormatXY(t,o),"candlestick"!==n.chart.type&&"candlestick"!==t[o].type||this.handleCandleStickData(t,o),i.series.push(this.twoDSeries),i.labels.push(this.twoDSeriesX),i.seriesX.push(this.twoDSeriesX),this.fallbackToCategory||(i.isXNumeric=!0);else{if("datetime"===n.xaxis.type){i.isXNumeric=!0;for(var s=n.labels.length>0?n.labels.slice():n.xaxis.categories.slice(),a=0;a<s.length;a++)if("string"==typeof s[a]){var l=r.isValidDate(s[a]);if(!l)throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");this.twoDSeriesX.push(r.parseDate(s[a]))}else{if(13!==String(s[a]).length)throw new Error("Please provide a valid JavaScript timestamp");this.twoDSeriesX.push(s[a])}i.seriesX.push(this.twoDSeriesX)}else if("numeric"===n.xaxis.type){i.isXNumeric=!0;var c=n.labels.length>0?n.labels.slice():n.xaxis.categories.slice();c.length>0&&(this.twoDSeriesX=c,i.seriesX.push(this.twoDSeriesX))}i.labels.push(this.twoDSeriesX);var h=t[o].data.map((function(t){return p.parseNumber(t)}));i.series.push(h)}i.seriesZ.push(this.threeDSeries),i.seriesNames.push(void 0!==t[o].name?t[o].name:"series-"+parseInt(o+1))}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,n=this.w.config;e.series=t.slice(),e.seriesNames=n.labels.slice();for(var i=0;i<e.series.length;i++)void 0===e.seriesNames[i]&&e.seriesNames.push("series-"+(i+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,n=this.w.globals;if(e.xaxis.categories.length>0)n.labels=e.xaxis.categories;else if(e.labels.length>0)n.labels=e.labels.slice();else if(this.fallbackToCategory)n.labels=n.labels[0];else{var i=[];if(n.axisCharts){if(n.series.length>0)for(var r=0;r<n.series[n.maxValsInArrayIndex].length;r++)i.push(r+1);for(var o=0;o<t.length;o++)n.seriesX.push(i);n.isXNumeric=!0}if(0===i.length){i=[0,10];for(var s=0;s<t.length;s++)n.seriesX.push(i)}n.labels=i,n.noLabelsProvided=!0}}},{key:"parseData",value:function(t){var e=this.w,n=e.config,i=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.resetGlobals(),this.isMultipleY(),i.axisCharts?this.parseDataAxisCharts(t):this.parseDataNonAxisCharts(t),this.coreUtils.getLargestSeries(),"bar"===n.chart.type&&n.chart.stacked){var r=new B(this.ctx);i.series=r.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&("numeric"!==n.xaxis.type||0!==n.labels.length||0!==n.xaxis.categories.length)||this.handleExternalLabelsData(t)}},{key:"xySettings",value:function(){var t=null,e=this.w;if(e.globals.axisCharts&&("back"===e.config.xaxis.crosshairs.position&&new R(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new R(this.ctx).drawYCrosshairs(),t=this.coreUtils.getCalculatedRatios(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter)){var n,i=new Q(this.ctx);isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?(n=i.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX),i.recalcDimensionsBasedOnFormat(n,!1)):e.globals.isBarHorizontal&&(n=i.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY),i.recalcDimensionsBasedOnFormat(n,!0))}return t}},{key:"drawAxis",value:function(t,e){var n,i,r=this.w.globals,o=this.w.config,s=new G(this.ctx),a=new Y(this.ctx);r.axisCharts&&"radar"!==t&&(r.isBarHorizontal?(i=a.drawYaxisInversed(0),n=s.drawXaxisInversed(0),r.dom.elGraphical.add(n),r.dom.elGraphical.add(i)):(n=s.drawXaxis(),r.dom.elGraphical.add(n),o.yaxis.map((function(t,e){-1===r.ignoreYAxisIndexes.indexOf(e)&&(i=a.drawYaxis(e),r.dom.Paper.add(i))})))),o.yaxis.map((function(t,e){-1===r.ignoreYAxisIndexes.indexOf(e)&&a.yAxisTitleRotate(e,t.opposite)}))}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&"function"!=typeof e.config.chart.events.selection){var n=e.config.chart.brush.targets||[e.config.chart.brush.target];n.forEach((function(e){var n=MSCharts.getChartByID(e);n.w.globals.brushSource=t.ctx;var i=function(){t.ctx._updateOptions({chart:{selection:{xaxis:{min:n.w.globals.minX,max:n.w.globals.maxX}}}},!1,!1)};"function"!=typeof n.w.config.chart.events.zoomed&&(n.w.config.chart.events.zoomed=function(){i()}),"function"!=typeof n.w.config.chart.events.scrolled&&(n.w.config.chart.events.scrolled=function(){i()})})),e.config.chart.events.selection=function(t,i){n.forEach((function(t){var n=MSCharts.getChartByID(t),r=p.clone(e.config.yaxis);e.config.chart.brush.autoScaleYaxis&&(r=new q(n).autoScaleY(n,r,i)),n._updateOptions({xaxis:{min:i.xaxis.min,max:i.xaxis.max},yaxis:r},!1,!1,!1,!1)}))}}}}]),t}(),J=setTimeout;function K(t){return Boolean(t&&void 0!==t.length)}function tt(){}function et(t){if(!(this instanceof et))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],at(t,this)}function nt(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,et._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void rt(e.promise,t)}it(e.promise,i)}else(1===t._state?it:rt)(e.promise,t._value)}))):t._deferreds.push(e)}function it(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof et)return t._state=3,t._value=e,void ot(t);if("function"==typeof n)return void at(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,ot(t)}catch(e){rt(t,e)}}function rt(t,e){t._state=2,t._value=e,ot(t)}function ot(t){2===t._state&&0===t._deferreds.length&&et._immediateFn((function(){t._handled||et._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)nt(t,t._deferreds[e]);t._deferreds=null}function st(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function at(t,e){var n=!1;try{t((function(t){n||(n=!0,it(e,t))}),(function(t){n||(n=!0,rt(e,t))}))}catch(t){if(n)return;n=!0,rt(e,t)}}et.prototype.catch=function(t){return this.then(null,t)},et.prototype.then=function(t,e){var n=new this.constructor(tt);return nt(this,new st(t,e,n)),n},et.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))},et.all=function(t){return new et((function(e,n){if(!K(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var r=i.length;function o(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){o(t,e)}),n)}i[t]=s,0==--r&&e(i)}catch(t){n(t)}}for(var s=0;s<i.length;s++)o(s,i[s])}))},et.resolve=function(t){return t&&"object"==typeof t&&t.constructor===et?t:new et((function(e){e(t)}))},et.reject=function(t){return new et((function(e,n){n(t)}))},et.race=function(t){return new et((function(e,n){if(!K(t))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)et.resolve(t[i]).then(e,n)}))},et._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){J(t,0)},et._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var lt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"getSvgString",value:function(){return this.w.globals.dom.Paper.svg()}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelector(".mscharts-xcrosshairs"),n=t.globals.dom.baseEl.querySelector(".mscharts-ycrosshairs");e&&e.setAttribute("x",-500),n&&(n.setAttribute("y1",-100),n.setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var t=this.getSvgString(),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(e)}},{key:"dataURI",value:function(){var t=this;return new et((function(e){var n=t.w;t.cleanup();var i=document.createElement("canvas");i.width=n.globals.svgWidth,i.height=parseInt(n.globals.dom.elWrap.style.height);var r="transparent"===n.config.chart.background?"#fff":n.config.chart.background,o=i.getContext("2d");o.fillStyle=r,o.fillRect(0,0,i.width,i.height);var s=window.URL||window.webkitURL||window,a=new Image;a.crossOrigin="anonymous";var l=t.getSvgString(),c="data:image/svg+xml,"+encodeURIComponent(l);a.onload=function(){o.drawImage(a,0,0),s.revokeObjectURL(c);var t=i.toDataURL("image/png");e(t)},a.src=c}))}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),".svg")}},{key:"exportToPng",value:function(){var t=this;this.dataURI().then((function(e){t.triggerDownload(e,".png")}))}},{key:"triggerDownload",value:function(t,e){var n=document.createElement("a");n.href=t,n.download=this.w.globals.chartID+e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]),t}(),ct=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.anim=new m(this.ctx),this.xaxisLabels=n.globals.labels.slice(),this.animX=n.config.grid.xaxis.lines.animate&&n.config.chart.animations.enabled,this.animY=n.config.grid.yaxis.lines.animate&&n.config.chart.animations.enabled,n.globals.timelineLabels.length>0&&(this.xaxisLabels=n.globals.timelineLabels.slice())}return s(t,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,n=new v(this.ctx);null===t&&(t=n.group({class:"mscharts-grid"}));var i=n.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),r=n.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(r),t.add(i),t}},{key:"drawGrid",value:function(){var t=this.w,e=new G(this.ctx),n=new Y(this.ctx),i=this.w.globals,r=null;if(i.axisCharts){if(t.config.grid.show)r=this.renderGrid(),i.dom.elGraphical.add(r.el),this.drawGridArea(r.el);else{var o=this.drawGridArea();i.dom.elGraphical.add(o)}null!==r&&e.xAxisLabelCorrections(r.xAxisTickWidth),n.setYAxisTextAlignments()}}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,n=new v(this.ctx),i=Array.isArray(t.config.stroke.width)?0:t.config.stroke.width;if(Array.isArray(t.config.stroke.width)){var r=0;t.config.stroke.width.forEach((function(t){r=Math.max(r,t)})),i=r}e.dom.elGridRectMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(e.cuid)),e.dom.elGridRect=n.drawRect(-i/2,-i/2,e.gridWidth+i,e.gridHeight+i,0,"#fff"),new k(this).getLargestMarkerSize();var o=t.globals.markers.largestSize+1;e.dom.elGridRectMarker=n.drawRect(-o,-o,e.gridWidth+2*o,e.gridHeight+2*o,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var s=e.dom.baseEl.querySelector("defs");s.appendChild(e.dom.elGridRectMask),s.appendChild(e.dom.elGridRectMarkerMask)}},{key:"renderGrid",value:function(){var t=this.w,e=new v(this.ctx),n=t.config.grid.strokeDashArray,i=e.group({class:"mscharts-grid"}),r=e.group({class:"mscharts-gridlines-horizontal"}),o=e.group({class:"mscharts-gridlines-vertical"});i.add(r),i.add(o);for(var s,a=8,l=0;l<t.globals.series.length&&(void 0!==t.globals.yAxisScale[l]&&(a=t.globals.yAxisScale[l].result.length-1),!(a>2));l++);if(t.globals.isBarHorizontal){if(s=a,t.config.grid.xaxis.lines.show||t.config.xaxis.axisTicks.show)for(var c,h=t.globals.padHorizontal,u=t.globals.gridHeight,d=0;d<s+1&&(c=h=h+t.globals.gridWidth/s+.3,d!==s-1);d++){if(t.config.grid.xaxis.lines.show){var f=e.drawLine(h,0,c,u,t.config.grid.borderColor,n);f.node.classList.add("mscharts-gridline"),o.add(f),this.animX&&this.animateLine(f,{x1:0,x2:0},{x1:h,x2:c})}new G(this.ctx).drawXaxisTicks(h,i)}if(t.config.grid.yaxis.lines.show)for(var p=0,g=0,m=t.globals.gridWidth,y=0;y<t.globals.dataPoints+1;y++){var b=e.drawLine(0,p,m,g,t.config.grid.borderColor,n);r.add(b),b.node.classList.add("mscharts-gridline"),this.animY&&this.animateLine(b,{y1:p+20,y2:g+20},{y1:p,y2:g}),g=p+=t.globals.gridHeight/t.globals.dataPoints}}else{if(s=this.xaxisLabels.length,t.config.grid.xaxis.lines.show||t.config.xaxis.axisTicks.show){var x,w=t.globals.padHorizontal,S=t.globals.gridHeight;if(t.globals.timelineLabels.length>0)for(var k=0;k<s;k++){if(w=this.xaxisLabels[k].position,x=this.xaxisLabels[k].position,t.config.grid.xaxis.lines.show&&w>0&&w<t.globals.gridWidth){var C=e.drawLine(w,0,x,S,t.config.grid.borderColor,n);C.node.classList.add("mscharts-gridline"),o.add(C),this.animX&&this.animateLine(C,{x1:0,x2:0},{x1:w,x2:x})}var A=new G(this.ctx);k===s-1&&t.globals.skipLastTimelinelabel||A.drawXaxisTicks(w,i)}else for(var _=s,E=0;E<_;E++){var T=_;if(t.globals.isXNumeric&&(T-=1),x=w+=t.globals.gridWidth/T,E===T-1)break;if(t.config.grid.xaxis.lines.show){var P=e.drawLine(w,0,x,S,t.config.grid.borderColor,n);P.node.classList.add("mscharts-gridline"),o.add(P),this.animX&&this.animateLine(P,{x1:0,x2:0},{x1:w,x2:x})}new G(this.ctx).drawXaxisTicks(w,i)}}if(t.config.grid.yaxis.lines.show)for(var I=0,M=0,L=t.globals.gridWidth,O=0;O<a+1;O++){var R=e.drawLine(0,I,L,M,t.config.grid.borderColor,n);r.add(R),R.node.classList.add("mscharts-gridline"),this.animY&&this.animateLine(R,{y1:I+20,y2:M+20},{y1:I,y2:M}),M=I+=t.globals.gridHeight/a}}return this.drawGridBands(i,s,a),{el:i,xAxisTickWidth:t.globals.gridWidth/s}}},{key:"drawGridBands",value:function(t,e,n){var i=this.w,r=new v(this.ctx);if(void 0!==i.config.grid.row.colors&&i.config.grid.row.colors.length>0)for(var o=0,s=i.globals.gridHeight/n,a=i.globals.gridWidth,l=0,c=0;l<n;l++,c++){c>=i.config.grid.row.colors.length&&(c=0);var h=r.drawRect(0,o,a,s,0,i.config.grid.row.colors[c],i.config.grid.row.opacity);t.add(h),h.node.classList.add("mscharts-gridRow"),o+=i.globals.gridHeight/n}if(void 0!==i.config.grid.column.colors&&i.config.grid.column.colors.length>0)for(var u=i.globals.padHorizontal,d=i.globals.padHorizontal+i.globals.gridWidth/e,f=i.globals.gridHeight,p=0,g=0;p<e;p++,g++){g>=i.config.grid.column.colors.length&&(g=0);var m=r.drawRect(u,0,d,f,0,i.config.grid.column.colors[g],i.config.grid.column.opacity);m.node.classList.add("mscharts-gridColumn"),t.add(m),u+=i.globals.gridWidth/e}}},{key:"animateLine",value:function(t,e,n){var i=this.w,r=i.config.chart.animations;!r||i.globals.resized||i.globals.dataChanged||this.anim.animateLine(t,e,n,r.speed)}}]),t}(),ht=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"checkResponsiveConfig",value:function(t){var e=this,n=this.w,i=n.config;if(0!==i.responsive.length){var r=i.responsive.slice();r.sort((function(t,e){return t.breakpoint>e.breakpoint?1:e.breakpoint>t.breakpoint?-1:0})).reverse();var o=new C({}),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r[0].breakpoint,s=window.innerWidth>0?window.innerWidth:screen.width;if(s>i){var a=k.extendArrayProps(o,n.globals.initialConfig);t=p.extend(a,t),t=p.extend(n.config,t),e.overrideResponsiveOptions(t)}else for(var l=0;l<r.length;l++)s<r[l].breakpoint&&(t=k.extendArrayProps(o,r[l].options),t=p.extend(n.config,t),e.overrideResponsiveOptions(t))};if(t){var a=k.extendArrayProps(o,t);a=p.extend(n.config,a),s(a=p.extend(a,t))}else s({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new C(t).init();this.w.config=e}}]),t}(),ut=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.colors=[]}return s(t,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this.w,e=new p;if(t.globals.dom.elWrap.classList.add(t.config.theme.mode),void 0===t.config.colors?t.globals.colors=this.predefined():(t.globals.colors=t.config.colors,t.globals.axisCharts&&"bar"!==t.config.chart.type&&Array.isArray(t.config.colors)&&t.config.colors.length>0&&t.config.colors.length===t.config.series.length&&(t.globals.colors=t.config.colors.map((function(e,n){return"function"==typeof e?e({value:t.globals.axisCharts?t.globals.series[n][0]?t.globals.series[n][0]:0:t.globals.series[n],seriesIndex:n,w:t}):e})))),t.config.theme.monochrome.enabled){var n=[],i=t.globals.series.length;t.config.plotOptions.bar.distributed&&"bar"===t.config.chart.type&&(i=t.globals.series[0].length*t.globals.series.length);for(var r=t.config.theme.monochrome.color,o=1/(i/t.config.theme.monochrome.shadeIntensity),s=t.config.theme.monochrome.shadeTo,a=0,l=0;l<i;l++){var c=void 0;"dark"===s?(c=e.shadeColor(-1*a,r),a+=o):(c=e.shadeColor(a,r),a+=o),n.push(c)}t.globals.colors=n.slice()}var h=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),t.globals.stroke.colors=void 0===t.config.stroke.colors?h:t.config.stroke.colors,this.pushExtraColors(t.globals.stroke.colors),t.globals.fill.colors=void 0===t.config.fill.colors?h:t.config.fill.colors,this.pushExtraColors(t.globals.fill.colors),t.globals.dataLabels.style.colors=void 0===t.config.dataLabels.style.colors?h:t.config.dataLabels.style.colors,this.pushExtraColors(t.globals.dataLabels.style.colors,50),t.globals.radarPolygons.fill.colors=void 0===t.config.plotOptions.radar.polygons.fill.colors?["dark"===t.config.theme.mode?"#202D48":"#fff"]:t.config.plotOptions.radar.polygons.fill.colors,this.pushExtraColors(t.globals.radarPolygons.fill.colors,20),t.globals.markers.colors=void 0===t.config.markers.colors?h:t.config.markers.colors,this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=e||i.globals.series.length;if(null===n&&(n="bar"===i.config.chart.type&&i.config.plotOptions.bar.distributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap.colorScale.inverse),n&&(r=i.globals.series[0].length*i.globals.series.length),t.length<r)for(var o=r-t.length,s=0;s<o;s++)t.push(t[s])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode||"light",n=t.theme.palette?t.theme.palette:"dark"===e?"palette4":"palette1",i=t.chart.foreColor?t.chart.foreColor:"dark"===e?"#f6f7f8":"#373d3f";return t.tooltip.theme=e,t.chart.foreColor=i,t.theme.palette=n,t}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),t}(),dt=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return s(t,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,n=t.clientX,i=t.clientY,r=t.hasBars,o=this.w,s=o.globals.gridWidth,a=s/(o.globals.dataPoints-1),l=t.elGrid.getBoundingClientRect();(r&&o.globals.comboCharts||r)&&(a=s/o.globals.dataPoints);var c=n-l.left,h=i-l.top;c<0||h<0||c>o.globals.gridWidth||h>o.globals.gridHeight?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):o.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):o.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var u=Math.round(c/a);r&&(u=Math.ceil(c/a),u-=1);for(var d,f=null,p=null,g=[],m=0;m<o.globals.seriesXvalues.length;m++)g.push([o.globals.seriesXvalues[m][0]-1e-6].concat(o.globals.seriesXvalues[m]));return g=g.map((function(t){return t.filter((function(t){return t}))})),d=o.globals.seriesYvalues.map((function(t){return t.filter((function(t){return t}))})),o.globals.isXNumeric&&(f=(p=this.closestInMultiArray(c,h,g,d)).index,u=p.j,null!==f&&(u=(p=this.closestInArray(c,g=o.globals.seriesXvalues[f])).index)),o.globals.capturedSeriesIndex=null===f?-1:f,o.globals.capturedDataPointIndex=null===u?-1:u,(!u||u<1)&&(u=0),{capturedSeries:f,j:u,hoverX:c,hoverY:h}}},{key:"closestInMultiArray",value:function(t,e,n,i){var r=0,o=null,s=-1;this.w.globals.series.length>1?r=this.getFirstActiveXArray(n):o=0;var a=i[r][0],l=Math.abs(t-n[r][0]),c=Math.abs(e-a),h=c+l;return i.map((function(r,a){r.map((function(r,u){var d=Math.abs(e-i[a][u]),f=Math.abs(t-n[a][u]),p=f+d;p<h&&(h=p,l=f,c=d,o=a,s=u)}))})),{index:o,j:s}}},{key:"getFirstActiveXArray",value:function(t){for(var e=0,n=new k(this.ctx),i=t.map((function(t,e){return t.length>0?e:-1})),r=0;r<i.length;r++){var o=n.getSeriesTotalByIndex(r);if(-1!==i[r]&&0!==o&&!n.seriesHaveSameValues(r)){e=i[r];break}}return e}},{key:"closestInArray",value:function(t,e){for(var n=null,i=Math.abs(t-e[0]),r=0;r<e.length;r++){var o=Math.abs(t-e[r]);o<i&&(i=o,n=r)}return{index:n}}},{key:"isXoverlap",value:function(t){var e=[],n=this.w.globals.seriesX.filter((function(t){return void 0!==t[0]}));if(n.length>0)for(var i=0;i<n.length-1;i++)void 0!==n[i][t]&&void 0!==n[i+1][t]&&n[i][t]!==n[i+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,n=0;n<e.length-1;n++)if(e[n].data.length!==e[n+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return f(t).reduce((function(t,e){return t+e.getBBox().height}),0)}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,n=this.ttCtx;0===n.allTooltipSeriesGroups.length&&(n.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".mscharts-tooltip-series-group"));for(var i=n.allTooltipSeriesGroups,r=0;r<i.length;r++)"enable"===t?(i[r].classList.add("active"),i[r].style.display=e.config.tooltip.items.display):(i[r].classList.remove("active"),i[r].style.display="none")}}]),t}(),ft=function(){function t(e){r(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new dt(e)}return s(t,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,n=void 0===e||e,i=t.ttItems,r=t.i,o=void 0===r?0:r,s=t.j,a=void 0===s?null:s;void 0!==this.w.config.tooltip.custom?this.handleCustomTooltip({i:o,j:a}):this.toggleActiveInactiveSeries(n);var l=this.getValuesToPrint({i:o,j:a});this.printLabels({i:o,j:a,values:l,ttItems:i,shared:n});var c=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=c.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=c.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,n=t.i,i=t.j,r=t.values,o=t.ttItems,s=t.shared,a=this.w,l=r.xVal,c=r.zVal,h=r.xAxisTTVal,u="",d=a.globals.colors[n];null!==i&&a.config.plotOptions.bar.distributed&&(d=a.globals.colors[i]);for(var f=0,p=a.globals.series.length-1;f<a.globals.series.length;f++,p--){var g=this.getFormatters(n);if(u=this.getSeriesName({fn:g.yLbTitleFormatter,index:n,seriesIndex:n,j:i}),s){var m=a.config.tooltip.inverseOrder?p:f;g=this.getFormatters(m),u=this.getSeriesName({fn:g.yLbTitleFormatter,index:m,seriesIndex:n,j:i}),d=a.globals.colors[m],e=g.yLbFormatter(a.globals.series[m][i],{series:a.globals.series,seriesIndex:m,dataPointIndex:i,w:a}),(this.ttCtx.hasBars()&&a.config.chart.stacked&&0===a.globals.series[m][i]||void 0===a.globals.series[m][i])&&(e=void 0)}else e=g.yLbFormatter(a.globals.series[n][i],{series:a.globals.series,seriesIndex:n,dataPointIndex:i,w:a});null===i&&(e=g.yLbFormatter(a.globals.series[n],a)),this.DOMHandling({i:n,t:f,ttItems:o,values:{val:e,xVal:l,xAxisTTVal:h,zVal:c},seriesName:u,shared:s,pColor:d})}}},{key:"getFormatters",value:function(t){var e,n=this.w,i=n.globals.yLabelFormatters[t];return void 0!==n.globals.ttVal?Array.isArray(n.globals.ttVal)?(i=n.globals.ttVal[t]&&n.globals.ttVal[t].formatter,e=n.globals.ttVal[t]&&n.globals.ttVal[t].title&&n.globals.ttVal[t].title.formatter):(i=n.globals.ttVal.formatter,"function"==typeof n.globals.ttVal.title.formatter&&(e=n.globals.ttVal.title.formatter)):e=n.config.tooltip.y.title.formatter,"function"!=typeof i&&(i=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(t){return t}),"function"!=typeof e&&(e=function(t){return t}),{yLbFormatter:i,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.seriesIndex,n=t.j,i=this.w;return(0,t.fn)(String(i.globals.seriesNames[t.index]),{series:i.globals.series,seriesIndex:e,dataPointIndex:n,w:i})}},{key:"DOMHandling",value:function(t){var e=t.i,n=t.t,i=t.ttItems,r=t.values,o=t.seriesName,s=t.shared,a=t.pColor,l=this.w,c=this.ttCtx,h=r.val,u=r.xVal,d=r.xAxisTTVal,f=r.zVal,p=null;p=i[n].children,l.config.tooltip.fillSeriesColor&&(i[n].style.backgroundColor=a,p[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".mscharts-tooltip-title")),c.tooltipTitle.innerHTML=u),c.blxaxisTooltip&&(c.xaxisTooltipText.innerHTML=""!==d?d:u);var g=i[n].querySelector(".mscharts-tooltip-text-label");g&&(g.innerHTML=o?o+": ":"");var m=i[n].querySelector(".mscharts-tooltip-text-value");m&&(m.innerHTML=h),p[0]&&p[0].classList.contains("mscharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(a=l.config.tooltip.marker.fillColors[e]),p[0].style.backgroundColor=a),l.config.tooltip.marker.show||(p[0].style.display="none"),null!==f&&(i[n].querySelector(".mscharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,i[n].querySelector(".mscharts-tooltip-text-z-value").innerHTML=f),s&&p[0]&&(p[0].parentNode.style.display=null==h||l.globals.collapsedSeriesIndices.indexOf(n)>-1?"none":l.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(t){var e=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var n=e.globals.dom.baseEl.querySelector(".mscharts-tooltip-series-group");n&&(n.classList.add("active"),n.style.display=e.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,n=t.j,i=this.w,r=this.ctx.series.filteredSeriesX(),o="",s=null,a=null,l={series:i.globals.series,seriesIndex:e,dataPointIndex:n,w:i},c=i.globals.ttZFormatter;null===n?a=i.globals.series[e]:i.globals.isXNumeric?(o=r[e][n],0===r[e].length&&(o=r[this.tooltipUtil.getFirstActiveXArray(r)][n])):o=void 0!==i.globals.labels[n]?i.globals.labels[n]:"";var h=o;return i.globals.isXNumeric&&"datetime"===i.config.xaxis.type?o=new X(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,h,h):i.globals.isBarHorizontal||(o=i.globals.xLabelFormatter(h,l)),void 0!==i.config.tooltip.x.formatter&&(o=i.globals.ttKeyFormatter(h,l)),i.globals.seriesZ.length>0&&i.globals.seriesZ[0].length>0&&(s=c(i.globals.seriesZ[e][n],i)),{val:a,xVal:o,xAxisTTVal:"function"==typeof i.config.xaxis.tooltip.formatter?i.globals.xaxisTooltipFormatter(h,l):o,zVal:s}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,n=t.j,i=this.w;this.ttCtx.getElTooltip().innerHTML=i.config.tooltip.custom({ctx:this.ctx,series:i.globals.series,seriesIndex:e,dataPointIndex:n,w:i})}}]),t}(),pt=function(){function t(e){r(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return s(t,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.ttCtx,i=this.w,r=n.getElXCrosshairs(),o=t-n.xcrosshairsWidth/2,s=i.globals.labels.slice().length;if(null!==e&&(o=i.globals.gridWidth/s*e),"tickWidth"===i.config.xaxis.crosshairs.width||"barWidth"===i.config.xaxis.crosshairs.width?o+n.xcrosshairsWidth>i.globals.gridWidth&&(o=i.globals.gridWidth-n.xcrosshairsWidth):null!==e&&(o+=i.globals.gridWidth/s/2),o<0&&(o=0),o>i.globals.gridWidth&&(o=i.globals.gridWidth),null!==r&&(r.setAttribute("x",o),r.setAttribute("x1",o),r.setAttribute("x2",o),r.setAttribute("y2",i.globals.gridHeight),r.classList.add("active")),n.blxaxisTooltip){var a=o;"tickWidth"!==i.config.xaxis.crosshairs.width&&"barWidth"!==i.config.xaxis.crosshairs.width||(a=o+n.xcrosshairsWidth/2),this.moveXAxisTooltip(a)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&(v.setAttrs(e.ycrosshairs,{y1:t,y2:t}),v.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t}))}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,n=this.ttCtx;if(null!==n.xaxisTooltip){n.xaxisTooltip.classList.add("active");var i,r=n.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;t-=n.xaxisTooltip.getBoundingClientRect().width/2,isNaN(t)||(t+=e.globals.translateX,i=new v(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=i.width+"px",n.xaxisTooltip.style.left=t+"px",n.xaxisTooltip.style.top=r+"px")}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,n=this.ttCtx;null===n.yaxisTTEls&&(n.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".mscharts-yaxistooltip"));var i=parseInt(n.ycrosshairsHidden.getAttribute("y1")),r=e.globals.translateY+i,o=n.yaxisTTEls[t].getBoundingClientRect().height,s=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(s-=26),r-=o/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(n.yaxisTTEls[t].classList.add("active"),n.yaxisTTEls[t].style.top=r+"px",n.yaxisTTEls[t].style.left=s+e.config.yaxis[t].tooltip.offsetX+"px"):n.yaxisTTEls[t].classList.remove("active")}},{key:"moveTooltip",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=this.ttCtx,o=r.getElTooltip(),s=r.tooltipRect,a=null!==n?parseInt(n):1,l=parseInt(t)+a+5,c=parseInt(e)+a/2;if(l>i.globals.gridWidth/2&&(l=l-s.ttWidth-a-15),l>i.globals.gridWidth-s.ttWidth-10&&(l=i.globals.gridWidth-s.ttWidth),l<-20&&(l=-20),i.config.tooltip.followCursor){var h=r.getElGrid(),u=h.getBoundingClientRect();c=r.e.clientY+i.globals.translateY-u.top-s.ttHeight/2}var d=this.positionChecks(s,l,c);l=d.x,c=d.y,isNaN(l)||(o.style.left=(l+=i.globals.translateX)+"px",o.style.top=c+"px")}},{key:"positionChecks",value:function(t,e,n){var i=this.w;return t.ttHeight+n>i.globals.gridHeight&&(n=i.globals.gridHeight-t.ttHeight+i.globals.translateY),n<0&&(n=0),{x:e,y:n}}},{key:"moveMarkers",value:function(t,e){var n=this.w,i=this.ttCtx;if(n.globals.markers.size[t]>0)for(var r=n.globals.dom.baseEl.querySelectorAll(" .mscharts-series[data\\:realIndex='".concat(t,"'] .mscharts-marker")),o=0;o<r.length;o++)parseInt(r[o].getAttribute("rel"))===e&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(e,r[o]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var n,i,r=this.w,o=this.ttCtx,s=r.globals.pointsArray,a=r.config.markers.hover.size;if(void 0===a&&(a=r.globals.markers.size[e]+r.config.markers.hover.sizeOffset),!r.config.series[e].type||"column"!==r.config.series[e].type){n=s[e][t][0],i=s[e][t][1]?s[e][t][1]:0;var l=r.globals.dom.baseEl.querySelector(".mscharts-series[data\\:realIndex='".concat(e,"'] .mscharts-series-markers circle"));l&&(l.setAttribute("r",a),l.setAttribute("cx",n),l.setAttribute("cy",i)),this.moveXCrosshairs(n),o.fixedTooltip||this.moveTooltip(n,i,a)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,n=this.ttCtx,i=n.w,r=0,o=0,s=i.globals.pointsArray;e=new B(this.ctx).getActiveSeriesIndex();var a=i.config.markers.hover.size;void 0===a&&(a=i.globals.markers.size[e]+i.config.markers.hover.sizeOffset),s[e]&&(r=s[e][t][0],o=s[e][t][1]);var l=null,c=n.getAllMarkers();if(null!==(l=null!==c?c:i.globals.dom.baseEl.querySelectorAll(".mscharts-series-markers circle")))for(var h=0;h<l.length;h++){var u=s[h];if(u&&u.length){var d=s[h][t][1];l[h].setAttribute("cx",r);var f=parseInt(l[h].parentNode.parentNode.parentNode.getAttribute("data:realIndex"));null!==d?(l[f]&&l[f].setAttribute("r",a),l[f]&&l[f].setAttribute("cy",d)):l[f]&&l[f].setAttribute("r",0)}}this.moveXCrosshairs(r),n.fixedTooltip||this.moveTooltip(r,o||i.globals.gridHeight,a)}},{key:"moveStickyTooltipOverBars",value:function(t){var e,n=this.w,i=this.ttCtx,r=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length,o=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1,s=n.globals.dom.baseEl.querySelector(".mscharts-bar-series .mscharts-series[rel='".concat(o,"'] path[j='").concat(t,"'], .mscharts-candlestick-series .mscharts-series[rel='").concat(o,"'] path[j='").concat(t,"'], .mscharts-rangebar-series .mscharts-series[rel='").concat(o,"'] path[j='").concat(t,"']")),a=s?parseFloat(s.getAttribute("cx")):0,l=s?parseFloat(s.getAttribute("barWidth")):0;n.globals.isXNumeric?a-=r%2!=0?l/2:0:(a=i.xAxisTicksPositions[t-1]+i.dataPointsDividedWidth/2,isNaN(a)&&(a=i.xAxisTicksPositions[t]-i.dataPointsDividedWidth/2));var c=i.getElGrid().getBoundingClientRect();e=i.e.clientY-c.top-i.tooltipRect.ttHeight/2,this.moveXCrosshairs(a),i.fixedTooltip||this.moveTooltip(a,e||n.globals.gridHeight)}}]),t}(),gt=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new pt(e)}return s(t,[{key:"drawDynamicPoints",value:function(){for(var t=this.w,e=new v(this.ctx),n=new T(this.ctx),i=t.globals.dom.baseEl.querySelectorAll(".mscharts-series"),r=0;r<i.length;r++){var o=parseInt(i[r].getAttribute("data:realIndex")),s=t.globals.dom.baseEl.querySelector(".mscharts-series[data\\:realIndex='".concat(o,"'] .mscharts-series-markers-wrap"));if(null!==s){var a=void 0,l="mscharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(l+=" no-pointer-events");var c=n.getMarkerConfig(l,o);(a=e.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var h=document.createElementNS(t.globals.SVGNS,"g");h.classList.add("mscharts-series-markers"),h.appendChild(a.node),s.appendChild(h)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w;"bubble"!==r.config.chart.type&&this.newPointSize(t,e);var o=e.getAttribute("cx"),s=e.getAttribute("cy");if(null!==n&&null!==i&&(o=n,s=i),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if("radar"===r.config.chart.type){var a=this.ttCtx.getElGrid(),l=a.getBoundingClientRect();o=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(o,s,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,n=this.ttCtx,i=t,r=e.globals.dom.baseEl.querySelectorAll(".mscharts-series:not(.mscharts-series-collapsed) .mscharts-marker"),o=e.config.markers.hover.size,s=0;s<r.length;s++){var a=r[s].getAttribute("rel"),l=r[s].getAttribute("index");if(void 0===o&&(o=e.globals.markers.size[l]+e.config.markers.hover.sizeOffset),i===parseInt(a)){this.newPointSize(i,r[s]);var c=r[s].getAttribute("cx"),h=r[s].getAttribute("cy");this.tooltipPosition.moveXCrosshairs(c),n.fixedTooltip||this.tooltipPosition.moveTooltip(c,h,o)}else this.oldPointSize(r[s])}}},{key:"newPointSize",value:function(t,e){var n=this.w,i=n.config.markers.hover.size,r=null;r=0===t?e.parentNode.firstChild:e.parentNode.lastChild;var o=parseInt(r.getAttribute("index"));void 0===i&&(i=n.globals.markers.size[o]+n.config.markers.hover.sizeOffset),r.setAttribute("r",i)}},{key:"oldPointSize",value:function(t){var e=parseInt(t.getAttribute("default-marker-size"));t.setAttribute("r",e)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".mscharts-series:not(.mscharts-series-collapsed) .mscharts-marker"),e=0;e<t.length;e++){var n=parseInt(t[e].getAttribute("default-marker-size"));p.isNumber(n)?t[e].setAttribute("r",n):t[e].setAttribute("r",0)}}}]),t}(),mt=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e}return s(t,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTooltip",value:function(t){var e=t.e,n=t.opt,i=t.x,r=t.y,o=this.ttCtx,s=this.w;if(e.target.classList.contains("mscharts-heatmap-rect")){var a=this.getAttr(e,"i"),l=this.getAttr(e,"j"),c=this.getAttr(e,"cx"),h=this.getAttr(e,"cy"),u=this.getAttr(e,"width"),d=this.getAttr(e,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:a,j:l,shared:!1}),s.globals.capturedSeriesIndex=a,s.globals.capturedDataPointIndex=l,i=c+o.tooltipRect.ttWidth/2+u,r=h+o.tooltipRect.ttHeight/2-d/2,o.tooltipPosition.moveXCrosshairs(c+u/2),i>s.globals.gridWidth/2&&(i=c-o.tooltipRect.ttWidth/2+u),o.w.config.tooltip.followCursor){var f=o.getElGrid().getBoundingClientRect();r=o.e.clientY-f.top+s.globals.translateY/2-10}}return{x:i,y:r}}},{key:"handleMarkerTooltip",value:function(t){var e,n,i=t.e,r=t.opt,o=t.x,s=t.y,a=this.w,l=this.ttCtx;if(i.target.classList.contains("mscharts-marker")){var c=parseInt(r.paths.getAttribute("cx")),h=parseInt(r.paths.getAttribute("cy")),u=parseFloat(r.paths.getAttribute("val"));if(n=parseInt(r.paths.getAttribute("rel")),e=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"))-1,l.intersect){var d=p.findAncestor(r.paths,"mscharts-series");d&&(e=parseInt(d.getAttribute("data:realIndex")))}if(l.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:e,j:n,shared:!l.showOnIntersect&&a.config.tooltip.shared}),"mouseup"===i.type&&l.markerClick(i,e,n),a.globals.capturedSeriesIndex=e,a.globals.capturedDataPointIndex=n,o=c,s=h+a.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var f=l.getElGrid().getBoundingClientRect();s=l.e.clientY+a.globals.translateY-f.top}u<0&&(s=h),l.marker.enlargeCurrentPoint(n,r.paths,o,s)}return{x:o,y:s}}},{key:"handleBarTooltip",value:function(t){var e,n,i=t.e,r=t.opt,o=this.w,s=this.ttCtx,a=s.getElTooltip(),l=0,c=0,h=0,u=this.getBarTooltipXY({e:i,opt:r}),d=u.barHeight,f=u.j;if(o.globals.capturedSeriesIndex=e=u.i,o.globals.capturedDataPointIndex=f,o.globals.isBarHorizontal&&s.hasBars()||!o.config.tooltip.shared?(c=u.x,h=u.y,n=Array.isArray(o.config.stroke.width)?o.config.stroke.width[e]:o.config.stroke.width,l=c):o.globals.comboCharts||o.config.tooltip.shared||(l/=2),isNaN(h)&&(h=o.globals.svgHeight-s.tooltipRect.ttHeight),c+s.tooltipRect.ttWidth>o.globals.gridWidth?c-=s.tooltipRect.ttWidth:c<0&&(c+=s.tooltipRect.ttWidth),s.w.config.tooltip.followCursor){var p=s.getElGrid().getBoundingClientRect();h=s.e.clientY-p.top}if(null===s.tooltip&&(s.tooltip=o.globals.dom.baseEl.querySelector(".mscharts-tooltip")),o.config.tooltip.shared||s.tooltipPosition.moveXCrosshairs(o.globals.comboChartsHasBars?l+n/2:l),!s.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&s.hasBars())){m&&(c=o.globals.gridWidth-c),a.style.left=c+o.globals.translateX+"px";var g=parseInt(r.paths.parentNode.getAttribute("data:realIndex")),m=o.globals.isMultipleYAxis?o.config.yaxis[g]&&o.config.yaxis[g].reversed:o.config.yaxis[0].reversed;!m||o.globals.isBarHorizontal&&s.hasBars()||(h=h+d-2*(o.globals.series[e][f]<0?d:0)),a.style.top=s.tooltipRect.ttHeight+h>o.globals.gridHeight?(h=o.globals.gridHeight-s.tooltipRect.ttHeight+o.globals.translateY)+"px":h+o.globals.translateY-s.tooltipRect.ttHeight/2+"px"}}},{key:"getBarTooltipXY",value:function(t){var e=t.e,n=t.opt,i=this.w,r=null,o=this.ttCtx,s=0,a=0,l=0,c=0,h=0,u=e.target.classList;if(u.contains("mscharts-bar-area")||u.contains("mscharts-candlestick-area")||u.contains("mscharts-rangebar-area")){var d=e.target,f=d.getBoundingClientRect(),p=n.elGrid.getBoundingClientRect(),g=f.height;h=f.height;var m=f.width,v=parseInt(d.getAttribute("cx")),y=parseInt(d.getAttribute("cy"));c=parseFloat(d.getAttribute("barWidth"));var b="touchmove"===e.type?e.touches[0].clientX:e.clientX;r=parseInt(d.getAttribute("j")),s=parseInt(d.parentNode.getAttribute("rel"))-1,i.globals.comboCharts&&(s=parseInt(d.parentNode.getAttribute("data:realIndex"))),o.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:s,j:r,shared:!o.showOnIntersect&&i.config.tooltip.shared}),i.config.tooltip.followCursor?i.globals.isBarHorizontal?(a=b-p.left+15,l=y-o.dataPointsDividedHeight+g/2-o.tooltipRect.ttHeight/2):(a=i.globals.isXNumeric?v-m/2:v-o.dataPointsDividedWidth+m/2,l=e.clientY-p.top-o.tooltipRect.ttHeight/2-15):i.globals.isBarHorizontal?((a=v)<o.xyRatios.baseLineInvertedY&&(a=v-o.tooltipRect.ttWidth),l=y-o.dataPointsDividedHeight+g/2-o.tooltipRect.ttHeight/2):(a=i.globals.isXNumeric?v-m/2:v-o.dataPointsDividedWidth+m/2,l=y)}return{x:a,y:l,barHeight:h,barWidth:c,i:s,j:r}}}]),t}(),vt=function(){function t(e){r(this,t),this.w=e.w,this.ttCtx=e}return s(t,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,n="bottom"===t.config.xaxis.position;e.xaxisOffY=n?t.globals.gridHeight+1:1;var i=n?"mscharts-xaxistooltip mscharts-xaxistooltip-bottom":"mscharts-xaxistooltip mscharts-xaxistooltip-top",r=t.globals.dom.elWrap;e.blxaxisTooltip&&null===t.globals.dom.baseEl.querySelector(".mscharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",i+" "+t.config.tooltip.theme),r.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("mscharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,n=function(n){var i=t.config.yaxis[n].opposite||t.config.yaxis[n].crosshairs.opposite;e.yaxisOffX=i?t.globals.gridWidth+1:1;var r="mscharts-yaxistooltip mscharts-yaxistooltip-".concat(n,i?" mscharts-yaxistooltip-right":" mscharts-yaxistooltip-left");t.globals.yAxisSameScaleIndices.map((function(e,i){e.map((function(e,i){i===n&&(r+=t.config.yaxis[i].show?" ":" mscharts-yaxistooltip-hidden")}))}));var o=t.globals.dom.elWrap;e.blyaxisTooltip&&null===t.globals.dom.baseEl.querySelector(".mscharts-yaxistooltip mscharts-yaxistooltip-".concat(n))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",r+" "+t.config.tooltip.theme),o.appendChild(e.yaxisTooltip),0===n&&(e.yaxisTooltipText=[]),e.yaxisTooltipText.push(document.createElement("div")),e.yaxisTooltipText[n].classList.add("mscharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[n]))},i=0;i<t.config.yaxis.length;i++)n(i)}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,n=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width),t.globals.comboCharts){var i=t.globals.dom.baseEl.querySelector(".mscharts-bar-area");if(null!==i&&"barWidth"===t.config.xaxis.crosshairs.width){var r=parseFloat(i.getAttribute("barWidth"));e.xcrosshairsWidth=r}else"tickWidth"===t.config.xaxis.crosshairs.width&&(e.xcrosshairsWidth=t.globals.gridWidth/t.globals.labels.length)}else if("tickWidth"===t.config.xaxis.crosshairs.width)e.xcrosshairsWidth=t.globals.gridWidth/t.globals.labels.length;else if("barWidth"===t.config.xaxis.crosshairs.width){var o=t.globals.dom.baseEl.querySelector(".mscharts-bar-area");if(null!==o){var s=parseFloat(o.getAttribute("barWidth"));e.xcrosshairsWidth=s}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==n&&e.xcrosshairsWidth>0&&n.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".mscharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".mscharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,n){var i=this.ttCtx,r=this.w,o=r.globals.yLabelFormatters[t];if(i.blyaxisTooltip){var s=i.getElGrid().getBoundingClientRect(),a=r.globals.minYArr[t]+(r.globals.maxYArr[t]-r.globals.minYArr[t]-(e-s.top)*n.yRatio[t]);i.tooltipPosition.moveYCrosshairs(e-s.top),i.yaxisTooltipText[t].innerHTML=o(a),i.tooltipPosition.moveYAxisTooltip(t)}}}]),t}(),yt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w;var n=this.w;this.tConfig=n.config.tooltip,this.tooltipUtil=new dt(this),this.tooltipLabels=new ft(this),this.tooltipPosition=new pt(this),this.marker=new gt(this),this.intersect=new mt(this),this.axesTooltip=new vt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!n.globals.isBarHorizontal&&this.tConfig.shared}return s(t,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl.querySelector(".mscharts-tooltip")}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".mscharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".mscharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.blxaxisTooltip=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.blyaxisTooltip=e.config.yaxis[0].tooltip.enabled&&e.globals.axisCharts,this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("mscharts-tooltip"),n.classList.add(this.tConfig.theme),e.globals.dom.elWrap.appendChild(n),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new G(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if((e.globals.comboCharts&&!this.tConfig.shared||this.tConfig.intersect&&!this.tConfig.shared||("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&!this.tConfig.shared)&&(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("mscharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var r=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".mscharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this.w,n=[],i=this.getElTooltip(),r=0;r<t;r++){var o=document.createElement("div");o.classList.add("mscharts-tooltip-series-group"),this.tConfig.shared&&this.tConfig.enabledOnSeries&&Array.isArray(this.tConfig.enabledOnSeries)&&this.tConfig.enabledOnSeries.indexOf(r)<0&&o.classList.add("mscharts-tooltip-series-group-hidden");var s=document.createElement("span");s.classList.add("mscharts-tooltip-marker"),s.style.backgroundColor=e.globals.colors[r],o.appendChild(s);var a=document.createElement("div");a.classList.add("mscharts-tooltip-text"),a.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,a.style.fontSize=this.tConfig.style.fontSize;var l=document.createElement("div");l.classList.add("mscharts-tooltip-y-group");var c=document.createElement("span");c.classList.add("mscharts-tooltip-text-label"),l.appendChild(c);var h=document.createElement("span");h.classList.add("mscharts-tooltip-text-value"),l.appendChild(h);var u=document.createElement("div");u.classList.add("mscharts-tooltip-z-group");var d=document.createElement("span");d.classList.add("mscharts-tooltip-text-z-label"),u.appendChild(d);var f=document.createElement("span");f.classList.add("mscharts-tooltip-text-z-value"),u.appendChild(f),a.appendChild(l),a.appendChild(u),o.appendChild(a),i.appendChild(o),n.push(o)}return n}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,n=this.getElTooltip(),i=!("bar"!==e&&"candlestick"!==e&&"rangeBar"!==e),r=t.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var s,a=[],l=[],c={hoverArea:r,elGrid:o,tooltipEl:n,tooltipY:a,tooltipX:l,ttItems:this.ttItems};if(t.globals.axisCharts&&("area"===e||"line"===e||"scatter"===e||"bubble"===e?s=t.globals.dom.baseEl.querySelectorAll(".mscharts-series[data\\:longestSeries='true'] .mscharts-marker"):i?s=t.globals.dom.baseEl.querySelectorAll(".mscharts-series .mscharts-bar-area, .mscharts-series .mscharts-candlestick-area, .mscharts-series .mscharts-rangebar-area"):"heatmap"===e?s=t.globals.dom.baseEl.querySelectorAll(".mscharts-series .mscharts-heatmap"):"radar"===e&&(s=t.globals.dom.baseEl.querySelectorAll(".mscharts-series .mscharts-marker")),s&&s.length))for(var h=0;h<s.length;h++)a.push(s[h].getAttribute("cy")),l.push(s[h].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||i&&this.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([r],c);else if(i&&!t.globals.comboCharts)this.addBarsEventListeners(c);else if("bubble"===e||"scatter"===e||"radar"===e||this.showOnIntersect&&("area"===e||"line"===e))this.addPointsEventsListeners(c);else if(!t.globals.axisCharts||"heatmap"===e){var u=t.globals.dom.baseEl.querySelectorAll(".mscharts-series");this.addPathsEventListeners(u,c)}if(this.showOnIntersect){var d=t.globals.dom.baseEl.querySelectorAll(".mscharts-line-series .mscharts-marker");d.length>0&&this.addPathsEventListeners(d,c);var f=t.globals.dom.baseEl.querySelectorAll(".mscharts-area-series .mscharts-marker");f.length>0&&this.addPathsEventListeners(f,c),this.hasBars()&&!this.tConfig.shared&&this.addBarsEventListeners(c)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),n=e.getBoundingClientRect(),i=n.width+10,r=n.height+10,o=this.tConfig.fixed.offsetX,s=this.tConfig.fixed.offsetY;return this.tConfig.fixed.position.toLowerCase().indexOf("right")>-1&&(o=o+t.globals.svgWidth-i+10),this.tConfig.fixed.position.toLowerCase().indexOf("bottom")>-1&&(s=s+t.globals.svgHeight-r-10),e.style.left=o+"px",e.style.top=s+"px",{x:o,y:s,ttWidth:i,ttHeight:r}}},{key:"addPointsEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".mscharts-series-markers .mscharts-marker");this.addPathsEventListeners(e,t)}},{key:"addBarsEventListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".mscharts-bar-area, .mscharts-candlestick-area, .mscharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var n=this,i=this,r=function(r){var o={paths:t[r],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};n.w.globals.tooltipOpts=o,["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(e){return t[r].addEventListener(e,i.seriesHover.bind(i,o),{capture:!1,passive:!0})}))},o=0;o<t.length;o++)r(o)}},{key:"seriesHover",value:function(t,e){var n=this,i=[],r=this.w;r.config.chart.group&&(i=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||0===r.globals.dataPoints)||(i.length?i.forEach((function(i){var r=n.getElTooltip(i);i.w.globals.minX===n.w.globals.minX&&i.w.globals.maxX===n.w.globals.maxX&&i.w.globals.tooltip.seriesHoverByContext({chartCtx:i,ttCtx:i.w.globals.tooltip,opt:{paths:t.paths,tooltipEl:r,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:i.w.globals.tooltip.ttItems},e:e})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e:e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,n=t.ttCtx,i=t.opt,r=t.e,o=e.w,s=this.getElTooltip();n.tooltipRect={x:0,y:0,ttWidth:s.getBoundingClientRect().width,ttHeight:s.getBoundingClientRect().height},n.e=r,!n.hasBars()||o.globals.comboCharts||n.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new B(e).toggleSeriesOnHover(r,r.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),o.globals.axisCharts?n.axisChartsTooltips({e:r,opt:i,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:r,opt:i,tooltipRect:n.tooltipRect})}},{key:"axisChartsTooltips",value:function(t){var e,n,i,r=t.e,o=t.opt,s=this.w,a=null,l=o.elGrid.getBoundingClientRect(),c="touchmove"===r.type?r.touches[0].clientX:r.clientX,h="touchmove"===r.type?r.touches[0].clientY:r.clientY;if(this.clientY=h,this.clientX=c,s.globals.capturedSeriesIndex=-1,s.globals.capturedDataPointIndex=-1,h<l.top||h>l.top+l.height)this.handleMouseOut(o);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!s.config.tooltip.shared){var u=parseInt(o.paths.getAttribute("index"));if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(o)}var d=this.getElTooltip(),f=this.getElXCrosshairs(),p=s.globals.xyCharts||"bar"===s.config.chart.type&&!s.globals.isBarHorizontal&&this.hasBars()&&this.tConfig.shared||s.globals.comboCharts&&this.hasBars;if(s.globals.isBarHorizontal&&this.hasBars()&&(p=!1),"mousemove"===r.type||"touchmove"===r.type||"mouseup"===r.type){if(null!==f&&f.classList.add("active"),null!==this.ycrosshairs&&this.blyaxisTooltip&&this.ycrosshairs.classList.add("active"),p&&!this.showOnIntersect){e=(a=this.tooltipUtil.getNearestValues({context:this,hoverArea:o.hoverArea,elGrid:o.elGrid,clientX:c,clientY:h,hasBars:this.hasBars})).j;var g=a.capturedSeries;if(a.hoverX<0||a.hoverX>s.globals.gridWidth)return void this.handleMouseOut(o);if(null!==g){if(null===s.globals.series[g][e])return void this.handleMouseOut(o);void 0!==s.globals.series[g][e]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(e)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(r,this,g,e,o.ttItems):this.create(r,this,g,e,o.ttItems,!1):this.tooltipUtil.isXoverlap(e)&&this.create(r,this,0,e,o.ttItems)}else this.tooltipUtil.isXoverlap(e)&&this.create(r,this,0,e,o.ttItems)}else if("heatmap"===s.config.chart.type){var m=this.intersect.handleHeatTooltip({e:r,opt:o,x:n,y:i});i=m.y,d.style.left=(n=m.x)+"px",d.style.top=i+"px"}else this.hasBars&&this.intersect.handleBarTooltip({e:r,opt:o}),this.hasMarkers&&this.intersect.handleMarkerTooltip({e:r,opt:o,x:n,y:i});if(this.blyaxisTooltip)for(var v=0;v<s.config.yaxis.length;v++)this.axesTooltip.drawYaxisTooltipText(v,h,this.xyRatios);o.tooltipEl.classList.add("active")}else"mouseout"!==r.type&&"touchend"!==r.type||this.handleMouseOut(o)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,n=t.opt,i=t.tooltipRect,r=this.w,o=n.paths.getAttribute("rel"),s=this.getElTooltip(),a=r.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){s.classList.add("active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(o)-1,shared:!1});var l=r.globals.clientY-a.top-i.ttHeight-10;s.style.left=r.globals.clientX-a.left-i.ttWidth/2+"px",s.style.top=l+"px"}else"mouseout"!==e.type&&"touchend"!==e.type||s.classList.remove("active")}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new v(this.ctx),n=t.globals.dom.Paper.select(".mscharts-bar-area"),i=0;i<n.length;i++)e.pathMouseLeave(n[i])}},{key:"handleMouseOut",value:function(t){var e=this.w,n=this.getElXCrosshairs();if(t.tooltipEl.classList.remove("active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==n&&n.classList.remove("active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("active"),this.blxaxisTooltip&&this.xaxisTooltip.classList.remove("active"),this.blyaxisTooltip){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".mscharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=e}))}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .mscharts-series-markers")}},{key:"getAllMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".mscharts-series-markers .mscharts-marker")}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".mscharts-bar-series,  .mscharts-candlestick-series, .mscharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"markerClick",value:function(t,e,n){var i=this.w;"function"==typeof i.config.chart.events.markerClick&&i.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:n,w:i}),this.ctx.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:n,w:i}])}},{key:"create",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=this.w,a=e;"mouseup"===t.type&&this.markerClick(t,n,i),null===o&&(o=this.tConfig.shared);var l=this.hasMarkers(),c=this.getElBars();if(s.config.legend.tooltipHoverFormatter){var h=s.config.legend.tooltipHoverFormatter,u=Array.from(this.legendLabels);u.forEach((function(t){var e=t.getAttribute("data:default-text");t.innerHTML=e}));for(var d=0;d<u.length;d++){var f=u[d],p=parseInt(f.getAttribute("i")),g=f.getAttribute("data:default-text"),m=h(g,{seriesIndex:o?p:n,dataPointIndex:i,w:s});if(o)f.innerHTML=s.globals.collapsedSeriesIndices.indexOf(p)<0?m:g;else if(f.innerHTML=p===n?m:g,n===p)break}}if(o){if(a.tooltipLabels.drawSeriesTexts({ttItems:r,i:n,j:i,shared:!this.showOnIntersect&&this.tConfig.shared}),l&&(s.globals.markers.largestSize>0?a.marker.enlargePoints(i):a.tooltipPosition.moveDynamicPointsOnHover(i)),this.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(c),this.barSeriesHeight>0)){var y=new v(this.ctx),b=s.globals.dom.Paper.select(".mscharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(i);for(var x=0;x<b.length;x++)y.pathMouseEnter(b[x])}}else a.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:r,i:n,j:i}),this.hasBars()&&a.tooltipPosition.moveStickyTooltipOverBars(i),l&&a.tooltipPosition.moveMarkers(n,i)}}]),t}(),bt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w,this.ev=this.w.config.chart.events,this.localeValues=this.w.globals.locale.toolbar}return s(t,[{key:"createToolbar",value:function(){var t=this.w,e=document.createElement("div");if(e.setAttribute("class","mscharts-toolbar"),t.globals.dom.elWrap.appendChild(e),this.elZoom=document.createElement("div"),this.elZoomIn=document.createElement("div"),this.elZoomOut=document.createElement("div"),this.elPan=document.createElement("div"),this.elSelection=document.createElement("div"),this.elZoomReset=document.createElement("div"),this.elMenuIcon=document.createElement("div"),this.elMenu=document.createElement("div"),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var n=0;n<this.t.customIcons.length;n++)this.elCustomIcons.push(document.createElement("div"));this.elMenuItems=[];var i=[];this.t.zoomin&&t.config.chart.zoom.enabled&&i.push({el:this.elZoomIn,icon:"string"==typeof this.t.zoomin?this.t.zoomin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n',title:this.localeValues.zoomIn,class:"mscharts-zoom-in-icon"}),this.t.zoomout&&t.config.chart.zoom.enabled&&i.push({el:this.elZoomOut,icon:"string"==typeof this.t.zoomout?this.t.zoomout:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n',title:this.localeValues.zoomOut,class:"mscharts-zoom-out-icon"}),this.t.zoom&&t.config.chart.zoom.enabled&&i.push({el:this.elZoom,icon:"string"==typeof this.t.zoom?this.t.zoom:'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>',title:this.localeValues.selectionZoom,class:t.globals.isTouchDevice?"hidden":"mscharts-zoom-icon"}),this.t.selection&&t.config.chart.selection.enabled&&i.push({el:this.elSelection,icon:"string"==typeof this.t.selection?this.t.selection:'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:this.localeValues.selection,class:t.globals.isTouchDevice?"hidden":"mscharts-selection-icon"}),this.t.pan&&t.config.chart.zoom.enabled&&i.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"hidden":"mscharts-pan-icon"}),this.t.reset&&t.config.chart.zoom.enabled&&i.push({el:this.elZoomReset,icon:"string"==typeof this.t.reset?this.t.reset:'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>',title:this.localeValues.reset,class:"mscharts-reset-zoom-icon"}),this.t.download&&i.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"mscharts-menu-icon"});for(var r=0;r<this.elCustomIcons.length;r++)i.push({el:this.elCustomIcons[r],icon:this.t.customIcons[r].icon,title:this.t.customIcons[r].title,index:this.t.customIcons[r].index,class:"mscharts-toolbar-custom-icon "+this.t.customIcons[r].class});i.forEach((function(t,e){t.index&&p.moveIndexInArray(i,e,t.index)}));for(var o=0;o<i.length;o++)v.setAttrs(i[o].el,{class:i[o].class,title:i[o].title}),i[o].el.innerHTML=i[o].icon,e.appendChild(i[o].el);e.appendChild(this.elMenu),v.setAttrs(this.elMenu,{class:"mscharts-menu"});for(var s=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG}],a=0;a<s.length;a++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[a].innerHTML=s[a].title,v.setAttrs(this.elMenuItems[a],{class:"mscharts-menu-item ".concat(s[a].name),title:s[a].title}),this.elMenu.appendChild(this.elMenuItems[a]);t.globals.zoomEnabled?this.elZoom.classList.add("selected"):t.globals.panEnabled?this.elPan.classList.add("selected"):t.globals.selectionEnabled&&this.elSelection.classList.add("selected"),this.addToolbarEventListeners()}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleSelection.bind(this)),this.elZoom.addEventListener("click",this.toggleZooming.bind(this)),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(e){e.classList.contains("exportSVG")?e.addEventListener("click",t.downloadSVG.bind(t)):e.classList.contains("exportPNG")&&e.addEventListener("click",t.downloadPNG.bind(t))}));for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleSelection",value:function(){this.toggleOtherControls(),this.w.globals.selectionEnabled=!this.w.globals.selectionEnabled,this.elSelection.classList.contains("selected")?this.elSelection.classList.remove("selected"):this.elSelection.classList.add("selected")}},{key:"toggleZooming",value:function(){this.toggleOtherControls(),this.w.globals.zoomEnabled=!this.w.globals.zoomEnabled,this.elZoom.classList.contains("selected")?this.elZoom.classList.remove("selected"):this.elZoom.classList.add("selected")}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".mscharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".mscharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".mscharts-selection-icon"))}},{key:"enableZooming",value:function(){this.toggleOtherControls(),this.w.globals.zoomEnabled=!0,this.elZoom&&this.elZoom.classList.add("selected"),this.elPan&&this.elPan.classList.remove("selected")}},{key:"enablePanning",value:function(){this.toggleOtherControls(),this.w.globals.panEnabled=!0,this.elPan&&this.elPan.classList.add("selected"),this.elZoom&&this.elZoom.classList.remove("selected")}},{key:"togglePanning",value:function(){this.toggleOtherControls(),this.w.globals.panEnabled=!this.w.globals.panEnabled,this.elPan.classList.contains("selected")?this.elPan.classList.remove("selected"):this.elPan.classList.add("selected")}},{key:"toggleOtherControls",value:function(){var t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),this.elPan&&this.elPan.classList.remove("selected"),this.elSelection&&this.elSelection.classList.remove("selected"),this.elZoom&&this.elZoom.classList.remove("selected")}},{key:"handleZoomIn",value:function(){var t=this.w,e=(t.globals.minX+t.globals.maxX)/2;t.globals.disableZoomIn||this.zoomUpdateOptions((t.globals.minX+e)/2,(t.globals.maxX+e)/2)}},{key:"handleZoomOut",value:function(){var t=this.w;if(!("datetime"===t.config.xaxis.type&&new Date(t.globals.minX).getUTCFullYear()<1e3)){var e=(t.globals.minX+t.globals.maxX)/2;t.globals.disableZoomOut||this.zoomUpdateOptions(t.globals.minX-(e-t.globals.minX),t.globals.maxX-(e-t.globals.maxX))}}},{key:"zoomUpdateOptions",value:function(t,e){var n=this.w,i={min:t,max:e},r=this.getBeforeZoomRange(i);r&&(i=r.xaxis);var o={xaxis:i},s=p.clone(n.globals.initialConfig.yaxis);n.config.chart.zoom.autoScaleYaxis&&(s=new q(this.ctx).autoScaleY(this.ctx,s,{xaxis:i})),n.config.chart.group||(o.yaxis=s),this.w.globals.zoomed=!0,this.ctx._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,s)}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var n=null;return"function"==typeof this.ev.beforeZoom&&(n=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),n}},{key:"toggleMenu",value:function(){this.elMenu.classList.contains("open")?this.elMenu.classList.remove("open"):this.elMenu.classList.add("open")}},{key:"downloadPNG",value:function(){new lt(this.ctx).exportToPng(this.ctx),this.toggleMenu()}},{key:"downloadSVG",value:function(){new lt(this.ctx).exportToSVG(),this.toggleMenu()}},{key:"handleZoomReset",value:function(t){var e=this;this.ctx.getSyncedCharts().forEach((function(t){var n=t.w;n.globals.minX!==n.globals.initialminX&&n.globals.maxX!==n.globals.initialmaxX&&(t.revertDefaultAxisMinMax(),"function"==typeof n.config.chart.events.zoomed&&e.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1,t._updateSeries(n.globals.initialSeries,n.config.chart.animations.dynamicAnimation.enabled))}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),xt=function(t){function e(t){var n;return r(this,e),(n=d(this,u(e).call(this,t))).ctx=t,n.w=t.w,n.dragged=!1,n.graphics=new v(n.ctx),n.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],n.clientX=0,n.clientY=0,n.startX=0,n.endX=0,n.dragX=0,n.startY=0,n.endY=0,n.dragY=0,n}return h(e,bt),s(e,[{key:"init",value:function(t){var e=this,n=t.xyRatios,i=this.w,r=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=i.globals.dom.baseEl.querySelector(".mscharts-grid"),this.zoomRect.node.classList.add("mscharts-zoom-rect"),this.selectionRect.node.classList.add("mscharts-selection-rect"),i.globals.dom.elGraphical.add(this.zoomRect),i.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===i.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===i.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:i.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=i.globals.dom.baseEl.querySelector(i.globals.chartClass),this.hoverArea.classList.add("zoomable"),this.eventList.forEach((function(t){e.hoverArea.addEventListener(t,r.svgMouseEvents.bind(r,n),{capture:!1,passive:!0})}))}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(t,e){var n=this.w,i=this,r=this.ctx.toolbar,o=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type;if(e.shiftKey?(this.shiftWasPressed=!0,r.enablePanning()):this.shiftWasPressed&&(r.enableZooming(),this.shiftWasPressed=!1),!e.target.classList.contains("mscharts-selection-rect")&&!e.target.parentNode.classList.contains("mscharts-toolbar")){if(i.clientX="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientX:"touchend"===e.type?e.changedTouches[0].clientX:e.clientX,i.clientY="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientY:"touchend"===e.type?e.changedTouches[0].clientY:e.clientY,"mousedown"===e.type&&1===e.which){var s=i.gridRect.getBoundingClientRect();i.startX=i.clientX-s.left,i.startY=i.clientY-s.top,i.dragged=!1,i.w.globals.mousedown=!0}if(("mousemove"===e.type&&1===e.which||"touchmove"===e.type)&&(i.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,i.w.globals.mousedown&&i.panDragging({context:i,zoomtype:o,xyRatios:t})):(i.w.globals.mousedown&&n.globals.zoomEnabled||i.w.globals.mousedown&&n.globals.selectionEnabled)&&(i.selection=i.selectionDrawing({context:i,zoomtype:o}))),"mouseup"===e.type||"touchend"===e.type||"mouseleave"===e.type){var a=i.gridRect.getBoundingClientRect();i.w.globals.mousedown&&(i.endX=i.clientX-a.left,i.endY=i.clientY-a.top,i.dragX=Math.abs(i.endX-i.startX),i.dragY=Math.abs(i.endY-i.startY),(n.globals.zoomEnabled||n.globals.selectionEnabled)&&i.selectionDrawn({context:i,zoomtype:o})),n.globals.zoomEnabled&&i.hideSelectionRect(this.selectionRect),i.dragged=!1,i.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}},{key:"makeSelectionRectDraggable",value:function(){var t=this.w;if(this.selectionRect){var e=this.selectionRect.node.getBoundingClientRect();e.width>0&&e.height>0&&this.slDraggableRect.selectize().resize({constraint:{minX:0,minY:0,maxX:t.globals.gridWidth,maxY:t.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var t=this.w,e=this.xyRatios;if(!t.globals.zoomEnabled)if(null!=t.globals.selection)this.drawSelectionRect(t.globals.selection);else if(void 0!==t.config.chart.selection.xaxis.min&&void 0!==t.config.chart.selection.xaxis.max){var n=(t.config.chart.selection.xaxis.min-t.globals.minX)/e.xRatio;this.drawSelectionRect({x:n,y:0,width:t.globals.gridWidth-(t.globals.maxX-t.config.chart.selection.xaxis.max)/e.xRatio-n,height:t.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof t.config.chart.events.selection&&t.config.chart.events.selection(this.ctx,{xaxis:{min:t.config.chart.selection.xaxis.min,max:t.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=this.w,s=this.zoomRect,a=this.selectionRect;if(this.dragged||null!==o.globals.selection){var l={transform:"translate("+t.translateX+", "+t.translateY+")"};o.globals.zoomEnabled&&this.dragged&&(s.attr({x:e,y:n,width:i,height:r,fill:o.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":o.config.chart.zoom.zoomedArea.fill.opacity,stroke:o.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":o.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":o.config.chart.zoom.zoomedArea.stroke.opacity}),v.setAttrs(s.node,l)),o.globals.selectionEnabled&&(a.attr({x:e,y:n,width:i>0?i:0,height:r>0?r:0,fill:o.config.chart.selection.fill.color,"fill-opacity":o.config.chart.selection.fill.opacity,stroke:o.config.chart.selection.stroke.color,"stroke-width":o.config.chart.selection.stroke.width,"stroke-dasharray":o.config.chart.selection.stroke.dashArray,"stroke-opacity":o.config.chart.selection.stroke.opacity}),v.setAttrs(a.node,l))}}},{key:"hideSelectionRect",value:function(t){t&&t.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(t){var e,n=t.zoomtype,i=this.w,r=t.context,o=this.gridRect.getBoundingClientRect(),s=r.startX-1,a=r.startY,l=r.clientX-o.left-s,c=r.clientY-o.top-a,h=0,u=0;return Math.abs(l+s)>i.globals.gridWidth?l=i.globals.gridWidth-s:r.clientX-o.left<0&&(l=s),s>r.clientX-o.left&&(h=-(l=Math.abs(l))),a>r.clientY-o.top&&(u=-(c=Math.abs(c))),r.drawSelectionRect(e="x"===n?{x:s,y:0,width:l,height:i.globals.gridHeight,translateX:h,translateY:0}:"y"===n?{x:0,y:a,width:i.globals.gridWidth,height:c,translateX:0,translateY:u}:{x:s,y:a,width:l,height:c,translateX:h,translateY:u}),r.selectionDragging("resizing"),e}},{key:"selectionDragging",value:function(t,e){var n=this,i=this.w,r=this.xyRatios,o=this.selectionRect,s=0;"resizing"===t&&(s=30),"function"==typeof i.config.chart.events.selection&&i.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var t=n.gridRect.getBoundingClientRect(),e=o.node.getBoundingClientRect();i.config.chart.events.selection(n.ctx,{xaxis:{min:i.globals.xAxisScale.niceMin+(e.left-t.left)*r.xRatio,max:i.globals.xAxisScale.niceMin+(e.right-t.left)*r.xRatio},yaxis:{min:i.globals.yAxisScale[0].niceMin+(t.bottom-e.bottom)*r.yRatio[0],max:i.globals.yAxisScale[0].niceMax-(e.top-t.top)*r.yRatio[0]}})}),s))}},{key:"selectionDrawn",value:function(t){var e=t.zoomtype,n=this.w,i=t.context,r=this.xyRatios,o=this.ctx.toolbar;if(i.startX>i.endX){var s=i.startX;i.startX=i.endX,i.endX=s}if(i.startY>i.endY){var a=i.startY;i.startY=i.endY,i.endY=a}var l=n.globals.xAxisScale.niceMin+i.startX*r.xRatio,c=n.globals.xAxisScale.niceMin+i.endX*r.xRatio,h=[],u=[];if(n.config.yaxis.forEach((function(t,e){h.push(Math.floor(n.globals.yAxisScale[e].niceMax-r.yRatio[e]*i.startY)),u.push(Math.floor(n.globals.yAxisScale[e].niceMax-r.yRatio[e]*i.endY))})),i.dragged&&(i.dragX>10||i.dragY>10)&&l!==c)if(n.globals.zoomEnabled){var d=p.clone(n.globals.initialConfig.yaxis);n.globals.zoomed||(n.globals.lastXAxis=p.clone(n.config.xaxis),n.globals.lastYAxis=p.clone(n.config.yaxis));var f={min:l,max:c};if("xy"!==e&&"y"!==e||d.forEach((function(t,e){d[e].min=u[e],d[e].max=h[e]})),n.config.chart.zoom.autoScaleYaxis){var g=new q(i.ctx);d=g.autoScaleY(i.ctx,d,{xaxis:f})}if(o){var m=o.getBeforeZoomRange(f,d);m&&(f=m.xaxis?m.xaxis:f,d=m.yaxis?m.yaxe:d)}var v={xaxis:f};n.config.chart.group||(v.yaxis=d),i.ctx._updateOptions(v,!1,i.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof n.config.chart.events.zoomed&&o.zoomCallback(f,d),n.globals.zoomed=!0}else if(n.globals.selectionEnabled){var y,b=null;y={min:l,max:c},"xy"!==e&&"y"!==e||(b=p.clone(n.config.yaxis)).forEach((function(t,e){b[e].min=u[e],b[e].max=h[e]})),n.globals.selection=i.selection,"function"==typeof n.config.chart.events.selection&&n.config.chart.events.selection(i.ctx,{xaxis:y,yaxis:b})}}},{key:"panDragging",value:function(t){var e,n=this.w,i=t.context;if(void 0!==n.globals.lastClientPosition.x){var r=n.globals.lastClientPosition.x-i.clientX,o=n.globals.lastClientPosition.y-i.clientY;Math.abs(r)>Math.abs(o)&&r>0?e="left":Math.abs(r)>Math.abs(o)&&r<0?e="right":Math.abs(o)>Math.abs(r)&&o>0?e="up":Math.abs(o)>Math.abs(r)&&o<0&&(e="down")}n.globals.lastClientPosition={x:i.clientX,y:i.clientY},i.panScrolled(e,n.globals.minX,n.globals.maxX)}},{key:"panScrolled",value:function(t,e,n){var i=this.w,r=this.xyRatios,o=p.clone(i.globals.initialConfig.yaxis);"left"===t?(e=i.globals.minX+i.globals.gridWidth/15*r.xRatio,n=i.globals.maxX+i.globals.gridWidth/15*r.xRatio):"right"===t&&(e=i.globals.minX-i.globals.gridWidth/15*r.xRatio,n=i.globals.maxX-i.globals.gridWidth/15*r.xRatio),(e<i.globals.initialminX||n>i.globals.initialmaxX)&&(e=i.globals.minX,n=i.globals.maxX);var s={min:e,max:n};i.config.chart.zoom.autoScaleYaxis&&(o=new q(this.ctx).autoScaleY(this.ctx,o,{xaxis:s}));var a={xaxis:{min:e,max:n}};i.config.chart.group||(a.yaxis=o),this.ctx._updateOptions(a,!1,!1),"function"==typeof i.config.chart.events.scrolled&&i.config.chart.events.scrolled(this.ctx,{xaxis:{min:e,max:n}})}}]),e}(),wt=function(){function t(e){r(this,t),this.ctx=e,this.w=e.w}return s(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,n="title"===t?e.config.title:e.config.subtitle,i=e.globals.svgWidth/2,r=n.offsetY,o="middle";if("left"===n.align?(i=10,o="start"):"right"===n.align&&(i=e.globals.svgWidth-10,o="end"),i+=n.offsetX,r=r+parseInt(n.style.fontSize)+2,void 0!==n.text){var s=new v(this.ctx).drawText({x:i,y:r,text:n.text,textAnchor:o,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,foreColor:n.style.color,opacity:1});s.node.setAttribute("class","mscharts-".concat(t,"-text")),e.globals.dom.Paper.add(s)}}}]),t}();!function(e,r){"function"==typeof define&&n("PDX0")?define((function(){return r(e,e.document)})):"object"===("undefined"==typeof exports?"undefined":i(exports))&&void 0!==t?t.exports=e.document?r(e,e.document):function(t){return r(t,t.document)}:e.SVG=r(e,e.document)}("undefined"!=typeof window?window:void 0,(function(t,e){var n=(void 0!==this?this:t).SVG=function(t){if(n.supported)return t=new n.Doc(t),n.parser.draw||n.prepare(),t};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=!0,!n.supported)return!1;n.did=1e3,n.eid=function(t){return"Svgjs"+u(t)+n.did++},n.create=function(t){var n=e.createElementNS(this.ns,t);return n.setAttribute("id",this.eid(t)),n},n.extend=function(){var t,e,i,r;for(e=(t=[].slice.call(arguments)).pop(),r=t.length-1;r>=0;r--)if(t[r])for(i in e)t[r].prototype[i]=e[i];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,n.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&n.extend(e,t.extend),t.construct&&n.extend(t.parent||n.Container,t.construct),e},n.adopt=function(e){return e?e.instance?e.instance:((i="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new n.Nested:new n.Doc:"linearGradient"==e.nodeName?new n.Gradient("linear"):"radialGradient"==e.nodeName?new n.Gradient("radial"):n[u(e.nodeName)]?new(n[u(e.nodeName)]):new n.Element(e)).type=e.nodeName,i.node=e,e.instance=i,i instanceof n.Doc&&i.namespace().defs(),i.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),i):null;var i},n.prepare=function(){var t=e.getElementsByTagName("body")[0],i=(t?new n.Doc(t):n.adopt(e.documentElement).nested()).size(2,0);n.parser={body:t||e.documentElement,draw:i.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:i.polyline().node,path:i.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},e.addEventListener("DOMContentLoaded",(function(){n.parser.draw||n.prepare()}),!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(t,e){var n,i=t.length,r=[];for(n=0;n<i;n++)r.push(e(t[n]));return r},filter:function(t,e){var n,i=t.length,r=[];for(n=0;n<i;n++)e(t[n])&&r.push(t[n]);return r},radians:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},filterSVGElements:function(e){return this.filter(e,(function(e){return e instanceof t.SVGElement}))}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(t){var e,r;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?n.regex.isRgb.test(t)?(e=n.regex.rgb.exec(t.replace(n.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):n.regex.isHex.test(t)&&(e=n.regex.hex.exec(4==(r=t).length?["#",r.substring(1,2),r.substring(1,2),r.substring(2,3),r.substring(2,3),r.substring(3,4),r.substring(3,4)].join(""):r),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===i(t)&&(this.r=t.r,this.g=t.g,this.b=t.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+d(this.r)+d(this.g)+d(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new n.Color(t),this},at:function(t){return this.destination?new n.Color({r:~~(this.r+(this.destination.r-this.r)*(t=t<0?0:t>1?1:t)),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)}):this}}),n.Color.test=function(t){return n.regex.isHex.test(t+="")||n.regex.isRgb.test(t)},n.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},n.Color.isColor=function(t){return n.Color.isRgb(t)||n.Color.test(t)},n.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},n.extend(n.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)-1==n.indexOf(this.value[t])&&n.push(this.value[t]);return this.value=n},at:function(t){if(!this.destination)return this;for(var e=0,i=this.value.length,r=[];e<i;e++)r.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new n.Array(r)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var t=new this.constructor;return t.value=function t(e){for(var n=e.slice(0),i=n.length;i--;)Array.isArray(n[i])&&(n[i]=t(n[i]));return n}(this.value),t}}),n.PointArray=function(t,e){n.Array.call(this,t,e||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)n.push(this.value[t].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,i=this.value.length,r=[];e<i;e++)r.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new n.PointArray(r)},parse:function(t){var e=[];if(t=t.valueOf(),Array.isArray(t)){if(Array.isArray(t[0]))return t.map((function(t){return t.slice()}));if(null!=t[0].x)return t.map((function(t){return[t.x,t.y]}))}else t=t.trim().split(n.regex.delimiter).map(parseFloat);t.length%2!=0&&t.pop();for(var i=0,r=t.length;i<r;i+=2)e.push([t[i],t[i+1]]);return e},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var i=this.value.length-1;i>=0;i--)this.value[i]=[this.value[i][0]+t,this.value[i][1]+e];return this},size:function(t,e){var n,i=this.bbox();for(n=this.value.length-1;n>=0;n--)i.width&&(this.value[n][0]=(this.value[n][0]-i.x)*t/i.width+i.x),i.height&&(this.value[n][1]=(this.value[n][1]-i.y)*e/i.height+i.y);return this},bbox:function(){return n.parser.draw||n.prepare(),n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var r={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},o="mlhvqtcsaz".split(""),s=0,a=o.length;s<a;++s)r[o[s]]=function(t){return function(e,n,i){if("H"==t)e[0]=e[0]+n.x;else if("V"==t)e[0]=e[0]+n.y;else if("A"==t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(var o=0,s=e.length;o<s;++o)e[o]=e[o]+(o%2?n.y:n.x);return r[t](e,n,i)}}(o[s].toUpperCase());n.PathArray=function(t,e){n.Array.call(this,t,e||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return function(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e][0],null!=t[e][1]&&(i+=t[e][1],null!=t[e][2]&&(i+=" ",i+=t[e][2],null!=t[e][3]&&(i+=" ",i+=t[e][3],i+=" ",i+=t[e][4],null!=t[e][5]&&(i+=" ",i+=t[e][5],i+=" ",i+=t[e][6],null!=t[e][7]&&(i+=" ",i+=t[e][7])))));return i+" "}(this.value)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var i,r=this.value.length-1;r>=0;r--)"M"==(i=this.value[r][0])||"L"==i||"T"==i?(this.value[r][1]+=t,this.value[r][2]+=e):"H"==i?this.value[r][1]+=t:"V"==i?this.value[r][1]+=e:"C"==i||"S"==i||"Q"==i?(this.value[r][1]+=t,this.value[r][2]+=e,this.value[r][3]+=t,this.value[r][4]+=e,"C"==i&&(this.value[r][5]+=t,this.value[r][6]+=e)):"A"==i&&(this.value[r][6]+=t,this.value[r][7]+=e);return this},size:function(t,e){var n,i,r=this.bbox();for(n=this.value.length-1;n>=0;n--)"M"==(i=this.value[n][0])||"L"==i||"T"==i?(this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*e/r.height+r.y):"H"==i?this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x:"V"==i?this.value[n][1]=(this.value[n][1]-r.y)*e/r.height+r.y:"C"==i||"S"==i||"Q"==i?(this.value[n][1]=(this.value[n][1]-r.x)*t/r.width+r.x,this.value[n][2]=(this.value[n][2]-r.y)*e/r.height+r.y,this.value[n][3]=(this.value[n][3]-r.x)*t/r.width+r.x,this.value[n][4]=(this.value[n][4]-r.y)*e/r.height+r.y,"C"==i&&(this.value[n][5]=(this.value[n][5]-r.x)*t/r.width+r.x,this.value[n][6]=(this.value[n][6]-r.y)*e/r.height+r.y)):"A"==i&&(this.value[n][1]=this.value[n][1]*t/r.width,this.value[n][2]=this.value[n][2]*e/r.height,this.value[n][6]=(this.value[n][6]-r.x)*t/r.width+r.x,this.value[n][7]=(this.value[n][7]-r.y)*e/r.height+r.y);return this},equalCommands:function(t){var e,i,r;for(t=new n.PathArray(t),r=this.value.length===t.value.length,e=0,i=this.value.length;r&&e<i;e++)r=this.value[e][0]===t.value[e][0];return r},morph:function(t){return t=new n.PathArray(t),this.destination=this.equalCommands(t)?t:null,this},at:function(t){if(!this.destination)return this;var e,i,r,o,s=this.value,a=this.destination.value,l=[],c=new n.PathArray;for(e=0,i=s.length;e<i;e++){for(l[e]=[s[e][0]],r=1,o=s[e].length;r<o;r++)l[e][r]=s[e][r]+(a[e][r]-s[e][r])*t;"A"===l[e][0]&&(l[e][4]=+(0!=l[e][4]),l[e][5]=+(0!=l[e][5]))}return c.value=l,c},parse:function(t){if(t instanceof n.PathArray)return t.valueOf();var e,i={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(n.regex.numbersWithDots,c).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):t.reduce((function(t,e){return[].concat.call(t,e)}),[]);var o=[],s=new n.Point,a=new n.Point,l=0,h=t.length;do{n.regex.isPathLetter.test(t[l])?(e=t[l],++l):"M"==e?e="L":"m"==e&&(e="l"),o.push(r[e].call(null,t.slice(l,l+=i[e.toUpperCase()]).map(parseFloat),s,a))}while(h>l);return o},bbox:function(){return n.parser.draw||n.prepare(),n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(n.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof n.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new n.Number(t),new n.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new n.Number(t),new n.Number(this-t,this.unit||t.unit)},times:function(t){return t=new n.Number(t),new n.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new n.Number(t),new n.Number(this/t,this.unit||t.unit)},to:function(t){var e=new n.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new n.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new n.Number(this.destination).minus(this).times(t).plus(this):this}}}),n.Element=n.invent({create:function(t){this._stroke=n.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var i=f(this,t,e);return this.width(new n.Number(i.width)).height(new n.Number(i.height))},clone:function(t){this.writeDataToDom();var e=v(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},inside:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(n.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!=t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return n.get(this.attr(t))},parent:function(e){var i=this;if(!i.node.parentNode)return null;if(i=n.adopt(i.node.parentNode),!e)return i;for(;i&&i.node instanceof t.SVGElement;){if("string"==typeof e?i.matches(e):i instanceof e)return i;if(!i.node.parentNode||"#document"==i.node.parentNode.nodeName)return null;i=n.adopt(i.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(t){var e=[],n=this;do{if(!(n=n.parent(t))||!n.node)break;e.push(n)}while(n.parent);return e},matches:function(t){return function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}(this.node,t)},native:function(){return this.node},svg:function(t){var i=e.createElement("svg");if(!(t&&this instanceof n.Parent))return i.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),i.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");i.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,o=i.firstChild.childNodes.length;r<o;r++)this.node.appendChild(i.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return function(t,e){return t instanceof e}(this,t)}}}),n.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},n.morph=function(t){return function(e,i){return new n.MorphObj(e,i).at(t)}},n.Situation=n.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(t.duration).valueOf(),this.delay=new n.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,r){"object"===i(t)&&(e=t.ease,r=t.delay,t=t.duration);var o=new n.Situation({duration:t||1e3,delay:r||0,ease:n.easing[e||"-"]||e});return this.queue(o),this},delay:function(t){var e=new n.Situation({duration:t,delay:0,ease:n.easing["-"]});return this.queue(e)},target:function(t){return t&&t instanceof n.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof n.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e,i,r=this.situation;if(r.init)return this;for(t in r.animations)for(i=this.target()[t](),Array.isArray(i)||(i=[i]),Array.isArray(r.animations[t])||(r.animations[t]=[r.animations[t]]),e=i.length;e--;)r.animations[t][e]instanceof n.Number&&(i[e]=new n.Number(i[e])),r.animations[t][e]=i[e].morph(r.animations[t][e]);for(t in r.attrs)r.attrs[t]=new n.MorphObj(this.target().attr(t),r.attrs[t]);for(t in r.styles)r.styles[t]=new n.MorphObj(this.target().style(t),r.styles[t]);return r.initialTransformation=this.target().matrixify(),r.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var n=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var t=this.situation;this.stop(),this.situation=t,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops&&(this.situation.loops=this.situation.loop+1),this.at("number"==typeof this.situation.loops?this.situation.loops:1,!0)},at:function(t,e){var n=this.situation.duration/this._speed;return this.absPos=t,e||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*n,this.situation.finish=this.situation.start+n,this.step(!0)},speed:function(t){return 0===t?this.pause():t?(this._speed=t,this.at(this.absPos,!0)):this._speed},loop:function(t,e){var n=this.last();return n.loops=null==t||t,n.loop=0,e&&(n.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(t){var e=this.last();return e.reversed=void 0===t?!e.reversed:t,this},progress:function(t){return t?this.situation.ease(this.pos):this.pos},after:function(t){var e=this.last();return this.target().on("finished.fx",(function n(i){i.detail.situation==e&&(t.call(this,e),this.off("finished.fx",n))})),this._callStart()},during:function(t){var e=this.last(),i=function(i){i.detail.situation==e&&t.call(this,i.detail.pos,n.morph(i.detail.pos),i.detail.eased,e)};return this.target().off("during.fx",i).on("during.fx",i),this.after((function(){this.off("during.fx",i)})),this._callStart()},afterAll:function(t){var e=function e(n){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},duringAll:function(t){var e=function(e){t.call(this,e.detail.pos,n.morph(e.detail.pos),e.detail.eased,e.detail.situation)};return this.target().off("during.fx",e).on("during.fx",e),this.afterAll((function(){this.off("during.fx",e)})),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,n){return this.last()[n||"animations"][t]=e,this._callStart()},step:function(t){var e,n,i;t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(e=Math.max(this.absPos,0),n=Math.floor(e),!0===this.situation.loops||n<this.situation.loops?(this.pos=e-n,i=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=r&&(this.situation.once[o].call(this.target(),this.pos,r),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var t,e,i,r=this,o=this.target(),s=this.situation;for(t in s.animations)i=[].concat(s.animations[t]).map((function(t){return"string"!=typeof t&&t.at?t.at(s.ease(r.pos),r.pos):t})),o[t].apply(o,i);for(t in s.attrs)i=[t].concat(s.attrs[t]).map((function(t){return"string"!=typeof t&&t.at?t.at(s.ease(r.pos),r.pos):t})),o.attr.apply(o,i);for(t in s.styles)i=[t].concat(s.styles[t]).map((function(t){return"string"!=typeof t&&t.at?t.at(s.ease(r.pos),r.pos):t})),o.style.apply(o,i);if(s.transforms.length){for(i=s.initialTransformation,t=0,e=s.transforms.length;t<e;t++){var a=s.transforms[t];a instanceof n.Matrix?i=a.relative?i.multiply((new n.Matrix).morph(a).at(s.ease(this.pos))):i.morph(a).at(s.ease(this.pos)):(a.relative||a.undo(i.extract()),i=i.multiply(a.at(s.ease(this.pos))))}o.matrix(i)}return this},once:function(t,e,n){var i=this.last();return n||(t=i.ease(t)),i.once[t]=e,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:n.Element,construct:{animate:function(t,e,i){return(this.fx||(this.fx=new n.FX(this))).animate(t,e,i)},delay:function(t){return(this.fx||(this.fx=new n.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(t){if(this.fx){if(null==t)return this.fx.speed();this.fx.speed(t)}return this}}}),n.MorphObj=n.invent({create:function(t,e){return n.Color.isColor(e)?new n.Color(t).morph(e):n.regex.delimiter.test(t)?n.regex.pathLetters.test(t)?new n.PathArray(t).morph(e):new n.Array(t).morph(e):n.regex.numberAndUnit.test(e)?new n.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(t,e,n){if("object"===i(t))for(var r in t)this.attr(r,t[r]);else this.add(t,e,"attrs");return this},style:function(t,e){if("object"===i(t))for(var n in t)this.style(n,t[n]);else this.add(t,e,"styles");return this},x:function(t,e){if(this.target()instanceof n.G)return this.transform({x:t},e),this;var i=new n.Number(t);return i.relative=e,this.add("x",i)},y:function(t,e){if(this.target()instanceof n.G)return this.transform({y:t},e),this;var i=new n.Number(t);return i.relative=e,this.add("y",i)},cx:function(t){return this.add("cx",new n.Number(t))},cy:function(t){return this.add("cy",new n.Number(t))},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){var i;return this.target()instanceof n.Text?this.attr("font-size",t):(t&&e||(i=this.target().bbox()),t||(t=i.width/i.height*e),e||(e=i.height/i.width*t),this.add("width",new n.Number(t)).add("height",new n.Number(e))),this},width:function(t){return this.add("width",new n.Number(t))},height:function(t){return this.add("height",new n.Number(t))},plot:function(t,e,n,i){return 4==arguments.length?this.plot([t,e,n,i]):this.add("plot",new(this.target().morphArray)(t))},leading:function(t){return this.target().leading?this.add("leading",new n.Number(t)):this},viewbox:function(t,e,i,r){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(t,e,i,r)),this},update:function(t){if(this.target()instanceof n.Stop){if("number"==typeof t||t instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset)}return this}}),n.Box=n.invent({create:function(t,e,r,o){if(!("object"!==i(t)||t instanceof n.Element))return n.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=r,this.height=o),y(this)},extend:{merge:function(t){var e=new this.constructor;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,y(e)},transform:function(t){var e,i=1/0,r=-1/0,o=1/0,s=-1/0;return[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)].forEach((function(e){e=e.transform(t),i=Math.min(i,e.x),r=Math.max(r,e.x),o=Math.min(o,e.y),s=Math.max(s,e.y)})),(e=new this.constructor).x=i,e.width=r-i,e.y=o,e.height=s-o,y(e),e}}}),n.BBox=n.invent({create:function(t){if(n.Box.apply(this,[].slice.call(arguments)),t instanceof n.Element){var i;try{if(!e.documentElement.contains){for(var r=t.node;r.parentNode;)r=r.parentNode;if(r!=e)throw new Error("Element not in the dom")}i=t.node.getBBox()}catch(e){if(t instanceof n.Shape){n.parser.draw||n.prepare();var o=t.clone(n.parser.draw.instance).show();i=o.node.getBBox(),o.remove()}else i={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}n.Box.call(this,i)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(t){n.Box.apply(this,[].slice.call(arguments)),t instanceof n.Element&&n.Box.call(this,t.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=t.pageXOffset,this.y+=t.pageYOffset,this}},construct:{rbox:function(t){return t?new n.RBox(this).transform(t.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(t){var e,r=g([1,0,0,1,0,0]);for(t=t instanceof n.Element?t.matrixify():"string"==typeof t?g(t.split(n.regex.delimiter).map(parseFloat)):6==arguments.length?g([].slice.call(arguments)):Array.isArray(t)?g(t):"object"===i(t)?t:r,e=x.length-1;e>=0;--e)this[x[e]]=null!=t[x[e]]?t[x[e]]:r[x[e]]},extend:{extract:function(){var t=p(this,0,1),e=p(this,1,0),i=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(i*Math.PI/180)+this.f*Math.sin(i*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(i*Math.PI/180)+this.e*Math.sin(-i*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-i,skewY:180/Math.PI*Math.atan2(e.y,e.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:i,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(t){return this.destination=new n.Matrix(t),this},at:function(t){return this.destination?new n.Matrix({a:this.a+(this.destination.a-this.a)*t,b:this.b+(this.destination.b-this.b)*t,c:this.c+(this.destination.c-this.c)*t,d:this.d+(this.destination.d-this.d)*t,e:this.e+(this.destination.e-this.e)*t,f:this.f+(this.destination.f-this.f)*t}):this},multiply:function(t){return new n.Matrix(this.native().multiply(function(t){return t instanceof n.Matrix||(t=new n.Matrix(t)),t}(t).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(t,e){return new n.Matrix(this.native().translate(t||0,e||0))},scale:function(t,e,i,r){return 1==arguments.length?e=t:3==arguments.length&&(r=i,i=e,e=t),this.around(i,r,new n.Matrix(t,0,0,e,0,0))},rotate:function(t,e,i){return t=n.utils.radians(t),this.around(e,i,new n.Matrix(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0))},flip:function(t,e){return"x"==t?this.scale(-1,1,e,0):"y"==t?this.scale(1,-1,0,e):this.scale(-1,-1,t,null!=e?e:t)},skew:function(t,e,i,r){return 1==arguments.length?e=t:3==arguments.length&&(r=i,i=e,e=t),t=n.utils.radians(t),e=n.utils.radians(e),this.around(i,r,new n.Matrix(1,Math.tan(e),Math.tan(t),1,0,0))},skewX:function(t,e,n){return this.skew(t,0,e,n)},skewY:function(t,e,n){return this.skew(0,t,e,n)},around:function(t,e,i){return this.multiply(new n.Matrix(1,0,0,1,t||0,e||0)).multiply(i).multiply(new n.Matrix(1,0,0,1,-t||0,-e||0))},native:function(){for(var t=n.parser.native.createSVGMatrix(),e=x.length-1;e>=0;e--)t[x[e]]=this[x[e]];return t},toString:function(){return"matrix("+b(this.a)+","+b(this.b)+","+b(this.c)+","+b(this.d)+","+b(this.e)+","+b(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new n.Matrix(e)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(t,e){var n;n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===i(t)?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=n.x,this.y=n.y},extend:{clone:function(){return new n.Point(this)},morph:function(t,e){return this.destination=new n.Point(t,e),this},at:function(t){return this.destination?new n.Point({x:this.x+(this.destination.x-this.x)*t,y:this.y+(this.destination.y-this.y)*t}):this},native:function(){var t=n.parser.native.createSVGPoint();return t.x=this.x,t.y=this.y,t},transform:function(t){return new n.Point(this.native().matrixTransform(t.native()))}}}),n.extend(n.Element,{point:function(t,e){return new n.Point(t,e).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(t,e,r){if(null==t){for(t={},r=(e=this.node.attributes).length-1;r>=0;r--)t[e[r].nodeName]=n.regex.isNumber.test(e[r].nodeValue)?parseFloat(e[r].nodeValue):e[r].nodeValue;return t}if("object"===i(t))for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?n.defaults.attrs[t]:n.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(n.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof n.Image&&(e=this.doc().defs().pattern(0,0,(function(){this.add(e)})))),"number"==typeof e?e=new n.Number(e):n.Color.isColor(e)?e=new n.Color(e):Array.isArray(e)&&(e=new n.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof r?this.node.setAttributeNS(r,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),n.extend(n.Element,{transform:function(t,e){var r,o;if("object"!==i(t))return r=new n.Matrix(this).extract(),"string"==typeof t?r[t]:r;if(r=new n.Matrix(this),e=!!e||!!t.relative,null!=t.a)r=e?r.multiply(new n.Matrix(t)):new n.Matrix(t);else if(null!=t.rotation)m(t,this),r=r.rotate(e?t.rotation:t.rotation-r.extract().rotation,t.cx,t.cy);else if(null!=t.scale||null!=t.scaleX||null!=t.scaleY){if(m(t,this),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,!e){var s=r.extract();t.scaleX=1*t.scaleX/s.scaleX,t.scaleY=1*t.scaleY/s.scaleY}r=r.scale(t.scaleX,t.scaleY,t.cx,t.cy)}else null!=t.skew||null!=t.skewX||null!=t.skewY?(m(t,this),t.skewX=null!=t.skew?t.skew:null!=t.skewX?t.skewX:0,t.skewY=null!=t.skew?t.skew:null!=t.skewY?t.skewY:0,e||(s=r.extract(),r=r.multiply((new n.Matrix).skew(s.skewX,s.skewY,t.cx,t.cy).inverse())),r=r.skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?this.bbox()["c"+t.flip]:t.offset:null==t.offset?(o=this.bbox(),t.flip=o.cx,t.offset=o.cy):t.flip=t.offset,r=(new n.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(e?r=r.translate(t.x,t.y):(null!=t.x&&(r.e=t.x),null!=t.y&&(r.f=t.y)));return this.attr("transform",r)}}),n.extend(n.FX,{transform:function(t,e){var r,o,s=this.target();return"object"!==i(t)?(r=new n.Matrix(s).extract(),"string"==typeof t?r[t]:r):(e=!!e||!!t.relative,null!=t.a?r=new n.Matrix(t):null!=t.rotation?(m(t,s),r=new n.Rotate(t.rotation,t.cx,t.cy)):null!=t.scale||null!=t.scaleX||null!=t.scaleY?(m(t,s),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,r=new n.Scale(t.scaleX,t.scaleY,t.cx,t.cy)):null!=t.skewX||null!=t.skewY?(m(t,s),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,r=new n.Skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?s.bbox()["c"+t.flip]:t.offset:null==t.offset?(o=s.bbox(),t.flip=o.cx,t.offset=o.cy):t.flip=t.offset,r=(new n.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(r=new n.Translate(t.x,t.y)),r?(r.relative=e,this.last().transforms.push(r),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(n.regex.delimiter).map((function(t){return parseFloat(t)}))]})).reduce((function(t,e){return"matrix"==e[0]?t.multiply(g(e[1])):t[e[0]].apply(t,e[1])}),new n.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t).untransform().transform(n.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=t[n];else if("object"===i(t))for(n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=t[this.arguments[n]];this.inversed=!1,!0===e&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(t){for(var e=[],i=0,r=this.arguments.length;i<r;++i)e.push(this[this.arguments[i]]);var o=this._undo||new n.Matrix;return o=(new n.Matrix).morph(n.Matrix.prototype[this.method].apply(o,e)).at(t),this.inversed?o.inverse():o},undo:function(t){for(var e=0,i=this.arguments.length;e<i;++e)t[this.arguments[e]]=void 0===this[this.arguments[e]]?0:t[this.arguments[e]];return t.cx=this.cx,t.cy=this.cy,this._undo=new(n[u(this.method)])(t,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(t){var e=(new n.Matrix).rotate((new n.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(t),this.cx,this.cy);return this.inversed?e.inverse():e},undo:function(t){return this._undo=t,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===i(t))for(e in t)this.style(e,t[e]);else{if(!n.regex.isCss.test(t))return this.node.style[h(t)];for(t=t.split(/\s*;\s*/).filter((function(t){return!!t})).map((function(t){return t.split(/\s*:\s*/)}));e=t.pop();)this.style(e[0],e[1])}else this.node.style[h(t)]=null===e||n.regex.isBlank.test(e)?"":e;return this}}),n.Parent=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),(function(t){return n.adopt(t)}))},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return n.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){var i,r,o=this.children();for(i=0,r=o.length;i<r;i++)o[i]instanceof n.Element&&t.apply(o[i],[i,o]),e&&o[i]instanceof n.Container&&o[i].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(t,e){return 0===e||this instanceof n.Defs||this.node==n.parser.draw?this:(t=t||(this instanceof n.Doc?this:this.parent(n.Parent)),e=e||1/0,this.each((function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(t,e-1):this.toParent(t)})),this.node.firstChild||this.remove(),this)},flatten:function(t,e){return this.ungroup(t,e)}}),n.Container=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(t){var e,r,o,s,a,l,c,h=[0,0,0,0],u=1,d=1,f=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(t instanceof n.Element){for(l=t,c=t,a=(t.attr("viewBox")||"").match(f),o=new n.Number(t.width()),s=new n.Number(t.height());"%"==o.unit;)u*=o.value,o=new n.Number(l instanceof n.Doc?l.parent().offsetWidth:l.parent().width()),l=l.parent();for(;"%"==s.unit;)d*=s.value,s=new n.Number(c instanceof n.Doc?c.parent().offsetHeight:c.parent().height()),c=c.parent();this.x=0,this.y=0,this.width=o*u,this.height=s*d,this.zoom=1,a&&(e=parseFloat(a[0]),r=parseFloat(a[1]),o=parseFloat(a[2]),s=parseFloat(a[3]),this.zoom=this.width/this.height>o/s?this.height/s:this.width/o,this.x=e,this.y=r,this.width=o,this.height=s)}else t="string"==typeof t?t.match(f).map((function(t){return parseFloat(t)})):Array.isArray(t)?t:"object"===i(t)?[t.x,t.y,t.width,t.height]:4==arguments.length?[].slice.call(arguments):h,this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(t,e,i,r){return this.destination=new n.ViewBox(t,e,i,r),this},at:function(t){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*t,this.y+(this.destination.y-this.y)*t,this.width+(this.destination.width-this.width)*t,this.height+(this.destination.height-this.height)*t]):this}},parent:n.Container,construct:{viewbox:function(t,e,i,r){return 0==arguments.length?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(t,e,i,r))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(t){n.Element.prototype[t]=function(e){return n.on(this.node,t,e),this}})),n.listeners=[],n.handlerMap=[],n.listenerId=0,n.on=function(t,e,i,r,o){var s=i.bind(r||t.instance||t),a=(n.handlerMap.indexOf(t)+1||n.handlerMap.push(t))-1,l=e.split(".")[0],c=e.split(".")[1]||"*";n.listeners[a]=n.listeners[a]||{},n.listeners[a][l]=n.listeners[a][l]||{},n.listeners[a][l][c]=n.listeners[a][l][c]||{},i._svgjsListenerId||(i._svgjsListenerId=++n.listenerId),n.listeners[a][l][c][i._svgjsListenerId]=s,t.addEventListener(l,s,o||!1)},n.off=function(t,e,i){var r=n.handlerMap.indexOf(t),o=e&&e.split(".")[0],s=e&&e.split(".")[1],a="";if(-1!=r)if(i){if("function"==typeof i&&(i=i._svgjsListenerId),!i)return;n.listeners[r][o]&&n.listeners[r][o][s||"*"]&&(t.removeEventListener(o,n.listeners[r][o][s||"*"][i],!1),delete n.listeners[r][o][s||"*"][i])}else if(s&&o){if(n.listeners[r][o]&&n.listeners[r][o][s]){for(i in n.listeners[r][o][s])n.off(t,[o,s].join("."),i);delete n.listeners[r][o][s]}}else if(s)for(e in n.listeners[r])for(a in n.listeners[r][e])s===a&&n.off(t,[e,s].join("."));else if(o){if(n.listeners[r][o]){for(a in n.listeners[r][o])n.off(t,[o,a].join("."));delete n.listeners[r][o]}}else{for(e in n.listeners[r])n.off(t,e);delete n.listeners[r],delete n.handlerMap[r]}},n.extend(n.Element,{on:function(t,e,i,r){return n.on(this.node,t,e,i,r),this},off:function(t,e){return n.off(this.node,t,e),this},fire:function(e,i){return this.node.dispatchEvent(e instanceof t.Event?e:e=new n.CustomEvent(e,{detail:i,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)},y:function(t){return null==t?this.transform("y"):this.transform({y:t-this.y()},!0)},cx:function(t){return null==t?this.gbox().cx:this.x(t-this.gbox().width/2)},cy:function(t){return null==t?this.gbox().cy:this.y(t-this.gbox().height/2)},gbox:function(){var t=this.bbox(),e=this.transform();return t.x+=e.x,t.x2+=e.x,t.cx+=e.x,t.y+=e.y,t.y2+=e.y,t.cy+=e.y,t}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(t){t&&("svg"==(t="string"==typeof t?e.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,n.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){var t;return this._defs||(this._defs=(t=this.node.getElementsByTagName("defs")[0])?n.adopt(t):new n.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},spof:function(){var t=this.node.getScreenCTM();return t&&this.style("left",-t.e%1+"px").style("top",-t.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw&&!n.parser.draw.parentNode&&this.node.appendChild(n.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,n=v(e.cloneNode(!0));return t?(t.node||t).appendChild(n.node):e.parentNode.insertBefore(n.node,e.nextSibling),n}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),e instanceof n.Doc&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),t instanceof n.Doc&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent().add(t,e+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return this.targets=[],n.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(t){return this.masker=t instanceof n.Mask?t:this.parent().mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(t){return this.clipper=t instanceof n.ClipPath?t:this.parent().clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(t){this.constructor.call(this,n.create(t+"Gradient")),this.type=t},inherit:n.Container,extend:{at:function(t,e,i){return this.put(new n.Stop).update(t,e,i)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="gradientTransform"),n.Container.prototype.attr.call(this,t,e,i)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),n.extend(n.Gradient,n.FX,{from:function(t,e){return this.attr("radial"==(this._target||this).type?{fx:new n.Number(t),fy:new n.Number(e)}:{x1:new n.Number(t),y1:new n.Number(e)})},to:function(t,e){return this.attr("radial"==(this._target||this).type?{cx:new n.Number(t),cy:new n.Number(e)}:{x2:new n.Number(t),y2:new n.Number(e)})}}),n.extend(n.Defs,{gradient:function(t,e){return this.put(new n.Gradient(t)).update(e)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(t){return("number"==typeof t||t instanceof n.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new n.Number(t.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="patternTransform"),n.Container.prototype.attr.call(this,t,e,i)}},construct:{pattern:function(t,e,n){return this.defs().pattern(t,e,n)}}}),n.extend(n.Defs,{pattern:function(t,e,i){return this.put(new n.Pattern).update(i).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Element}),n.Bare=n.invent({create:function(t,e){if(this.constructor.call(this,n.create(t)),e)for(var i in e.prototype)"function"==typeof e.prototype[i]&&(this[i]=e.prototype[i])},inherit:n.Element,extend:{words:function(t){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(e.createTextNode(t)),this}}}),n.extend(n.Parent,{element:function(t,e){return this.put(new n.Bare(t,e))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,n.xlink)}},construct:{use:function(t,e){return this.put(new n.Use).element(t,e)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(t,e){return this.put(new n.Rect).size(t,e)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(t){return this.put(new n.Circle).rx(new n.Number(t).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(t,e){return this.put(new n.Ellipse).size(t,e).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),n.extend(n.Circle,n.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new n.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new n.Number(t).divide(2))},size:function(t,e){var i=f(this,t,e);return this.rx(new n.Number(i.width).divide(2)).ry(new n.Number(i.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,i,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:i,y2:r}:new n.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var n=f(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(t,e,i,r){return n.Line.prototype.plot.apply(this.put(new n.Line),null!=t?[t,e,i,r]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(t){return this.put(new n.Polyline).plot(t||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(t){return this.put(new n.Polygon).plot(t||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new n.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var n=f(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new n.PathArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("d",this.array().move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var n=f(this,t,e);return this.attr("d",this.array().size(n.width,n.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new n.Path).plot(t||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(e){if(!e)return this;var i=this,r=new t.Image;return n.on(r,"load",(function(){n.off(r);var t=i.parent(n.Pattern);null!==t&&(0==i.width()&&0==i.height()&&i.size(r.width,r.height),t&&0==t.width()&&0==t.height()&&t.size(i.width(),i.height()),"function"==typeof i._loaded&&i._loaded.call(i,{width:r.width,height:r.height,ratio:r.width/r.height,url:e}))})),n.on(r,"error",(function(t){n.off(r),"function"==typeof i._error&&i._error.call(i,t)})),this.attr("href",r.src=this.src=e,n.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,i){return this.put(new n.Image).load(t).size(e||0,i||e||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},y:function(t){var e=this.attr("y"),n="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-n:e:this.attr("y","number"==typeof t.valueOf()?t+n:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,i=0,r=e.length;i<r;++i)0!=i&&3!=e[i].nodeType&&1==n.adopt(e[i]).dom.newLined&&(t+="\n"),t+=e[i].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{i=0;for(var o=(t=t.split("\n")).length;i<o;i++)this.tspan(t[i]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new n.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=n.utils.map(n.utils.filterSVGElements(t.childNodes),(function(t){return n.adopt(t)}));return new n.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,i=0,r=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?i+=r:(this.attr("dy",r+i),i=0))})),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new n.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new n.Text).text(t)},plain:function(t){return this.put(new n.Text).plain(t)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(n.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,i=new n.Tspan;return!1===this._build&&this.clear(),e.appendChild(i.node),i.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,path:function(t){for(var e=new n.TextPath,i=this.doc().defs().path(t);this.node.hasChildNodes();)e.node.appendChild(this.node.firstChild);return this.node.appendChild(e.node),e.attr("href","#"+i,n.xlink),this},array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),n=null;return e&&(n=e.plot(t)),null==t?n:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(t){return this.attr("href",t,n.xlink)},show:function(t){return this.attr("show",t,n.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new n.A).to(t)}}}),n.extend(n.Element,{linkTo:function(t){var e=new n.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,n){return this.defs().marker(t,e,n)}}}),n.extend(n.Defs,{marker:function(t,e,i){return this.put(new n.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(i)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(t,e,i,r){var o=["marker"];return"all"!=t&&o.push(t),o=o.join("-"),t=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(e,i,r),this.attr(o,t)}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function c(t,e,i,r){return i+r.replace(n.regex.dots," .")}function h(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function u(t){return t.charAt(0).toUpperCase()+t.slice(1)}function d(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function f(t,e,n){if(null==e||null==n){var i=t.bbox();null==e?e=i.width/i.height*n:null==n&&(n=i.height/i.width*e)}return{width:e,height:n}}function p(t,e,n){return{x:e*t.a+n*t.c+0,y:e*t.b+n*t.d+0}}function g(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function m(t,e){t.cx=null==t.cx?e.bbox().cx:t.cx,t.cy=null==t.cy?e.bbox().cy:t.cy}function v(e){for(var i=e.childNodes.length-1;i>=0;i--)e.childNodes[i]instanceof t.SVGElement&&v(e.childNodes[i]);return n.adopt(e).id(n.eid(e.nodeName))}function y(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function b(t){return Math.abs(t)>1e-37?t:0}["fill","stroke"].forEach((function(t){var e,i={};i[t]=function(i){if(void 0===i)return this;if("string"==typeof i||n.Color.isRgb(i)||i&&"function"==typeof i.fill)this.attr(t,i);else for(e=l[t].length-1;e>=0;e--)null!=i[l[t][e]]&&this.attr(l.prefix(t,l[t][e]),i[l[t][e]]);return this},n.extend(n.Element,n.FX,i)})),n.extend(n.Element,n.FX,{rotate:function(t,e,n){return this.transform({rotation:t,cx:e,cy:n})},skew:function(t,e,n,i){return this.transform(1==arguments.length||3==arguments.length?{skew:t,cx:e,cy:n}:{skewX:t,skewY:e,cx:n,cy:i})},scale:function(t,e,n,i){return this.transform(1==arguments.length||3==arguments.length?{scale:t,cx:e,cy:n}:{scaleX:t,scaleY:e,cx:n,cy:i})},translate:function(t,e){return this.transform({x:t,y:e})},flip:function(t,e){return this.transform({flip:t||"both",offset:e="number"==typeof t?t:e})},matrix:function(t){return this.attr("transform",new n.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new n.Number(t).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(t){return this.y(new n.Number(t).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(t,e){return this.dx(t).dy(e)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(t,e){var i=(this._target||this).type;return"radial"==i||"circle"==i?this.attr("r",new n.Number(t)):this.rx(t).ry(null==e?t:e)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(t,e){if("object"===i(t))for(e in t)this.font(e,t[e]);return"leading"==t?this.leading(e):this.attr("anchor"==t?"text-anchor":"size"==t||"family"==t||"weight"==t||"stretch"==t||"variant"==t||"style"==t?"font-"+t:t,e)}}),n.Set=n.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){var t,e,n=[].slice.call(arguments);for(t=0,e=n.length;t<e;t++)this.members.push(n[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,n=this.members.length;e<n;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new n.RBox;var t=this.members[0].rbox(this.members[0].doc());return this.each((function(){t=t.merge(this.rbox(this.doc()))})),t}},construct:{set:function(t){return new n.Set(t)}}}),n.FX.Set=n.invent({create:function(t){this.set=t}}),n.Set.inherit=function(){var t=[];for(var e in n.Shape.prototype)"function"==typeof n.Shape.prototype[e]&&"function"!=typeof n.Set.prototype[e]&&t.push(e);for(var e in t.forEach((function(t){n.Set.prototype[t]=function(){for(var e=0,i=this.members.length;e<i;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new n.FX.Set(this)):this}})),t=[],n.FX.prototype)"function"==typeof n.FX.prototype[e]&&"function"!=typeof n.FX.Set.prototype[e]&&t.push(e);t.forEach((function(t){n.FX.Set.prototype[t]=function(){for(var e=0,n=this.set.members.length;e<n;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}}))},n.extend(n.Element,{data:function(t,e,n){if("object"===i(t))for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),n.extend(n.Element,{remember:function(t,e){if("object"===i(arguments[0]))for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(t){var i=e.getElementById(function(t){var e=(t||"").toString().match(n.regex.reference);if(e)return e[1]}(t)||t);return n.adopt(i)},n.select=function(t,i){return new n.Set(n.utils.map((i||e).querySelectorAll(t),(function(t){return n.adopt(t)})))},n.extend(n.Parent,{select:function(t){return n.select(t,this.node)}});var x="abcdef".split("");if("function"!=typeof t.CustomEvent){var w=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i};w.prototype=t.Event.prototype,n.CustomEvent=w}else n.CustomEvent=t.CustomEvent;return function(e){for(var n=0,i=["moz","webkit"],r=0;r<i.length&&!t.requestAnimationFrame;++r)e.requestAnimationFrame=e[i[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[i[r]+"CancelAnimationFrame"]||e[i[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame=e.requestAnimationFrame||function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-n)),o=e.setTimeout((function(){t(i+r)}),r);return n=i+r,o},e.cancelAnimationFrame=e.cancelAnimationFrame||e.clearTimeout}(t),n})),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(t,e){return this.add(t,e),!t.attr("in")&&this.autoSetIn&&t.attr("in",this.source),t.attr("result")||t.attr("result",t),t},blend:function(t,e,n){return this.put(new SVG.BlendEffect(t,e,n))},colorMatrix:function(t,e){return this.put(new SVG.ColorMatrixEffect(t,e))},convolveMatrix:function(t){return this.put(new SVG.ConvolveMatrixEffect(t))},componentTransfer:function(t){return this.put(new SVG.ComponentTransferEffect(t))},composite:function(t,e,n){return this.put(new SVG.CompositeEffect(t,e,n))},flood:function(t,e){return this.put(new SVG.FloodEffect(t,e))},offset:function(t,e){return this.put(new SVG.OffsetEffect(t,e))},image:function(t){return this.put(new SVG.ImageEffect(t))},merge:function(){var t=[void 0];for(var e in arguments)t.push(arguments[e]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,t)))},gaussianBlur:function(t,e){return this.put(new SVG.GaussianBlurEffect(t,e))},morphology:function(t,e){return this.put(new SVG.MorphologyEffect(t,e))},diffuseLighting:function(t,e,n){return this.put(new SVG.DiffuseLightingEffect(t,e,n))},displacementMap:function(t,e,n,i,r){return this.put(new SVG.DisplacementMapEffect(t,e,n,i,r))},specularLighting:function(t,e,n,i){return this.put(new SVG.SpecularLightingEffect(t,e,n,i))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(t,e,n,i,r){return this.put(new SVG.TurbulenceEffect(t,e,n,i,r))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(t){var e=this.put(new SVG.Filter);return"function"==typeof t&&t.call(e,e),e}}),SVG.extend(SVG.Container,{filter:function(t){return this.defs().filter(t)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(t){return this.filterer=t instanceof SVG.Element?t:this.doc().filter(t),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(t){return this.filterer&&!0===t&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}});var t={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},diffuseLighting:function(t,e,n){return this.parent()&&this.parent().diffuseLighting(t,e,n).in(this)},displacementMap:function(t,e,n,i){return this.parent()&&this.parent().displacementMap(this,t,e,n,i)},specularLighting:function(t,e,n,i){return this.parent()&&this.parent().specularLighting(t,e,n,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,n,i,r){return this.parent()&&this.parent().turbulence(t,e,n,i,r).in(this)}};SVG.extend(SVG.Effect,t),SVG.extend(SVG.ParentEffect,t),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(t){this.attr("in",t)}}});var e={blend:function(t,e,n){this.attr({in:t,in2:e,mode:n||"normal"})},colorMatrix:function(t,e){"matrix"==t&&(e=r(e)),this.attr({type:t,values:void 0===e?null:e})},convolveMatrix:function(t){t=r(t),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},composite:function(t,e,n){this.attr({in:t,in2:e,operator:n})},flood:function(t,e){this.attr("flood-color",t),null!=e&&this.attr("flood-opacity",e)},offset:function(t,e){this.attr({dx:t,dy:e})},image:function(t){this.attr("href",t,SVG.xlink)},displacementMap:function(t,e,n,i,r){this.attr({in:t,in2:e,scale:n,xChannelSelector:i,yChannelSelector:r})},gaussianBlur:function(t,e){this.attr("stdDeviation",null!=t||null!=e?o(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(t,e){this.attr({operator:t,radius:e})},tile:function(){},turbulence:function(t,e,n,i,r){this.attr({numOctaves:e,seed:n,stitchTiles:i,baseFrequency:t,type:r})}},n={merge:function(){var t;if(arguments[0]instanceof SVG.Set){var e=this;arguments[0].each((function(t){this instanceof SVG.MergeNode?e.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&e.put(new SVG.MergeNode(this))}))}else{t=Array.isArray(arguments[0])?arguments[0]:arguments;for(var n=0;n<t.length;n++)t[n]instanceof SVG.MergeNode?this.put(t[n]):this.put(new SVG.MergeNode(t[n]))}},componentTransfer:function(t){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(t){this[t]=new(SVG["Func"+t.toUpperCase()])("identity"),this.rgb.add(this[t]),this.node.appendChild(this[t].node)}).bind(this)),t)for(var e in t.rgb&&(["r","g","b"].forEach((function(e){this[e].attr(t.rgb)}).bind(this)),delete t.rgb),t)this[e].attr(t[e])},diffuseLighting:function(t,e,n){this.attr({surfaceScale:t,diffuseConstant:e,kernelUnitLength:n})},specularLighting:function(t,e,n,i){this.attr({surfaceScale:t,diffuseConstant:e,specularExponent:n,kernelUnitLength:i})}},i={distantLight:function(t,e){this.attr({azimuth:t,elevation:e})},pointLight:function(t,e,n){this.attr({x:t,y:e,z:n})},spotLight:function(t,e,n,i,r,o){this.attr({x:t,y:e,z:n,pointsAtX:i,pointsAtY:r,pointsAtZ:o})},mergeNode:function(t){this.attr("in",t)}};function r(t){return Array.isArray(t)&&(t=new SVG.Array(t)),t.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function o(t){if(!Array.isArray(t))return t;for(var e=0,n=t.length,i=[];e<n;e++)i.push(t[e]);return i.join(" ")}function s(){var t=function(){};for(var e in"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var n in arguments[e])t(arguments[e][n],n,arguments[e])}["r","g","b","a"].forEach((function(t){i["Func"+t.toUpperCase()]=function(t){switch(this.attr("type",t),t){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}})),s(e,(function(t,e){var n=e.charAt(0).toUpperCase()+e.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})})),s(n,(function(t,e){var n=e.charAt(0).toUpperCase()+e.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})})),s(i,(function(t,e){var n=e.charAt(0).toUpperCase()+e.slice(1);SVG[n]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),t.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})})),SVG.extend(SVG.MergeEffect,{in:function(t){return t instanceof SVG.MergeNode?this.add(t,0):this.add(new SVG.MergeNode(t),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",t)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function t(t,r,o,s,a,l,c){for(var h=t.slice(r,o||c),u=s.slice(a,l||c),d=0,f={pos:[0,0],start:[0,0]},p={pos:[0,0],start:[0,0]};h[d]=e.call(f,h[d]),u[d]=e.call(p,u[d]),h[d][0]!=u[d][0]||"M"==h[d][0]||"A"==h[d][0]&&(h[d][4]!=u[d][4]||h[d][5]!=u[d][5])?(Array.prototype.splice.apply(h,[d,1].concat(i.call(f,h[d]))),Array.prototype.splice.apply(u,[d,1].concat(i.call(p,u[d])))):(h[d]=n.call(f,h[d]),u[d]=n.call(p,u[d])),++d!=h.length||d!=u.length;)d==h.length&&h.push(["C",f.pos[0],f.pos[1],f.pos[0],f.pos[1],f.pos[0],f.pos[1]]),d==u.length&&u.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]);return{start:h,dest:u}}function e(t){switch(t[0]){case"z":case"Z":t[0]="L",t[1]=this.start[0],t[2]=this.start[1];break;case"H":t[0]="L",t[2]=this.pos[1];break;case"V":t[0]="L",t[2]=t[1],t[1]=this.pos[0];break;case"T":t[0]="Q",t[3]=t[1],t[4]=t[2],t[1]=this.reflection[1],t[2]=this.reflection[0];break;case"S":t[0]="C",t[6]=t[4],t[5]=t[3],t[4]=t[2],t[3]=t[1],t[2]=this.reflection[1],t[1]=this.reflection[0]}return t}function n(t){var e=t.length;return this.pos=[t[e-2],t[e-1]],-1!="SCQT".indexOf(t[0])&&(this.reflection=[2*this.pos[0]-t[e-4],2*this.pos[1]-t[e-3]]),t}function i(t){var e=[t];switch(t[0]){case"M":return this.pos=this.start=[t[1],t[2]],e;case"L":t[5]=t[3]=t[1],t[6]=t[4]=t[2],t[1]=this.pos[0],t[2]=this.pos[1];break;case"Q":t[6]=t[4],t[5]=t[3],t[4]=1*t[4]/3+2*t[2]/3,t[3]=1*t[3]/3+2*t[1]/3,t[2]=1*this.pos[1]/3+2*t[2]/3,t[1]=1*this.pos[0]/3+2*t[1]/3;break;case"A":t=(e=function(t,e){var n,i,r,o,s,a,l,c,h,u,d,f,p,g,m,v,y,b,x,w,S,k,C=Math.abs(e[1]),A=Math.abs(e[2]),_=e[3]%360,E=e[4],T=e[5],P=e[6],I=e[7],M=new SVG.Point(t),L=new SVG.Point(P,I),O=[];if(0===C||0===A||M.x===L.x&&M.y===L.y)return[["C",M.x,M.y,L.x,L.y,L.x,L.y]];for((i=(n=new SVG.Point((M.x-L.x)/2,(M.y-L.y)/2).transform((new SVG.Matrix).rotate(_))).x*n.x/(C*C)+n.y*n.y/(A*A))>1&&(C*=i=Math.sqrt(i),A*=i),r=(new SVG.Matrix).rotate(_).scale(1/C,1/A).rotate(-_),M=M.transform(r),a=(o=[(L=L.transform(r)).x-M.x,L.y-M.y])[0]*o[0]+o[1]*o[1],s=Math.sqrt(a),o[0]/=s,o[1]/=s,l=a<4?Math.sqrt(1-a/4):0,E===T&&(l*=-1),c=new SVG.Point((L.x+M.x)/2+l*-o[1],(L.y+M.y)/2+l*o[0]),h=new SVG.Point(M.x-c.x,M.y-c.y),u=new SVG.Point(L.x-c.x,L.y-c.y),d=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(d*=-1),f=Math.acos(u.x/Math.sqrt(u.x*u.x+u.y*u.y)),u.y<0&&(f*=-1),T&&d>f&&(f+=2*Math.PI),!T&&d<f&&(f-=2*Math.PI),v=[],y=d,p=(f-d)/(g=Math.ceil(2*Math.abs(d-f)/Math.PI)),m=4*Math.tan(p/4)/3,S=0;S<=g;S++)x=Math.cos(y),b=Math.sin(y),w=new SVG.Point(c.x+x,c.y+b),v[S]=[new SVG.Point(w.x+m*b,w.y-m*x),w,new SVG.Point(w.x-m*b,w.y+m*x)],y+=p;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),r=(new SVG.Matrix).rotate(_).scale(C,A).rotate(-_),S=0,k=v.length;S<k;S++)v[S][0]=v[S][0].transform(r),v[S][1]=v[S][1].transform(r),v[S][2]=v[S][2].transform(r);for(S=1,k=v.length;S<k;S++)O.push(["C",(w=v[S-1][2]).x,w.y,(w=v[S][0]).x,w.y,P=(w=v[S][1]).x,I=w.y]);return O}(this.pos,t))[0]}return t[0]="C",this.pos=[t[5],t[6]],this.reflection=[2*t[5]-t[3],2*t[6]-t[4]],e}function r(t,e){if(!1===e)return!1;for(var n=e,i=t.length;n<i;++n)if("M"==t[n][0])return n;return!1}SVG.extend(SVG.PathArray,{morph:function(e){for(var n=this.value,i=this.parse(e),o=0,s=0,a=!1,l=!1;!1!==o||!1!==s;){var c;a=r(n,!1!==o&&o+1),l=r(i,!1!==s&&s+1),!1===o&&(o=0==(c=new SVG.PathArray(h.start).bbox()).height||0==c.width?n.push(n[0])-1:n.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===s&&(s=0==(c=new SVG.PathArray(h.dest).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var h=t(n,o,a,i,s,l);n=n.slice(0,o).concat(h.start,!1===a?[]:n.slice(a)),i=i.slice(0,s).concat(h.dest,!1===l?[]:i.slice(l)),o=!1!==a&&o+h.start.length,s=!1!==l&&s+h.dest.length}return this.value=n,this.destination=new SVG.PathArray,this.destination.value=i,this}})}(),(function(){function t(t){t.remember("_draggable",this),this.el=t}t.prototype.init=function(t,e){var n=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",(function(t){n.start(t)})),this.el.on("touchstart.drag",(function(t){n.start(t)}))},t.prototype.transformPoint=function(t,e){var n=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=n.clientX-(e||0),this.p.y=n.clientY,this.p.matrixTransform(this.m)},t.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},t.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var n,i=this.getBBox();if(this.el instanceof SVG.Text)switch(n=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":n/=2;break;case"start":n=0}this.startPoints={point:this.transformPoint(t,n),box:i,transform:this.el.transform()},SVG.on(window,"mousemove.drag",(function(t){e.drag(t)})),SVG.on(window,"touchmove.drag",(function(t){e.drag(t)})),SVG.on(window,"mouseup.drag",(function(t){e.end(t)})),SVG.on(window,"touchend.drag",(function(t){e.end(t)})),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},t.prototype.drag=function(t){var e=this.getBBox(),n=this.transformPoint(t),i=this.startPoints.box.x+n.x-this.startPoints.point.x,r=this.startPoints.box.y+n.y-this.startPoints.point.y,o=this.constraint,s=n.x-this.startPoints.point.x,a=n.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:n,m:this.m,handler:this}),this.el.event().defaultPrevented)return n;if("function"==typeof o){var l=o.call(this.el,i,r,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(i):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(r):!1!==l.y&&this.el.y(l.y)}else"object"==typeof o&&(null!=o.minX&&i<o.minX?s=(i=o.minX)-this.startPoints.box.x:null!=o.maxX&&i>o.maxX-e.width&&(s=(i=o.maxX-e.width)-this.startPoints.box.x),null!=o.minY&&r<o.minY?a=(r=o.minY)-this.startPoints.box.y:null!=o.maxY&&r>o.maxY-e.height&&(a=(r=o.maxY-e.height)-this.startPoints.box.y),null!=o.snapToGrid&&(i-=i%o.snapToGrid,r-=r%o.snapToGrid,s-=s%o.snapToGrid,a-=a%o.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:s,y:a},!0):this.el.move(i,r));return n},t.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,n){"function"!=typeof e&&"object"!=typeof e||(n=e,e=!0);var i=this.remember("_draggable")||new t(this);return(e=void 0===e||e)?i.init(n||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function t(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,n){var i="string"!=typeof t?t:e[t];return n?i/2:i},this.pointCoords=function(t,e){var n=this.pointsList[t];return{x:this.pointCoord(n[0],e,"t"===t||"b"===t),y:this.pointCoord(n[1],e,"r"===t||"l"===t)}}}t.prototype.init=function(t,e){var n=this.el.bbox();this.options={};var i=this.el.selectize.defaults.points;for(var r in this.el.selectize.defaults)this.options[r]=this.el.selectize.defaults[r],void 0!==e[r]&&(this.options[r]=e[r]);var o=["points","pointsExclude"];for(var r in o){var s=this.options[o[r]];"string"==typeof s?s=s.length>0?s.split(/\s*,\s*/i):[]:"boolean"==typeof s&&"points"===o[r]&&(s=s?i:[]),this.options[o[r]]=s}this.options.points=[i,this.options.points].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)>-1}))})),this.options.points=[this.options.points,this.options.pointsExclude].reduce((function(t,e){return t.filter((function(t){return e.indexOf(t)<0}))})),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},t.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set?this:(this.pointSelection.set=this.parent.set(),this.drawPoints(),this)},t.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map((function(e){return[e[0]-t.x,e[1]-t.y]}))},t.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),n=0,i=e.length;n<i;++n){var r=function(e){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation(),t.el.fire("point",{x:n.pageX||n.touches[0].pageX,y:n.pageY||n.touches[0].pageY,i:e,event:n})}}(n),o=this.drawPoint(e[n][0],e[n][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",r).on("mousedown",r);this.pointSelection.set.add(o)}},t.prototype.drawPoint=function(t,e){var n=this.options.pointType;switch(n){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof n)return n.call(this,t,e);throw new Error("Unknown "+n+" point type!")}},t.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},t.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},t.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each((function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])}))},t.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map((function(n,i){var r=t.pointCoords(n,e);t.rectSelection.set.get(i+1).center(r.x,r.y)})),this.options.rotationPoint){var n=this.rectSelection.set.length();this.rectSelection.set.get(n-1).center(e.width/2,20)}},t.prototype.selectRect=function(t){var e=this,n=this.el.bbox();function i(t){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation(),e.el.fire(t,{x:n.pageX||n.touches[0].pageX,y:n.pageY||n.touches[0].pageY,event:n})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(n.width,n.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map((function(t,r){var o=e.pointCoords(t,n),s=e.drawPoint(o.x,o.y).attr("class",e.options.classPoints+"_"+t).on("mousedown",i(t)).on("touchstart",i(t));e.rectSelection.set.add(s)})),this.rectSelection.set.each((function(){this.addClass(e.options.classPoints)}))),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var r=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),e.el.fire("rot",{x:t.pageX||t.touches[0].pageX,y:t.pageY||t.touches[0].pageY,event:t})},o=this.drawPoint(n.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",r).on("mousedown",r);this.rectSelection.set.add(o)}},t.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},t.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver((function(){t.handler()})),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",(function(){t.handler()}))},t.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each((function(){this.remove()})),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each((function(){this.remove()})),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,n){return"object"==typeof e&&(n=e,e=!0),(this.remember("_selectHandler")||new t(this)).init(void 0===e||e,n||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function t(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}t.prototype.transformPoint=function(t,e,n){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(n||this.m)},t.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},t.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var n in this.options={},this.el.resize.defaults)this.options[n]=this.el.resize.defaults[n],void 0!==t[n]&&(this.options[n]=t[n]);this.el.on("lt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rt.resize",(function(t){e.resize(t||window.event)})),this.el.on("rb.resize",(function(t){e.resize(t||window.event)})),this.el.on("lb.resize",(function(t){e.resize(t||window.event)})),this.el.on("t.resize",(function(t){e.resize(t||window.event)})),this.el.on("r.resize",(function(t){e.resize(t||window.event)})),this.el.on("b.resize",(function(t){e.resize(t||window.event)})),this.el.on("l.resize",(function(t){e.resize(t||window.event)})),this.el.on("rot.resize",(function(t){e.resize(t||window.event)})),this.el.on("point.resize",(function(t){e.resize(t||window.event)})),this.update()}},t.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},t.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var n=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(n.x,n.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var i=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[i[t.detail.i][0],i[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(t,e){var n=this.snapToGrid(t,e);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y+n[1]).size(this.parameters.box.width-n[0],this.parameters.box.height-n[1])}};break;case"rt":this.calc=function(t,e){var n=this.snapToGrid(t,e,2);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).size(this.parameters.box.width+n[0],this.parameters.box.height-n[1])}};break;case"rb":this.calc=function(t,e){var n=this.snapToGrid(t,e,0);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+n[0],this.parameters.box.height+n[1])}};break;case"lb":this.calc=function(t,e){var n=this.snapToGrid(t,e,1);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).size(this.parameters.box.width-n[0],this.parameters.box.height+n[1])}};break;case"t":this.calc=function(t,e){var n=this.snapToGrid(t,e,2);if(this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).height(this.parameters.box.height-n[1])}};break;case"r":this.calc=function(t,e){var n=this.snapToGrid(t,e,0);if(this.parameters.box.width+n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+n[0])}};break;case"b":this.calc=function(t,e){var n=this.snapToGrid(t,e,0);if(this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+n[1])}};break;case"l":this.calc=function(t,e){var n=this.snapToGrid(t,e,1);if(this.parameters.box.width-n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).width(this.parameters.box.width-n[0])}};break;case"rot":this.calc=function(t,e){var n=t+this.parameters.p.x,i=e+this.parameters.p.y,r=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),o=Math.atan2(i-this.parameters.box.y-this.parameters.box.height/2,n-this.parameters.box.x-this.parameters.box.width/2),s=this.parameters.rotation+180*(o-r)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(s-s%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){var n=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),i=this.el.array().valueOf();i[this.parameters.i][0]=this.parameters.pointCoords[0]+n[0],i[this.parameters.i][1]=this.parameters.pointCoords[1]+n[1],this.el.plot(i)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"touchend.resize",(function(){e.done()})),SVG.on(window,"mousemove.resize",(function(t){e.update(t||window.event)})),SVG.on(window,"mouseup.resize",(function(){e.done()}))},t.prototype.update=function(t){if(t){var e=this._extractPosition(t),n=this.transformPoint(e.x,e.y),i=n.x-this.parameters.p.x,r=n.y-this.parameters.p.y;this.lastUpdateCall=[i,r],this.calc(i,r),this.el.fire("resizing",{dx:i,dy:r,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},t.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},t.prototype.snapToGrid=function(t,e,n,i){var r;return r=void 0!==i?[(n+t)%this.options.snapToGrid,(i+e)%this.options.snapToGrid]:[(this.parameters.box.x+t+(1&(n=null==n?3:n)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&n?0:this.parameters.box.height))%this.options.snapToGrid],t<0&&(r[0]-=this.options.snapToGrid),e<0&&(r[1]-=this.options.snapToGrid),t-=Math.abs(r[0])<this.options.snapToGrid/2?r[0]:r[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(r[1])<this.options.snapToGrid/2?r[1]:r[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,n,i)},t.prototype.constraintToBox=function(t,e,n,i){var r,o,s=this.options.constraint||{};return void 0!==i?(r=n,o=i):(r=this.parameters.box.x+(1&n?0:this.parameters.box.width),o=this.parameters.box.y+(2&n?0:this.parameters.box.height)),void 0!==s.minX&&r+t<s.minX&&(t=s.minX-r),void 0!==s.maxX&&r+t>s.maxX&&(t=s.maxX-r),void 0!==s.minY&&o+e<s.minY&&(e=s.minY-o),void 0!==s.maxY&&o+e>s.maxY&&(e=s.maxY-o),[t,e]},t.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var n=t.slice(),i=this.parameters.box.width/this.parameters.box.height,r=this.parameters.box.width+t[0],o=this.parameters.box.height-t[1],s=r/o;return s<i?(n[1]=r/i-this.parameters.box.height,e&&(n[1]=-n[1])):s>i&&(n[0]=this.parameters.box.width-o*i,e&&(n[0]=-n[0])),n},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new t(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('.mscharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.mscharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n.mscharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0,0,0,.5);\n  box-shadow: 0 0 1px rgba(255,255,255,.5);\n  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5);\n}\n.mscharts-canvas.dark {\n  background: #343F57;\n}\n\n.mscharts-inner {\n  position: relative;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.mscharts-series-collapsed {\n  opacity: 0;\n}\n\n.mscharts-gridline, .mscharts-text {\n  pointer-events: none;\n}\n\n.mscharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n.mscharts-tooltip.light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n.mscharts-tooltip.dark {\n  color: #fff;\n  background: rgba(30,30,30, 0.8);\n}\n.mscharts-tooltip * {\n  font-family: inherit;\n}\n\n.mscharts-tooltip .mscharts-marker,\n.mscharts-area-series .mscharts-area,\n.mscharts-line {\n  pointer-events: none;\n}\n\n.mscharts-tooltip.active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.mscharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n.mscharts-tooltip.light .mscharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n.mscharts-tooltip.dark .mscharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.mscharts-tooltip-text-value,\n.mscharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.mscharts-tooltip-text-z-label:empty,\n.mscharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.mscharts-tooltip-text-value,\n.mscharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.mscharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.mscharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.mscharts-tooltip-series-group.active .mscharts-tooltip-marker {\n  opacity: 1;\n}\n.mscharts-tooltip-series-group.active, .mscharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n.mscharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n.mscharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n.mscharts-tooltip-candlestick {\n  padding: 4px 8px;\n}\n.mscharts-tooltip-candlestick > div {\n  margin: 4px 0;\n}\n.mscharts-tooltip-candlestick span.value {\n  font-weight: bold;\n}\n\n.mscharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.mscharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.mscharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.mscharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.mscharts-xaxistooltip.dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.mscharts-xaxistooltip:after, .mscharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.mscharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n.mscharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.mscharts-xaxistooltip-bottom:after, .mscharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.mscharts-xaxistooltip-top:after, .mscharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.mscharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n.mscharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.mscharts-xaxistooltip-bottom.dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n.mscharts-xaxistooltip-bottom.dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.mscharts-xaxistooltip-top:after {\n  border-top-color:#ECEFF1\n}\n.mscharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n.mscharts-xaxistooltip-top.dark:after {\n  border-top-color:rgba(0, 0, 0, 0.5);\n}\n.mscharts-xaxistooltip-top.dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n\n.mscharts-xaxistooltip.active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.mscharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.mscharts-yaxistooltip.dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.mscharts-yaxistooltip:after, .mscharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n.mscharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n.mscharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.mscharts-yaxistooltip-left:after, .mscharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.mscharts-yaxistooltip-right:after, .mscharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.mscharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n.mscharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n.mscharts-yaxistooltip-left.dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n.mscharts-yaxistooltip-left.dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.mscharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n.mscharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n.mscharts-yaxistooltip-right.dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n.mscharts-yaxistooltip-right.dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.mscharts-yaxistooltip.active {\n  opacity: 1;\n}\n.mscharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.mscharts-xcrosshairs, .mscharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.mscharts-xcrosshairs.active, .mscharts-ycrosshairs.active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.mscharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.mscharts-zoom-rect {\n  pointer-events: none;\n}\n.mscharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_points, .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n.svg_select_points_l, .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n  fill: #888;\n}\n.mscharts-canvas.zoomable .hovering-zoom {\n  cursor: crosshair\n}\n.mscharts-canvas.zoomable .hovering-pan {\n  cursor: move\n}\n\n.mscharts-xaxis,\n.mscharts-yaxis {\n  pointer-events: none;\n}\n\n.mscharts-zoom-icon,\n.mscharts-zoom-in-icon,\n.mscharts-zoom-out-icon,\n.mscharts-reset-zoom-icon,\n.mscharts-pan-icon,\n.mscharts-selection-icon,\n.mscharts-menu-icon,\n.mscharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n\n.mscharts-zoom-icon svg,\n.mscharts-zoom-in-icon svg,\n.mscharts-zoom-out-icon svg,\n.mscharts-reset-zoom-icon svg,\n.mscharts-menu-icon svg {\n  fill: #6E8192;\n}\n.mscharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.dark .mscharts-zoom-icon svg,\n.dark .mscharts-zoom-in-icon svg,\n.dark .mscharts-zoom-out-icon svg,\n.dark .mscharts-reset-zoom-icon svg,\n.dark .mscharts-pan-icon svg,\n.dark .mscharts-selection-icon svg,\n.dark .mscharts-menu-icon svg,\n.dark .mscharts-toolbar-custom-icon svg{\n  fill: #f3f4f5;\n}\n\n.mscharts-canvas .mscharts-zoom-icon.selected svg,\n.mscharts-canvas .mscharts-selection-icon.selected svg,\n.mscharts-canvas .mscharts-reset-zoom-icon.selected svg {\n  fill: #008FFB;\n}\n.light .mscharts-selection-icon:not(.selected):hover svg,\n.light .mscharts-zoom-icon:not(.selected):hover svg,\n.light .mscharts-zoom-in-icon:hover svg,\n.light .mscharts-zoom-out-icon:hover svg,\n.light .mscharts-reset-zoom-icon:hover svg,\n.light .mscharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.mscharts-selection-icon, .mscharts-menu-icon {\n  position: relative;\n}\n.mscharts-reset-zoom-icon {\n  margin-left: 5px;\n}\n.mscharts-zoom-icon, .mscharts-reset-zoom-icon, .mscharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.mscharts-zoom-in-icon, .mscharts-zoom-out-icon {\n  transform: scale(0.7)\n}\n\n.mscharts-zoom-out-icon {\n  margin-right: 3px;\n}\n\n.mscharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n.mscharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n.mscharts-pan-icon.selected svg {\n  stroke: #008FFB;\n}\n.mscharts-pan-icon:not(.selected):hover svg {\n  stroke: #333;\n}\n\n.mscharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  top: 0px;\n  right: 3px;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.mscharts-toolbar svg {\n  pointer-events: none;\n}\n\n.mscharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.mscharts-menu.open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.mscharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.light .mscharts-menu-item:hover {\n  background: #eee;\n}\n.dark .mscharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .mscharts-toolbar {\n    /*opacity: 0;*/\n  }\n\n  .mscharts-canvas:hover .mscharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.mscharts-datalabel.hidden {\n  opacity: 0;\n}\n\n.mscharts-pie-label,\n.mscharts-datalabel, .mscharts-datalabel-label, .mscharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.mscharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.mscharts-canvas .hidden {\n  opacity: 0;\n}\n\n.mscharts-hide .mscharts-series-points {\n  opacity: 0;\n}\n\n.mscharts-area-series .mscharts-series-markers .mscharts-marker.no-pointer-events,\n.mscharts-line-series .mscharts-series-markers .mscharts-marker.no-pointer-events, .mscharts-radar-series path, .mscharts-radar-series polygon {\n  pointer-events: none;\n}\n\n/* markers */\n\n.mscharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n/* Resize generated styles */\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers, .resize-triggers > div, .contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers > div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}\n'),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){if("Element"in t){var e=t.Element.prototype,n=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new o("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","The token must not contain space characters.");return r.call(t,e)},a=function(t){for(var e=i.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},l=a.prototype=[],c=function(){return new a(this)};if(o.prototype=Error.prototype,l.item=function(t){return this[t]||null},l.contains=function(t){return~s(this,t+"")},l.add=function(){var t,e=arguments,n=0,i=e.length,r=!1;do{~s(this,t=e[n]+"")||(this.push(t),r=!0)}while(++n<i);r&&this._updateClassName()},l.remove=function(){var t,e,n=arguments,i=0,r=n.length,o=!1;do{for(e=s(this,t=n[i]+"");~e;)this.splice(e,1),o=!0,e=s(this,t)}while(++i<r);o&&this._updateClassName()},l.toggle=function(t,e){var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},l.replace=function(t,e){var n=s(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},l.toString=function(){return this.join(" ")},n.defineProperty){var h={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(e,"classList",h)}catch(t){void 0!==t.number&&-2146823252!==t.number||(h.enumerable=!1,n.defineProperty(e,"classList",h))}}else n.prototype.__defineGetter__&&e.__defineGetter__("classList",c)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;n<i;n++)e.call(this,t=arguments[n])}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=n.indexOf(t+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}()),function(){function t(t){var e=t.__resizeTriggers__,n=e.firstElementChild,i=e.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function e(e){var n=this;t(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=r((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(n)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach((function(t){t.call(e)})))}))}var n,i,r=(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},function(t){return n(t)}),o=(i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(t){return i(t)}),s=!1,a="animationstart",l="Webkit Moz O ms".split(" "),c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(s=!0),!1===s)for(var u=0;u<l.length;u++)if(void 0!==h.style[l[u]+"AnimationName"]){a=c[u];break}window.addResizeListener=function(n,i){n.__resizeTriggers__||("static"==getComputedStyle(n).position&&(n.style.position="relative"),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=document.createElement("div")).className="resize-triggers",n.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',n.appendChild(n.__resizeTriggers__),t(n),n.addEventListener("scroll",e,!0),a&&n.__resizeTriggers__.addEventListener(a,(function(e){"resizeanim"==e.animationName&&t(n)}))),n.__resizeListeners__.push(i)},window.removeResizeListener=function(t,n){t&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(n),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",e),t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)))}}(),window.MS={};var St=function(){function t(e,n){r(this,t),this.opts=n,this.ctx=this,this.w=new _(n).init(),this.el=e,this.w.globals.cuid=(Math.random()+1).toString(36).substring(4),this.w.globals.chartID=this.w.config.chart.id?this.w.config.chart.id:this.w.globals.cuid,this.eventList=["mousedown","mousemove","touchstart","touchmove","mouseup","touchend"],this.initModules(),this.create=p.bind(this.create,this),this.documentEvent=p.bind(this.documentEvent,this),this.windowResizeHandler=this.windowResize.bind(this)}return s(t,[{key:"render",value:function(){var t=this;return new et((function(e,n){if(null!==t.el){void 0===MS._chartInstances&&(MS._chartInstances=[]),t.w.config.chart.id&&MS._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var i=t.w.config.chart.events.beforeMount;"function"==typeof i&&i(t,t.w),t.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),window.addResizeListener(t.el.parentNode,t.parentResizeCallback.bind(t));var r=t.create(t.w.config.series,{});if(!r)return e(t);t.mount(r).then((function(){e(r),"function"==typeof t.w.config.chart.events.mounted&&t.w.config.chart.events.mounted(t,t.w),t.fireEvent("mounted",[t,t.w])})).catch((function(t){n(t)}))}else n(new Error("Element not found"))}))}},{key:"initModules",value:function(){this.animations=new m(this),this.core=new $(this.el,this),this.grid=new ct(this),this.coreUtils=new k(this),this.config=new C({}),this.crosshairs=new R(this),this.options=new b,this.responsive=new ht(this),this.series=new B(this),this.theme=new ut(this),this.formatters=new X(this),this.titleSubtitle=new wt(this),this.legend=new W(this),this.toolbar=new bt(this),this.dimensions=new j(this),this.zoomPanSelection=new xt(this),this.w.globals.tooltip=new yt(this)}},{key:"addEventListener",value:function(t,e){var n=this.w;n.globals.events.hasOwnProperty(t)?n.globals.events[t].push(e):n.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var n=this.w;if(n.globals.events.hasOwnProperty(t)){var i=n.globals.events[t].indexOf(e);-1!==i&&n.globals.events[t].splice(i,1)}}},{key:"fireEvent",value:function(t,e){var n=this.w;if(n.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var i=n.globals.events[t],r=i.length,o=0;o<r;o++)i[o].apply(null,e)}}},{key:"create",value:function(t,e){var n=this.w;this.initModules();var i=this.w.globals;if(i.noData=!1,i.animationEnded=!1,this.responsive.checkResponsiveConfig(e),null===this.el)return i.animationEnded=!0,null;if(this.core.setupElements(),0===i.svgWidth)return i.animationEnded=!0,null;var r=k.checkComboSeries(t);i.comboCharts=r.comboCharts,i.comboChartsHasBars=r.comboChartsHasBars,(0===t.length||1===t.length&&t[0].data&&0===t[0].data.length)&&this.series.handleNoData(),this.setupEventHandlers(),this.core.parseData(t),this.theme.init(),new T(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),i.noData&&i.collapsedSeries.length!==i.series.length||this.legend.init(),this.series.hasAllSeriesEqualX(),i.axisCharts&&(this.core.coreCalculations(),"category"!==n.config.xaxis.type&&this.formatters.setLabelFormatters()),this.formatters.heatmapLabelFormatters(),this.dimensions.plotCoords();var o=this.core.xySettings();this.grid.createGridMask();var s=this.core.plotChartType(t,o);return this.core.shiftGraphPosition(),{elGraph:s,xyRatios:o,elInner:n.globals.dom.elGraphical,dimensions:{plot:{left:n.globals.translateX,top:n.globals.translateY,width:n.globals.gridWidth,height:n.globals.gridHeight}}}}},{key:"mount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this,n=e.w;return new et((function(i,r){if(null===e.el)return r(new Error("Not enough data to display or target element not found"));if((null===t||n.globals.allSeriesCollapsed)&&e.series.handleNoData(),e.annotations=new x(e),e.core.drawAxis(n.config.chart.type,t.xyRatios),e.grid=new ct(e),"back"===n.config.grid.position&&e.grid.drawGrid(),"back"===n.config.annotations.position&&e.annotations.drawAnnotations(),t.elGraph instanceof Array)for(var o=0;o<t.elGraph.length;o++)n.globals.dom.elGraphical.add(t.elGraph[o]);else n.globals.dom.elGraphical.add(t.elGraph);if("front"===n.config.grid.position&&e.grid.drawGrid(),"front"===n.config.xaxis.crosshairs.position&&e.crosshairs.drawXCrosshairs(),"front"===n.config.yaxis[0].crosshairs.position&&e.crosshairs.drawYCrosshairs(),"front"===n.config.annotations.position&&e.annotations.drawAnnotations(),!n.globals.noData){if(n.config.tooltip.enabled&&!n.globals.noData&&e.w.globals.tooltip.drawTooltip(t.xyRatios),n.globals.axisCharts&&n.globals.isXNumeric)(n.config.chart.zoom.enabled||n.config.chart.selection&&n.config.chart.selection.enabled||n.config.chart.pan&&n.config.chart.pan.enabled)&&e.zoomPanSelection.init({xyRatios:t.xyRatios});else{var s=n.config.chart.toolbar.tools;s.zoom=!1,s.zoomin=!1,s.zoomout=!1,s.selection=!1,s.pan=!1,s.reset=!1}n.config.chart.toolbar.show&&!n.globals.allSeriesCollapsed&&e.toolbar.createToolbar()}n.globals.memory.methodsToExec.length>0&&n.globals.memory.methodsToExec.forEach((function(t){t.method(t.params,!1,t.context)})),n.globals.axisCharts||n.globals.noData||e.core.resizeNonAxisCharts(),i(e)}))}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1,t.globals.collapsedSeries=[],t.globals.collapsedSeriesIndices=[]}},{key:"updateOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w;return t.series&&(this.resetSeries(!1),t.series.length&&t.series[0].data&&(t.series=t.series.map((function(t,e){return c({},o.config.series[e],{name:t.name?t.name:o.config.series[e]&&o.config.series[e].name,type:t.type?t.type:o.config.series[e]&&o.config.series[e].type,data:t.data?t.data:o.config.series[e]&&o.config.series[e].data})}))),this.revertDefaultAxisMinMax()),t.xaxis&&((t.xaxis.min||t.xaxis.max)&&this.forceXAxisUpdate(t),t.xaxis.categories&&t.xaxis.categories.length&&o.config.xaxis.convertedCatToNumeric&&(t=S.convertCatToNumeric(t))),o.globals.collapsedSeriesIndices.length>0&&this.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this._updateOptions(t,e,n,i,r)}},{key:"_updateOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=[this];r&&(s=this.getSyncedCharts()),this.w.globals.isExecCalled&&(s=[this],this.w.globals.isExecCalled=!1),s.forEach((function(r){var s=r.w;return s.globals.shouldAnimate=n,e||(s.globals.resized=!0,s.globals.dataChanged=!0,n&&r.series.getPreviousPaths()),t&&"object"===i(t)&&(r.config=new C(t),t=k.extendArrayProps(r.config,t),s.config=p.extend(s.config,t),o&&(s.globals.lastXAxis=[],s.globals.lastYAxis=[],s.globals.initialConfig=p.extend({},s.config),s.globals.initialSeries=JSON.parse(JSON.stringify(s.config.series)))),r.update(t)}))}},{key:"updateSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.resetSeries(!1),this.revertDefaultAxisMinMax(),this._updateSeries(t,e,n)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w.config.series.slice();return i.push(t),this.resetSeries(!1),this.revertDefaultAxisMinMax(),this._updateSeries(i,e,n)}},{key:"_updateSeries",value:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.w;return this.w.globals.shouldAnimate=e,r.globals.dataChanged=!0,r.globals.allSeriesCollapsed&&(r.globals.allSeriesCollapsed=!1),e&&this.series.getPreviousPaths(),r.globals.axisCharts?(0===(n=t.map((function(t,e){return c({},r.config.series[e],{name:t.name?t.name:r.config.series[e]&&r.config.series[e].name,type:t.type?t.type:r.config.series[e]&&r.config.series[e].type,data:t.data?t.data:r.config.series[e]&&r.config.series[e].data})}))).length&&(n=[{data:[]}]),r.config.series=n):r.config.series=t.slice(),i&&(r.globals.initialConfig.series=JSON.parse(JSON.stringify(r.config.series)),r.globals.initialSeries=JSON.parse(JSON.stringify(r.config.series))),this.update()}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach((function(t){e.push(t)}))),e}},{key:"getGroupedCharts",value:function(){var t=this;return MS._chartInstances.filter((function(t){if(t.group)return!0})).map((function(e){return t.w.config.chart.group===e.group?e.chart:t}))}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var i=n.w.config.series.slice(),r=0;r<i.length;r++)if(void 0!==t[r])for(var o=0;o<t[r].data.length;o++)i[r].data.push(t[r].data[o]);return n.w.config.series=i,e&&(n.w.globals.initialSeries=JSON.parse(JSON.stringify(n.w.config.series))),this.update()}},{key:"update",value:function(t){var e=this;return new et((function(n,i){e.clear();var r=e.create(e.w.config.series,t);if(!r)return n(e);e.mount(r).then((function(){"function"==typeof e.w.config.chart.events.updated&&e.w.config.chart.events.updated(e,e.w),e.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,n(e)})).catch((function(t){i(t)}))}))}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;void 0!==t.xaxis.min&&(e.config.xaxis.min=t.xaxis.min,e.globals.lastXAxis.min=t.xaxis.min),void 0!==t.xaxis.max&&(e.config.xaxis.max=t.xaxis.max,e.globals.lastXAxis.max=t.xaxis.max)}},{key:"revertDefaultAxisMinMax",value:function(){var t=this.w;t.config.xaxis.min=t.globals.lastXAxis.min,t.config.xaxis.max=t.globals.lastXAxis.max,t.config.yaxis.map((function(e,n){t.globals.zoomed&&void 0!==t.globals.lastYAxis[n]&&(e.min=t.globals.lastYAxis[n].min,e.max=t.globals.lastYAxis[n].max)}))}},{key:"clear",value:function(){this.zoomPanSelection&&this.zoomPanSelection.destroy(),this.toolbar&&this.toolbar.destroy(),this.animations=null,this.annotations=null,this.core=null,this.grid=null,this.series=null,this.responsive=null,this.theme=null,this.formatters=null,this.titleSubtitle=null,this.legend=null,this.dimensions=null,this.options=null,this.crosshairs=null,this.zoomPanSelection=null,this.toolbar=null,this.w.globals.tooltip=null,this.clearDomElements()}},{key:"killSVG",value:function(t){return new et((function(e,n){t.each((function(t,e){this.removeClass("*"),this.off(),this.stop()}),!0),t.ungroup(),t.clear(),e("done")}))}},{key:"clearDomElements",value:function(){var t=this;this.eventList.forEach((function(e){document.removeEventListener(e,t.documentEvent)}));var e=this.w.globals.dom;if(null!==this.el)for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.killSVG(e.Paper),e.Paper.remove(),e.elWrap=null,e.elGraphical=null,e.elLegendWrap=null,e.baseEl=null,e.elGridRect=null,e.elGridRectMask=null,e.elGridRectMarkerMask=null,e.elDefs=null}},{key:"destroy",value:function(){this.clear();var t=this.w.config.chart.id;t&&MS._chartInstances.forEach((function(e,n){e.id===t&&MS._chartInstances.splice(n,1)})),window.removeEventListener("resize",this.windowResizeHandler),window.removeResizeListener(this.el.parentNode,this.parentResizeCallback.bind(this))}},{key:"toggleSeries",value:function(t){var e=this.series.getSeriesByName(t),n=parseInt(e.getAttribute("data:realIndex")),i=e.classList.contains("mscharts-series-collapsed");this.legend.toggleDataSeries(n,i)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.series.resetSeries(t)}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,n=this,i=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.eventListHandlers=[],this.eventList.forEach((function(t){i.addEventListener(t,(function(t){var i=Object.assign({},e,{seriesIndex:e.globals.capturedSeriesIndex,dataPointIndex:e.globals.capturedDataPointIndex});"mousemove"===t.type||"touchmove"===t.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(t,n,i):("mouseup"===t.type&&1===t.which||"touchend"===t.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(t,n,i),n.fireEvent("click",[t,n,i]))}),{capture:!1,passive:!0})})),this.eventList.forEach((function(e){document.addEventListener(e,t.documentEvent)})),this.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w;e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}},{key:"addXaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addXaxisAnnotationExternal(t,e,i)}},{key:"addYaxisAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addYaxisAnnotationExternal(t,e,i)}},{key:"addPointAnnotation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addPointAnnotationExternal(t,e,i)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"addText",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addText(t,e,i)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".mscharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Z(this.ctx),n=e.getMinYMaxY(t);return n.highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Z(this.ctx),n=e.getMinYMaxY(t);return n.lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"setLocale",value:function(t){this.setCurrentLocaleValues(t)}},{key:"toggleDataPointSelection",value:function(t,e){var n=this.w,i=null;return n.globals.axisCharts?i=n.globals.dom.Paper.select(".mscharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,"'], .mscharts-series[data\\:realIndex='").concat(t,"'] circle[j='").concat(e,"'], .mscharts-series[data\\:realIndex='").concat(t,"'] rect[j='").concat(e,"']")).members[0]:(i=n.globals.dom.Paper.select(".mscharts-series[data\\:realIndex='".concat(t,"']")).members[0],("pie"===n.config.chart.type||"donut"===n.config.chart.type)&&new D(this.ctx).pieClicked(t)),i?new v(this.ctx).pathMouseDown(i,null):console.warn("toggleDataPointSelection: Element not found"),i.node?i.node:null}},{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.MS.chart&&window.MS.chart.locales&&window.MS.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.MS.chart.locales));var n=e.filter((function(e){return e.name===t}))[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=p.extend(y,n);this.w.globals.locale=i.options}},{key:"dataURI",value:function(){return new lt(this.ctx).dataURI()}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.windowResize()}},{key:"windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.update()}),150)}}],[{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-mscharts]"),n=0;n<e.length;n++)new t(e[n],JSON.parse(e[n].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var n=this.getChartByID(t);if(n){n.w.globals.isExecCalled=!0;for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];switch(e){case"updateOptions":return n.updateOptions.apply(n,r);case"updateSeries":return n.updateSeries.apply(n,r);case"appendData":return n.appendData.apply(n,r);case"appendSeries":return n.appendSeries.apply(n,r);case"toggleSeries":return n.toggleSeries.apply(n,r);case"resetSeries":return n.resetSeries.apply(n,r);case"toggleDataPointSelection":return n.toggleDataPointSelection.apply(n,r);case"dataURI":return n.dataURI.apply(n,r);case"addXaxisAnnotation":return n.addXaxisAnnotation.apply(n,r);case"addYaxisAnnotation":return n.addYaxisAnnotation.apply(n,r);case"addPointAnnotation":return n.addPointAnnotation.apply(n,r);case"addText":return n.addText.apply(n,r);case"clearAnnotations":return n.clearAnnotations.apply(n,r);case"paper":return n.paper.apply(n,r);case"destroy":return n.destroy()}}}},{key:"merge",value:function(t,e){return p.extend(t,e)}},{key:"getChartByID",value:function(t){return MS._chartInstances.filter((function(e){return e.id===t}))[0].chart}}]),t}();e.a=St}).call(this,n("3UD+")(t))},PDX0:function(t,e){(function(e){t.exports=e}).call(this,{})},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function s(t){setTimeout((function(){throw t}))}var a={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete:function(){}},l=Array.isArray||function(t){return t&&"number"==typeof t.length};function c(t){return null!==t&&"object"==typeof t}function h(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}h.prototype=Object.create(Error.prototype);var u,d=h,f=((u=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,o=this._unsubscribe,s=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,h=r?r.length:0;n;)n.remove(this),n=++a<h&&r[a]||null;if(i(o))try{o.call(this)}catch(f){e=!0,t=f instanceof d?p(f.errors):[f]}if(l(s))for(a=-1,h=s.length;++a<h;){var u=s[a];if(c(u))try{u.unsubscribe()}catch(f){e=!0,t=t||[],f instanceof d?t=t.concat(p(f.errors)):t.push(f)}}if(e)throw new d(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var r=this._subscriptions;r?r.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t}()).EMPTY=function(t){return t.closed=!0,t}(new u),u);function p(t){return t.reduce((function(t,e){return t.concat(e instanceof d?e.errors:e)}),[])}var g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(t){function e(n,i,r){var o=this;switch((o=t.call(this)||this).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a;break;case 1:if(!n){o.destination=a;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new v(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new v(o,n,i,r)}return o}return __extends(e,t),e.prototype[g]=function(){return this},e.create=function(t,n,i){var r=new e(t,n,i);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(f),v=function(t){function e(e,n,r,o){var s,l=this;(l=t.call(this)||this)._parentSubscriber=e;var c=l;return i(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a&&(i((c=Object.create(n)).unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(l))),l._context=c,l._next=s,l._error=r,l._complete=o,l}return __extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(s(i),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(m),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function b(){}function x(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return w(t)}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:b}var S,k=((S=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,r=function(t,e,n){if(t){if(t instanceof m)return t;if(t[g])return t[g]()}return t||e||n?new m(t,e,n):new m(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.closed,n=t.destination,i=t.isStopped;if(e||i)return!1;t=n&&n instanceof m?n:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=C(e))((function(e,i){var r;r=n.subscribe((function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}}),i,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[y]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:w(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=C(t))((function(t,n){var i;e.subscribe((function(t){return i=t}),(function(t){return n(t)}),(function(){return t(i)}))}))},t}()).create=function(t){return new S(t)},S);function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function A(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}A.prototype=Object.create(Error.prototype);var _,E=A,T=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).subject=e,i.subscriber=n,i.closed=!1,i}return __extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(f),P=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).destination=e,n}return __extends(e,t),e}(m),I=((_=function(t){function e(){var e=this;return(e=t.call(this)||this).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return __extends(e,t),e.prototype[g]=function(){return new P(this)},e.prototype.lift=function(t){var e=new M(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new E;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new E;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new E;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),f.EMPTY):this.isStopped?(t.complete(),f.EMPTY):(this.observers.push(t),new T(this,t))},e.prototype.asObservable=function(){var t=new k;return t.source=this,t},e}(k)).create=function(t,e){return new M(t,e)},_),M=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).destination=e,i.source=n,i}return __extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):f.EMPTY},e}(I);function L(t){return t&&"function"==typeof t.schedule}var O=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).parent=e,r.outerValue=n,r.outerIndex=i,r.index=0,r}return __extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(m),R=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},N=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,s),e}};var D="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",z=function(t){return function(e){for(var n=t[D]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}},F=function(t){return function(e){var n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},V=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function X(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var H=function(t){if(t instanceof k)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[y])return F(t);if(V(t))return R(t);if(X(t))return N(t);if(t&&"function"==typeof t[D])return z(t);var e=c(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Y(t,e,n,i,r){if(void 0===r&&(r=new O(t,n,i)),!r.closed)return H(e)(r)}var j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(m);function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new W(t,e))}}var W=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new U(t,this.project,this.thisArg))},t}(),U=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e)||this).project=n,r.count=0,r.thisArg=i||r,r}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(m);function G(t,e){return new k(e?function(n){var i=new f,r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}:R(t))}function q(t,e){if(!e)return t instanceof k?t:new k(H(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new k(e?function(n){var i=new f;return i.add(e.schedule((function(){var r=t[y]();i.add(r.subscribe({next:function(t){i.add(e.schedule((function(){return n.next(t)})))},error:function(t){i.add(e.schedule((function(){return n.error(t)})))},complete:function(){i.add(e.schedule((function(){return n.complete()})))}}))}))),i}:F(t))}(t,e);if(X(t))return function(t,e){return new k(e?function(n){var i=new f;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){n.next(t),i.add(e.schedule((function(){return n.complete()})))})))}),(function(t){i.add(e.schedule((function(){return n.error(t)})))}))}))),i}:N(t))}(t,e);if(V(t))return G(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new k(e?function(n){var i,r=new f;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(e.schedule((function(){i=t[D](),r.add(e.schedule((function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),r}:z(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Z(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(i){return i.pipe(Z((function(n,i){return q(t(n,i)).pipe(B((function(t,r){return e(n,t,i,r)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new Q(t,n))})}var Q=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new $(t,this.project,this.concurrent))},t}(),$=function(t){function e(e,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var r=this;return(r=t.call(this,e)||this).project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return __extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=new O(this,void 0,void 0);this.destination.add(i),Y(this,t,e,n,i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(j);function J(t){return t}function K(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Z(J,t)}function tt(){return function(t){return t.lift(new et(t))}}var et=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new nt(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r},t}(),nt=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).connectable=n,i}return __extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},e}(m),it=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return __extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new f).add(this.source.subscribe(new ot(this.getSubject(),this))),t.closed?(this._connection=null,t=f.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return tt()(this)},e}(k).prototype,rt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:it._subscribe},_isComplete:{value:it._isComplete,writable:!0},getSubject:{value:it.getSubject},connect:{value:it.connect},refCount:{value:it.refCount}},ot=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).connectable=n,i}return __extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(P);function st(){return new I}var at="__parameters__";function lt(t,e,n){var i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,e);for(var r in i)this[r]=i[r]}}}(e);function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return i.apply(this,t),this;var n=new(r.bind.apply(r,[void 0].concat(t)));return o.annotation=n,o;function o(t,e,i){for(var r=t.hasOwnProperty(at)?t[at]:Object.defineProperty(t,at,{value:[]})[at];r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(n),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}var ct=lt("Inject",(function(t){return{token:t}})),ht=lt("Optional"),ut=lt("Self"),dt=lt("SkipSelf"),ft=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function pt(t){for(var e in t)if(t[e]===pt)return e;throw Error("Could not find renamed property on target object.")}function gt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mt(t){var e=t[vt];return e&&e.token===t?e:null}var vt=pt({ngInjectableDef:pt});function yt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var bt=pt({__forward_ref__:pt});function xt(t){return t.__forward_ref__=xt,t.toString=function(){return yt(this())},t}function wt(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(bt)&&e.__forward_ref__===xt?e():t}var St,kt="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_t="undefined"!=typeof global&&global,Et=kt||_t||Ct||At,Tt=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=gt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),Pt=new Tt("INJECTOR",-1),It=new Object,Mt=/\n/gm,Lt="\u0275",Ot="__source",Rt=pt({provide:String,useValue:pt}),Nt=void 0;function Dt(t){var e=Nt;return Nt=t,e}function zt(t,e){if(void 0===e&&(e=ft.Default),void 0===Nt)throw new Error("inject() must be called from an injection context");return null===Nt?function(t,e,n){var i=mt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ft.Optional)return null;throw new Error("Injector: NOT_FOUND ["+yt(t)+"]")}(t,0,e):Nt.get(t,e&ft.Optional?null:void 0,e)}function Ft(t,e){return void 0===e&&(e=ft.Default),(St||zt)(t,e)}var Vt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=It),e===It){var n=new Error("NullInjectorError: No provider for "+yt(t)+"!");throw n.name="NullInjectorError",n}return e},t}();function Xt(t,e,n,i){void 0===i&&(i=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Lt?t.substr(2):t;var r=yt(e);if(e instanceof Array)r=e.map(yt).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):yt(a)))}r="{"+o.join(", ")+"}"}return n+(i?"("+i+")":"")+"["+r+"]: "+t.replace(Mt,"\n  ")}var Ht=function(){},Yt=function(){};function jt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Wt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Ut=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et),Gt="ngDebugContext",qt="ngOriginalError",Zt="ngErrorLogger";function Qt(t){return t[Gt]}function $t(t){return t[qt]}function Jt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var Kt=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[Zt]||Jt}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Qt(t)?Qt(t):this._findContext($t(t)):null},t.prototype._findOriginalError=function(t){for(var e=$t(t);e&&$t(e);)e=$t(e);return e},t}(),te=!0,ee=!1;function ne(){return ee=!0,te}var ie=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling},t}(),re=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,oe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function se(t){return(t=String(t)).match(re)||t.match(oe)?t:(ne()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function ae(t){for(var e={},n=0,i=t.split(",");n<i.length;n++){e[i[n]]=!0}return e}function le(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},i=0,r=t;i<r.length;i++){var o=r[i];for(var s in o)o.hasOwnProperty(s)&&(n[s]=!0)}return n}var ce,he=ae("area,br,col,hr,img,wbr"),ue=ae("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),de=ae("rp,rt"),fe=le(de,ue),pe=le(he,le(ue,ae("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),le(de,ae("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fe),ge=ae("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),me=ae("srcset"),ve=le(ge,me,ae("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ae("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ye=ae("script,style,template"),be=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(!pe.hasOwnProperty(e))return this.sanitizedSomething=!0,!ye.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,i=t.attributes,r=0;r<i.length;r++){var o=i.item(r),s=o.name,a=s.toLowerCase();if(ve.hasOwnProperty(a)){var l=o.value;ge[a]&&(l=se(l)),me[a]&&(n=l,l=(n=String(n)).split(",").map((function(t){return se(t.trim())})).join(", ")),this.buf.push(" ",s,'="',Se(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();pe.hasOwnProperty(e)&&!he.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(Se(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),xe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,we=/([^\#-~ |!])/g;function Se(t){return t.replace(/&/g,"&amp;").replace(xe,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(we,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ke(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ce=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ae=function(){},_e=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ee=/^url\(([^)]+)\)$/,Te=/([A-Z])/g;function Pe(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var Ie=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return Me()},t}(),Me=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},Le=new Tt("The presence of this token marks an injector as being the root injector."),Oe=function(t,e,n){return new Ve(t,e,n)},Re=function(){var t=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?Oe(t,e,""):Oe(t.providers,t.parent,t.name||"")},t}();return t.THROW_IF_NOT_FOUND=It,t.NULL=new Vt,t.ngInjectableDef=gt({token:t,providedIn:"any",factory:function(){return Ft(Pt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Ne=function(t){return t},De=[],ze=Ne,Fe=function(){return Array.prototype.slice.call(arguments)},Ve=function(){function t(t,e,n){void 0===e&&(e=Re.NULL),void 0===n&&(n=null),this.parent=e,this.source=n;var i=this._records=new Map;i.set(Re,{token:Re,fn:Ne,deps:De,value:this,useNew:!1}),i.set(Pt,{token:Pt,fn:Ne,deps:De,value:this,useNew:!1}),function t(e,n){if(n)if((n=wt(n))instanceof Array)for(var i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw He("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw He("Unexpected provider",n);var r=wt(n.provide),o=function(t){var e=function(t){var e=De,n=t.deps;if(n&&n.length){e=[];for(var i=0;i<n.length;i++){var r=6,o=wt(n[i]);if(o instanceof Array)for(var s=0,a=o;s<a.length;s++){var l=a[s];l instanceof ht||l==ht?r|=1:l instanceof dt||l==dt?r&=-3:l instanceof ut||l==ut?r&=-5:o=l instanceof ct?l.token:wt(l)}e.push({token:o,options:r})}}else if(t.useExisting)e=[{token:wt(t.useExisting),options:6}];else if(!(n||Rt in t))throw He("'deps' required",t);return e}(t),n=Ne,i=De,r=!1,o=wt(t.provide);if(Rt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=wt(t.useClass);else{if("function"!=typeof o)throw He("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=o}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){var s=e.get(r);if(s){if(s.fn!==Fe)throw Xe(r)}else e.set(r,s={token:n.provide,deps:[],useNew:!1,fn:Fe,value:De});s.deps.push({token:r=n,options:6})}var a=e.get(r);if(a&&a.fn==Fe)throw Xe(r);e.set(r,o)}}(i,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=ft.Default);var i=this._records.get(t);try{return function t(e,n,i,r,o,s){try{return function(e,n,i,r,o,s){var a;if(!n||s&ft.SkipSelf)s&ft.Self||(a=r.get(e,o,ft.Default));else{if((a=n.value)==ze)throw Error("\u0275Circular dependency");if(a===De){n.value=ze;var l=n.useNew,c=n.fn,h=n.deps,u=De;if(h.length){u=[];for(var d=0;d<h.length;d++){var f=h[d],p=f.options,g=2&p?i.get(f.token):void 0;u.push(t(f.token,g,i,g||4&p?r:Re.NULL,1&p?null:Re.THROW_IF_NOT_FOUND,ft.Default))}}n.value=a=l?new(c.bind.apply(c,[void 0].concat(u))):c.apply(void 0,u)}}return a}(e,n,i,r,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==ze&&(n.value=De),a}}(t,i,this._records,this.parent,e,n)}catch(r){return function(t,e,n,i){var r=t.ngTempTokenPath;throw e[Ot]&&r.unshift(e[Ot]),t.message=Xt("\n"+t.message,r,"StaticInjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(r,t,0,this.source)}},t.prototype.toString=function(){var t=[];return this._records.forEach((function(e,n){return t.push(yt(n))})),"StaticInjector["+t.join(", ")+"]"},t}();function Xe(t){return He("Cannot mix multi providers and regular providers",t)}function He(t,e){return new Error(Xt(t,e,"StaticInjectorError"))}var Ye=new Tt("AnalyzeForEntryComponents"),je=null;function Be(){if(!je){var t=Et.Symbol;if(t&&t.iterator)je=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(je=i)}}return je}function We(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ue(t,e){var n=qe(t),i=qe(e);return n&&i?function(t,e,n){for(var i=t[Be()](),r=e[Be()]();;){var o=i.next(),s=r.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}(t,e,Ue):!(n||!(t&&("object"==typeof t||"function"==typeof t))||i||!(e&&("object"==typeof e||"function"==typeof e)))||We(t,e)}var Ge=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}();function qe(t){return!!Ze(t)&&(Array.isArray(t)||!(t instanceof Map)&&Be()in t)}function Ze(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qe(t){return!!t&&"function"==typeof t.then}function $e(t){return!!t&&"function"==typeof t.subscribe}var Je=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),Ke=function(){},tn=function(){};function en(t){var e=Error("No component factory found for "+yt(t)+". Did you add it to @NgModule.entryComponents?");return e[nn]=t,e}var nn="ngComponent",rn=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw en(t)},t}(),on=function(){var t=function(){};return t.NULL=new rn,t}(),sn=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var i=0;i<t.length;i++){var r=t[i];this._factories.set(r.componentType,r)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw en(t);return new an(e,this._ngModule)},t}(),an=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).factory=e,i.ngModule=n,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return __extends(e,t),e.prototype.create=function(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)},e}(tn);function ln(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var cn=function(){var t=function(t){this.nativeElement=t};return t.__NG_ELEMENT_ID__=function(){return hn(t)},t}(),hn=ln,un=function(){},dn=function(){},fn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),pn=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return gn()},t}(),gn=ln,mn=new function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("8.2.10"),vn=function(){function t(){}return t.prototype.supports=function(t){return qe(t)},t.prototype.create=function(t){return new bn(t)},t}(),yn=function(t,e){return e},bn=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||yn}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<kn(n,i,r)?e:n,s=kn(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var l=s-i,c=a-i;if(l!=c){for(var h=0;h<l;h++){var u=h<r.length?r[h]:r[h]=0,d=u+h;c<=d&&d<l&&(r[h]=u+1)}r[o.previousIndex]=c-l}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!qe(t))throw new Error("Error trying to diff '"+yt(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,i,r,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=this._trackByFn(a,i=t[a]),null!==o&&We(o.trackById,r)?(s&&(o=this._verifyReinsertion(o,i,r,a)),We(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[Be()]();!(i=r.next()).done;)e(i.value)}(t,(function(t){r=e._trackByFn(n,t),null!==o&&We(o.trackById,r)?(s&&(o=e._verifyReinsertion(o,t,r,n)),We(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(We(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(We(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new xn(e,n),r,i),t},t.prototype._verifyReinsertion=function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Sn),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),xn=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},wn=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&We(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Sn=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new wn,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function kn(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Cn=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Ze(t)},t.prototype.create=function(){return new An},t}(),An=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Ze(t)))throw new Error("Error trying to diff '"+yt(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new _n(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){We(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))},t}(),_n=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},En=function(){var t=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new dt,new ht]]}},t.prototype.find=function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t}();return t.ngInjectableDef=gt({token:t,providedIn:"root",factory:function(){return new t([new vn])}}),t}(),Tn=function(){var t=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new dt,new ht]]}},t.prototype.find=function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}();return t.ngInjectableDef=gt({token:t,providedIn:"root",factory:function(){return new t([new Cn])}}),t}(),Pn=[new Cn],In=new En([new vn]),Mn=new Tn(Pn),Ln=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return On(t,cn)},t}(),On=ln,Rn=function(){var t=function(){};return t.__NG_ELEMENT_ID__=function(){return Nn(t,cn)},t}(),Nn=ln;function Dn(t,e,n,i){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return zn(n,e),n}(r,t)}function zn(t,e){t[Gt]=e,t[Zt]=e.logError.bind(e)}function Fn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function Vn(t,e,n){var i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function Xn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Hn(t,e){return t.nodes[e]}function Yn(t,e){return t.nodes[e]}function jn(t,e){return t.nodes[e]}function Bn(t,e){return t.nodes[e]}function Wn(t,e){return t.nodes[e]}var Un={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Gn=function(){},qn=new Map;function Zn(t){var e=qn.get(t);return e||(e=yt(t)+"_"+qn.size,qn.set(t,e)),e}var Qn="$$undefined",$n="$$empty";function Jn(t){return{id:Qn,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Kn=0;function ti(t,e,n,i){return!(!(2&t.state)&&We(t.oldValues[e.bindingIndex+n],i))}function ei(t,e,n,i){return!!ti(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function ni(t,e,n,i){var r=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ue(r,i)){var o=e.bindings[n].name;throw Dn(Un.createDebugContext(t,e.nodeIndex),o+": "+r,o+": "+i,0!=(1&t.state))}}function ii(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function ri(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function oi(t,e,n,i){try{return ii(33554432&t.def.nodes[e].flags?Yn(t,e).componentView:t),Un.handleEvent(t,e,n,i)}catch(r){t.root.errorHandler.handleError(r)}}function si(t){return t.parent?Yn(t.parent,t.parentNodeDef.nodeIndex):null}function ai(t){return t.parent?t.parentNodeDef.parent:null}function li(t,e){switch(201347067&e.flags){case 1:return Yn(t,e.nodeIndex).renderElement;case 2:return Hn(t,e.nodeIndex).renderText}}function ci(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function hi(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function ui(t){return 1<<t%32}function di(t){var e={},n=0,i={};return t&&t.forEach((function(t){var r=t[0],o=t[1];"number"==typeof r?(e[r]=o,n|=ui(r)):i[r]=o})),{matchedQueries:e,references:i,matchedQueryIds:n}}function fi(t,e){return t.map((function(t){var n,i;return Array.isArray(t)?(i=t[0],n=t[1]):(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Ot,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:Zn(n)}}))}function pi(t,e,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===Wt.Native?Yn(t,n.renderParent.nodeIndex).renderElement:void 0:e}var gi=new WeakMap;function mi(t){var e=gi.get(t);return e||((e=t((function(){return Gn}))).factory=t,gi.set(t,e)),e}function vi(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(li(t,t.def.lastRenderRootNode))),yi(t,e,0,t.def.nodes.length-1,n,i,r)}function yi(t,e,n,i,r,o,s){for(var a=n;a<=i;a++){var l=t.def.nodes[a];11&l.flags&&xi(t,l,e,r,o,s),a+=l.childCount}}function bi(t,e,n,i,r,o){for(var s=t;s&&!ci(s);)s=s.parent;for(var a=s.parent,l=ai(s),c=l.nodeIndex+l.childCount,h=l.nodeIndex+1;h<=c;h++){var u=a.def.nodes[h];u.ngContentIndex===e&&xi(a,u,n,i,r,o),h+=u.childCount}if(!a.parent){var d=t.root.projectableNodes[e];if(d)for(h=0;h<d.length;h++)wi(t,d[h],n,i,r,o)}}function xi(t,e,n,i,r,o){if(8&e.flags)bi(t,e.ngContent.index,n,i,r,o);else{var s=li(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&wi(t,s,n,i,r,o),32&e.bindingFlags&&wi(Yn(t,e.nodeIndex).componentView,s,n,i,r,o)):wi(t,s,n,i,r,o),16777216&e.flags)for(var a=Yn(t,e.nodeIndex).viewContainer._embeddedViews,l=0;l<a.length;l++)vi(a[l],n,i,r,o);1&e.flags&&!e.element.name&&yi(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,o)}}function wi(t,e,n,i,r,o){var s=t.renderer;switch(n){case 1:s.appendChild(i,e);break;case 2:s.insertBefore(i,e,r);break;case 3:s.removeChild(i,e);break;case 0:o.push(e)}}var Si=/^:([^:]+):(.+)$/;function ki(t){if(":"===t[0]){var e=t.match(Si);return[e[1],e[2]]}return["",t]}function Ci(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}var Ai=new Object,_i=Zn(Re),Ei=Zn(Pt),Ti=Zn(Ht);function Pi(t,e,n,i){return n=wt(n),{index:-1,deps:fi(i,yt(e)),flags:t,token:e,value:n}}function Ii(t,e,n){void 0===n&&(n=Re.THROW_IF_NOT_FOUND);var i,r,o=Dt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var s=e.tokenKey;switch(s){case _i:case Ei:case Ti:return t}var a,l=t._def.providersByKey[s];if(l){var c=t._providers[l.index];return void 0===c&&(c=t._providers[l.index]=Mi(t,l)),c===Ai?void 0:c}if((a=mt(e.token))&&(i=t,null!=(r=a).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,r.providedIn)||"root"===r.providedIn&&i._def.isRoot))){var h=t._providers.length;return t._def.providers[h]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:h,token:e.token},t._providers[h]=Ai,t._providers[h]=Mi(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Dt(o)}}function Mi(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Ii(t,n[0]));case 2:return new e(Ii(t,n[0]),Ii(t,n[1]));case 3:return new e(Ii(t,n[0]),Ii(t,n[1]),Ii(t,n[2]));default:for(var r=new Array(i),o=0;o<i;o++)r[o]=Ii(t,n[o]);return new(e.bind.apply(e,[void 0].concat(r)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Ii(t,n[0]));case 2:return e(Ii(t,n[0]),Ii(t,n[1]));case 3:return e(Ii(t,n[0]),Ii(t,n[1]),Ii(t,n[2]));default:for(var r=Array(i),o=0;o<i;o++)r[o]=Ii(t,n[o]);return e.apply(void 0,r)}}(t,e.value,e.deps);break;case 2048:n=Ii(t,e.deps[0]);break;case 256:n=e.value}return n===Ai||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Ai:n}function Li(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var i=n[e];return i.viewContainerParent=null,Bt(n,e),Un.dirtyParentQueries(i),Ri(i),i}function Oi(t,e,n){var i=e?li(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(i),o=n.renderer.nextSibling(i);vi(n,2,r,o,void 0)}function Ri(t){vi(t,3,null,null,void 0)}var Ni=new Object;function Di(t,e,n,i,r,o){return new zi(t,e,n,i,r,o)}var zi=function(t){function e(e,n,i,r,o,s){var a=this;return(a=t.call(this)||this).selector=e,a.componentType=n,a._inputs=r,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=i,a}return __extends(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){if(!i)throw new Error("ngModule should be provided");var r=mi(this.viewDefFactory),o=r.nodes[0].element.componentProvider.nodeIndex,s=Un.createRootView(t,e||[],n,r,i,Ni),a=jn(s,o).instance;return n&&s.renderer.setAttribute(Yn(s,0).renderElement,"ng-version",mn.full),new Fi(s,new Yi(s),a)},e}(tn),Fi=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this)._view=e,r._viewRef=n,r._component=i,r._elDef=r._view.def.nodes[0],r.hostView=n,r.changeDetectorRef=n,r.instance=i,r}return __extends(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new cn(Yn(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Ui(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Ke);function Vi(t,e,n){return new Xi(t,e,n)}var Xi=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new cn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Ui(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=ai(t),t=t.parent;return t?new Ui(t,e):new Ui(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Li(this._data,t);Un.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Yi(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i},t.prototype.createComponent=function(t,e,n,i,r){var o=n||this.parentInjector;r||t instanceof an||(r=o.get(Ht));var s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,i,r,o,s,a=t;return n=this._view,i=this._data,r=e,o=a._view,s=i.viewContainer._embeddedViews,null==r&&(r=s.length),o.viewContainerParent=n,jt(s,r,o),function(t,e){var n=si(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}(e.parent.def,e.parentNodeDef)}}(i,o),Un.dirtyParentQueries(o),Oi(i,r>0?s[r-1]:null,o),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,i,r,o,s,a=this._embeddedViews.indexOf(t._view);return n=this._data,i=a,r=e,o=n.viewContainer._embeddedViews,s=o[i],Bt(o,i),null==r&&(r=o.length),jt(o,r,s),Un.dirtyParentQueries(s),Ri(s),Oi(n,r>0?o[r-1]:null,s),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Li(this._data,t);e&&Un.destroyView(e)},t.prototype.detach=function(t){var e=Li(this._data,t);return e?new Yi(e):null},t}();function Hi(t){return new Yi(t)}var Yi=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return vi(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){ii(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Un.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Un.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Un.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Ri(this._view),Un.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function ji(t,e){return new Bi(t,e)}var Bi=function(t){function e(e,n){var i=this;return(i=t.call(this)||this)._parentView=e,i._def=n,i}return __extends(e,t),e.prototype.createEmbeddedView=function(t){return new Yi(Un.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new cn(Yn(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Ln);function Wi(t,e){return new Ui(t,e)}var Ui=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=Re.THROW_IF_NOT_FOUND),Un.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Zn(t)},e)},t}();function Gi(t){return new qi(t.renderer)}var qi=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=ki(e),i=n[0],r=n[1],o=this.delegate.createElement(r,i);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t),r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=ki(e),r=i[0],o=i[1];null!=n?this.delegate.setAttribute(t,o,n,r):this.delegate.removeAttribute(t,o,r)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Zi(t,e,n,i){return new Qi(t,e,n,i)}var Qi=function(){function t(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),i=0;i<e.providers.length;i++){var r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=Mi(t,r))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=Re.THROW_IF_NOT_FOUND),void 0===n&&(n=ft.Default);var i=0;return n&ft.SkipSelf?i|=1:n&ft.Self&&(i|=4),Ii(this,{token:t,tokenKey:Zn(t),flags:i},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(on)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+yt(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,i=new Set,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var o=t._providers[r];if(o&&o!==Ai){var s=o.ngOnDestroy;"function"!=typeof s||i.has(o)||(s.apply(o),i.add(o))}}}(this),this._destroyListeners.forEach((function(t){return t()}))},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),$i=Zn(un),Ji=Zn(pn),Ki=Zn(cn),tr=Zn(Rn),er=Zn(Ln),nr=Zn(Ie),ir=Zn(Re),rr=Zn(Pt);function or(t,e,n,i,r,o,s,a){var l=[];if(s)for(var c in s){var h=s[c],u=h[0],d=h[1];l[u]={flags:8,name:c,nonMinifiedName:d,ns:null,securityContext:null,suffix:null}}var f=[];if(a)for(var p in a)f.push({type:1,propName:p,target:null,eventName:a[p]});return ar(t,e|=16384,n,i,r,r,o,l,f)}function sr(t,e,n,i,r){return ar(-1,t,e,0,n,i,r)}function ar(t,e,n,i,r,o,s,a,l){var c=di(n),h=c.matchedQueries,u=c.references,d=c.matchedQueryIds;l||(l=[]),a||(a=[]),o=wt(o);var f=fi(s,yt(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:d,references:u,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:Ci(a),outputs:l,element:null,provider:{token:r,value:o,deps:f},text:null,query:null,ngContent:null}}function lr(t,e){return dr(t,e)}function cr(t,e){for(var n=t;n.parent&&!ci(n);)n=n.parent;return fr(n.parent,ai(n),!0,e.provider.value,e.provider.deps)}function hr(t,e){var n=fr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var i=0;i<e.outputs.length;i++){var r=e.outputs[i],o=n[r.propName];if(!$e(o))throw new Error("@Output "+r.propName+" not initialized in '"+n.constructor.name+"'.");var s=o.subscribe(ur(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=s.unsubscribe.bind(s)}return n}function ur(t,e,n){return function(i){return oi(t,e,n,i)}}function dr(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return fr(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){var o=r.length;switch(o){case 0:return i();case 1:return i(gr(t,e,n,r[0]));case 2:return i(gr(t,e,n,r[0]),gr(t,e,n,r[1]));case 3:return i(gr(t,e,n,r[0]),gr(t,e,n,r[1]),gr(t,e,n,r[2]));default:for(var s=Array(o),a=0;a<o;a++)s[a]=gr(t,e,n,r[a]);return i.apply(void 0,s)}}(t,e.parent,n,i.value,i.deps);case 2048:return gr(t,e.parent,n,i.deps[0]);case 256:return i.value}}function fr(t,e,n,i,r){var o=r.length;switch(o){case 0:return new i;case 1:return new i(gr(t,e,n,r[0]));case 2:return new i(gr(t,e,n,r[0]),gr(t,e,n,r[1]));case 3:return new i(gr(t,e,n,r[0]),gr(t,e,n,r[1]),gr(t,e,n,r[2]));default:for(var s=new Array(o),a=0;a<o;a++)s[a]=gr(t,e,n,r[a]);return new(i.bind.apply(i,[void 0].concat(s)))}}var pr={};function gr(t,e,n,i,r){if(void 0===r&&(r=Re.THROW_IF_NOT_FOUND),8&i.flags)return i.token;var o=t;2&i.flags&&(r=null);var s=i.tokenKey;s===nr&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);for(var a=t;a;){if(e)switch(s){case $i:return Gi(mr(a,e,n));case Ji:return mr(a,e,n).renderer;case Ki:return new cn(Yn(a,e.nodeIndex).renderElement);case tr:return Yn(a,e.nodeIndex).viewContainer;case er:if(e.element.template)return Yn(a,e.nodeIndex).template;break;case nr:return Hi(mr(a,e,n));case ir:case rr:return Wi(a,e);default:var l=(n?e.element.allProviders:e.element.publicProviders)[s];if(l){var c=jn(a,l.nodeIndex);return c||(c={instance:dr(a,l)},a.nodes[l.nodeIndex]=c),c.instance}}n=ci(a),e=ai(a),a=a.parent,4&i.flags&&(a=null)}var h=o.root.injector.get(i.token,pr);return h!==pr||r===pr?h:o.root.ngModule.injector.get(i.token,r)}function mr(t,e,n){var i;if(n)i=Yn(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!ci(i);)i=i.parent;return i}function vr(t,e,n,i,r,o){if(32768&n.flags){var s=Yn(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){o=o||{};var a=Ge.unwrap(t.oldValues[n.bindingIndex+i]);o[n.bindings[i].nonMinifiedName]=new Je(a,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function yr(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,i=0,r=0;r<n.length;r++){var o=n[r],s=o.parent;for(!s&&o.flags&e&&xr(t,r,o.flags&e,i++),0==(o.childFlags&e)&&(r+=o.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(i=br(t,s,e,i)),s=s.parent}}function br(t,e,n,i){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var o=t.def.nodes[r];o.flags&n&&xr(t,r,o.flags&n,i++),r+=o.childCount}return i}function xr(t,e,n,i){var r=jn(t,e);if(r){var o=r.instance;o&&(Un.setCurrentNode(t,e),1048576&n&&Xn(t,512,i)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Xn(t,768,i)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var wr=new Tt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ut}}),Sr={},kr=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Cr=void 0,Ar=["en",[["a","p"],["AM","PM"],Cr],[["AM","PM"],Cr,Cr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cr,"{1} 'at' {0}",Cr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],_r="en-US";function Er(t){null==t&&function(t){throw new Error("ASSERTION ERROR: Expected localeId to be defined")}(),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var Tr=function(t){function e(e){void 0===e&&(e=!1);var n=this;return(n=t.call(this)||this).__isAsync=e,n}return __extends(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,i){var r,o=function(t){return null},s=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout((function(){return n(t)}))}:function(t){n(t)}),i&&(s=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var a=t.prototype.subscribe.call(this,r,o,s);return e instanceof f&&e.add(a),a},e}(I);function Pr(){return this._results[Be()]()}var Ir=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Tr,this.length=0;var e=Be(),n=t.prototype;n[e]||(n[e]=Pr)}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Mr=new Tt("Application Initializer"),Lr=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();Qe(r)&&e.push(r)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}},t}(),Or=new Tt("AppId");function Rr(){return""+Nr()+Nr()+Nr()}function Nr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Dr=new Tt("Platform Initializer"),zr=new Tt("Platform ID"),Fr=new Tt("appBootstrapListener"),Vr=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),Xr=new Tt("LocaleId"),Hr=!1;function Yr(){throw new Error("Runtime compiler is not loaded")}var jr,Br,Wr=Yr,Ur=Yr,Gr=Yr,qr=Yr,Zr=function(){function t(){this.compileModuleSync=Wr,this.compileModuleAsync=Ur,this.compileModuleAndAllComponentsSync=Gr,this.compileModuleAndAllComponentsAsync=qr}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Qr=function(){};var $r,Jr=!(!($r=Et.wtf)||!(jr=$r.trace)||(Br=jr.events,0));function Kr(t,e){return null}var to=Jr?function(t,e){return void 0===e&&(e=null),Br.createScope(t,e)}:function(t,e){return Kr},eo=Jr?function(t,e){return jr.leaveScope(t,e),e}:function(t,e){return e},no=Promise.resolve(0);function io(t){"undefined"==typeof Zone?no.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var ro=function(){function t(t){var e,n=t.enableLongStackTrace,i=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tr(!1),this.onMicrotaskEmpty=new Tr(!1),this.onStable=new Tr(!1),this.onError=new Tr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,i,r,o,s){try{return lo(e),t.invokeTask(i,r,o,s)}finally{co(e)}},onInvoke:function(t,n,i,r,o,s,a){try{return lo(e),t.invoke(i,r,o,s,a)}finally{co(e)}},onHasTask:function(t,n,i,r){t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,ao(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,n,i,r){return t.handleError(i,r),e.runOutsideAngular((function(){return e.onError.emit(r)})),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,so,oo,oo);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function oo(){}var so={};function ao(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function lo(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function co(t){t._nesting--,ao(t)}var ho,uo=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tr,this.onMicrotaskEmpty=new Tr,this.onStable=new Tr,this.onError=new Tr}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),fo=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){ro.assertNotInAngularZone(),io((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())io((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]},t.prototype.addCallback=function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(t){return t.timeoutId!==r})),t(i._didWork,i.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),po=function(){function t(){this._applications=new Map,go.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),go.findTestabilityInTree(this,t,e)},t}(),go=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),mo=new Tt("AllowMultipleToken"),vo=function(t,e){this.name=t,this.token=e};function yo(t,e,n){void 0===n&&(n=[]);var i="Platform: "+e,r=new Tt(i);return function(e){void 0===e&&(e=[]);var o=bo();if(!o||o.injector.get(mo,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var s=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(ho&&!ho.destroyed&&!ho.injector.get(mo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ho=t.get(xo);var e=t.get(Dr,null);e&&e.forEach((function(t){return t()}))}(Re.create({providers:s,name:i}))}return function(t){var e=bo();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function bo(){return ho&&!ho.destroyed?ho:null}var xo=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,i=this,r="noop"===(n=e?e.ngZone:void 0)?new uo:("zone.js"===n?void 0:n)||new ro({enableLongStackTrace:ne()}),o=[{provide:ro,useValue:r}];return r.run((function(){var e=Re.create({providers:o,parent:i.injector,name:t.moduleType.name}),n=t.create(e),s=n.injector.get(Kt,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Hr&&Er(n.injector.get(Xr,_r)||_r),n.onDestroy((function(){return Co(i._modules,n)})),r.runOutsideAngular((function(){return r.onError.subscribe({next:function(t){s.handleError(t)}})})),function(t,e,r){try{var o=((s=n.injector.get(Lr)).runInitializers(),s.donePromise.then((function(){return i._moduleDoBootstrap(n),n})));return Qe(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var s}(s,r)}))},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var i=wo({},e);return function(t,e,n){return t.get(Qr).createCompiler([e]).compileModuleAsync(n)}(this.injector,i,t).then((function(t){return n.bootstrapModuleFactory(t,i)}))},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(ko);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+yt(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function wo(t,e){return Array.isArray(e)?e.reduce(wo,t):Object.assign({},t,e)}var So,ko=((So=function(){function t(t,e,n,i,r,o){var s=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ne(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var a=new k((function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){t.next(s._stable),t.complete()}))})),l=new k((function(t){var e;s._zone.runOutsideAngular((function(){e=s._zone.onStable.subscribe((function(){ro.assertNotInAngularZone(),io((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){ro.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,i=null,r=t[t.length-1];return L(r)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof r&&(n=t.pop()),null===i&&1===t.length&&t[0]instanceof k?t[0]:K(n)(G(t,i))}(a,l.pipe((function(t){return tt()((e=st,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,rt);return i.source=t,i.subjectFactory=n,i})(t));var e})))}return t.prototype.bootstrap=function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof tn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n instanceof an?null:this._injector.get(Ht),o=n.create(Re.NULL,[],e||n.selector,r);o.onDestroy((function(){i._unloadComponent(o)}));var s=o.injector.get(fo,null);return s&&o.injector.get(po).registerApplication(o.location.nativeElement,s),this._loadComponent(o),ne()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0;for(var i=0,r=this._views;i<r.length;i++)r[i].detectChanges();if(this._enforceNoNewChanges)for(var o=0,s=this._views;o<s.length;o++)s[o].checkNoChanges()}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1,eo(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Co(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fr,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Co(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach((function(t){return t.destroy()}))},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t}())._tickScope=to("ApplicationRef#tick()"),So);function Co(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ao=function(){},_o=function(){},Eo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},To=function(){function t(t,e){this._compiler=t,this._config=e||Eo}return t.prototype.load=function(t){return!Hr&&this._compiler instanceof Zr?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=t.split("#"),r=i[0],o=i[1];return void 0===o&&(o="default"),n("zn8P")(r).then((function(t){return t[o]})).then((function(t){return Po(t,r,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))},t.prototype.loadFactory=function(t){var e=t.split("#"),i=e[0],r=e[1],o="NgFactory";return void 0===r&&(r="default",o=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(t){return t[r+o]})).then((function(t){return Po(t,i,r)}))},t}();function Po(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var Io=function(t,e){this.name=t,this.callback=e},Mo=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Lo&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Lo=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=e,r}return __extends(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,r=this.childNodes.indexOf(t);-1!==r&&((n=this.childNodes).splice.apply(n,[r+1,0].concat(e)),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=i})))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var n=[];return function t(n,i,r){n.childNodes.forEach((function(n){n instanceof e&&(i(n)&&r.push(n),t(n,i,r))}))}(this,t,n),n},e.prototype.queryAllNodes=function(t){var n=[];return function t(n,i,r){n instanceof e&&n.childNodes.forEach((function(n){i(n)&&r.push(n),n instanceof e&&t(n,i,r)}))}(this,t,n),n},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter((function(t){return t instanceof e}))},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach((function(n){n.name==t&&n.callback(e)}))},e}(Mo),Oo=new Map,Ro=function(t){return Oo.get(t)||null};function No(t){Oo.set(t.nativeNode,t)}var Do=yo(null,"core",[{provide:zr,useValue:"unknown"},{provide:xo,deps:[Re]},{provide:po,deps:[]},{provide:Vr,deps:[]}]);function zo(){return In}function Fo(){return Mn}function Vo(t){return t?(Hr&&Er(t),t):_r}function Xo(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var Ho=function(t){};function Yo(t,e,n,i,r,o){t|=1;var s=di(e),a=s.matchedQueries,l=s.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:l,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?mi(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Gn},provider:null,text:null,query:null,ngContent:null}}function jo(t,e,n,i,r,o,s,a,l,c,h,u){var d;void 0===s&&(s=[]),c||(c=Gn);var f=di(n),p=f.matchedQueries,g=f.references,m=f.matchedQueryIds,v=null,y=null;o&&(v=(d=ki(o))[0],y=d[1]),a=a||[];for(var b=new Array(a.length),x=0;x<a.length;x++){var w=a[x],S=w[0],k=w[1],C=w[2],A=ki(k),_=A[0],E=A[1],T=void 0,P=void 0;switch(15&S){case 4:P=C;break;case 1:case 8:T=C}b[x]={flags:S,ns:_,name:E,nonMinifiedName:E,securityContext:T,suffix:P}}l=l||[];var I=new Array(l.length);for(x=0;x<l.length;x++){var M=l[x],L=M[0],O=M[1];I[x]={type:0,target:L,eventName:O,propName:null}}var R=(s=s||[]).map((function(t){var e=t[0],n=t[1],i=ki(e);return[i[0],i[1],n]}));return u=function(t){if(t&&t.id===Qn){var e=null!=t.encapsulation&&t.encapsulation!==Wt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Kn++:$n}return t&&t.id===$n&&(t=null),t||null}(u),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:g,ngContentIndex:i,childCount:r,bindings:b,bindingFlags:Ci(b),outputs:I,element:{ns:v,name:y,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:u,publicProviders:null,allProviders:null,handleEvent:c||Gn},provider:null,text:null,query:null,ngContent:null}}function Bo(t,e,n){var i,r=n.element,o=t.root.selectorOrNode,s=t.renderer;if(t.parent||!o){i=r.name?s.createElement(r.name,r.ns):s.createComment("");var a=pi(t,e,n);a&&s.appendChild(a,i)}else i=s.selectRootElement(o,!!r.componentRendererType&&r.componentRendererType.encapsulation===Wt.ShadowDom);if(r.attrs)for(var l=0;l<r.attrs.length;l++){var c=r.attrs[l],h=c[0],u=c[1],d=c[2];s.setAttribute(i,u,d,h)}return i}function Wo(t,e,n,i){for(var r=0;r<n.outputs.length;r++){var o=n.outputs[r],s=Uo(t,n.nodeIndex,(u=o.eventName,(h=o.target)?h+":"+u:u)),a=o.target,l=t;"component"===o.target&&(a=null,l=e);var c=l.renderer.listen(a||i,o.eventName,s);t.disposables[n.outputIndex+r]=c}var h,u}function Uo(t,e,n){return function(i){return oi(t,e,n,i)}}function Go(t,e,n,i){if(!ei(t,e,n,i))return!1;var r=e.bindings[n],o=Yn(t,e.nodeIndex),s=o.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var l=t.renderer;null!=o?l.setAttribute(n,r,a,i):l.removeAttribute(n,r,i)}(t,r,s,r.ns,a,i);break;case 2:!function(t,e,n,i){var r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,s,a,i);break;case 4:!function(t,e,n,i,r){var o=t.root.sanitizer.sanitize(Ce.STYLE,r);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,i,o):a.removeStyle(n,i)}(t,r,s,a,i);break;case 8:!function(t,e,n,i,r){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,s)}(33554432&e.flags&&32&r.flags?o.componentView:t,r,s,a,i)}return!0}function qo(t,e,n){var i=[];for(var r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ui(e),bindings:i},ngContent:null}}function Zo(t){for(var e=t.def.nodeMatchedQueries;t.parent&&hi(t);){var n=t.parentNodeDef;t=t.parent;for(var i=n.nodeIndex+n.childCount,r=0;r<=i;r++){67108864&(o=t.def.nodes[r]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Wn(t,r).setDirty(),!(1&o.flags&&r+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(r+=o.childCount)}}if(134217728&t.def.nodeFlags)for(r=0;r<t.def.nodes.length;r++){var o;134217728&(o=t.def.nodes[r]).flags&&536870912&o.flags&&Wn(t,r).setDirty(),r+=o.childCount}}function Qo(t,e){var n=Wn(t,e.nodeIndex);if(n.dirty){var i,r=void 0;if(67108864&e.flags){var o=e.parent.parent;r=$o(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),i=jn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=$o(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);for(var s=e.query.bindings,a=!1,l=0;l<s.length;l++){var c=s[l],h=void 0;switch(c.bindingType){case 0:h=n.first;break;case 1:h=n,a=!0}i[c.propName]=h}a&&n.notifyOnChanges()}}function $o(t,e,n,i,r){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[i.id];if(null!=a&&r.push(Jo(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var l=Yn(t,o);if((s.childMatchedQueries&i.filterId)===i.filterId&&($o(t,o+1,o+s.childCount,i,r),o+=s.childCount),16777216&s.flags)for(var c=l.viewContainer._embeddedViews,h=0;h<c.length;h++){var u=c[h],d=si(u);d&&d===l&&$o(u,0,u.def.nodes.length-1,i,r)}var f=l.template._projectedViews;if(f)for(h=0;h<f.length;h++){var p=f[h];$o(p,0,p.def.nodes.length-1,i,r)}}(s.childMatchedQueries&i.filterId)!==i.filterId&&(o+=s.childCount)}return r}function Jo(t,e,n){if(null!=n)switch(n){case 1:return Yn(t,e.nodeIndex).renderElement;case 0:return new cn(Yn(t,e.nodeIndex).renderElement);case 2:return Yn(t,e.nodeIndex).template;case 3:return Yn(t,e.nodeIndex).viewContainer;case 4:return jn(t,e.nodeIndex).instance}}function Ko(t,e,n){var i=pi(t,e,n);i&&bi(t,n.ngContent.index,1,i,null,void 0)}function ts(t,e){for(var n=Object.keys(e),i=n.length,r=new Array(i),o=0;o<i;o++){var s=n[o];r[e[s]]=s}return function(t,e,n){for(var i=new Array(n.length),r=0;r<n.length;r++){var o=n[r];i[r]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Ci(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,r)}function es(t,e,n){for(var i=new Array(n.length-1),r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function ns(t,e,n){var i,r=t.renderer;i=r.createText(n.text.prefix);var o=pi(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function is(t,e){return(null!=t?t.toString():"")+e.suffix}function rs(t,e,n,i){for(var r=0,o=0,s=0,a=0,l=0,c=null,h=null,u=!1,d=!1,f=null,p=0;p<e.length;p++){var g=e[p];if(g.nodeIndex=p,g.parent=c,g.bindingIndex=r,g.outputIndex=o,g.renderParent=h,s|=g.flags,l|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=c?c.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,u=!1,d=!1,g.element.template&&(l|=g.element.template.nodeMatchedQueries)}if(ss(c,g,e.length),r+=g.bindings.length,o+=g.outputs.length,!h&&3&g.flags&&(f=g),20224&g.flags){u||(u=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var v=0!=(32768&g.flags);0==(8192&g.flags)||v?c.element.publicProviders[Zn(g.provider.token)]=g:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[Zn(g.provider.token)]=g),v&&(c.element.componentProvider=g)}if(c?(c.childFlags|=g.flags,c.directChildFlags|=g.flags,c.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(c.childMatchedQueries|=g.element.template.nodeMatchedQueries)):a|=g.flags,g.childCount>0)c=g,os(g)||(h=g);else for(;c&&p===c.nodeIndex+c.childCount;){var y=c.parent;y&&(y.childFlags|=c.childFlags,y.childMatchedQueries|=c.childMatchedQueries),h=(c=y)&&os(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Gn,updateRenderer:i||Gn,handleEvent:function(t,n,i,r){return e[n].element.handleEvent(t,i,r)},bindingCount:r,outputCount:o,lastRenderRootNode:f}}function os(t){return 0!=(1&t.flags)&&null===t.element.name}function ss(t,e,n){var i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function as(t,e,n,i){var r=hs(t.root,t.renderer,t,e,n);return us(r,t.component,i),ds(r),r}function ls(t,e,n){var i=hs(t,t.renderer,null,null,e);return us(i,n,n),ds(i),i}function cs(t,e,n,i){var r,o=e.element.componentRendererType;return r=o?t.root.rendererFactory.createRenderer(i,o):t.root.renderer,hs(t.root,r,t,e.element.componentProvider,n)}function hs(t,e,n,i,r){var o=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function us(t,e,n){t.component=e,t.context=n}function ds(t){var e;ci(t)&&(e=Yn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,i=t.nodes,r=0;r<n.nodes.length;r++){var o=n.nodes[r],s=void 0;switch(Un.setCurrentNode(t,r),201347067&o.flags){case 1:var a=Bo(t,e,o),l=void 0;if(33554432&o.flags){var c=mi(o.element.componentView);l=Un.createComponentView(t,o,c,a)}Wo(t,l,o,a),s={renderElement:a,componentView:l,viewContainer:null,template:o.element.template?ji(t,o):void 0},16777216&o.flags&&(s.viewContainer=Vi(t,o,s));break;case 2:s=ns(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=i[r])||4096&o.flags||(s={instance:lr(t,o)});break;case 16:s={instance:cr(t,o)};break;case 16384:(s=i[r])||(s={instance:hr(t,o)}),32768&o.flags&&us(Yn(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Ir;break;case 8:Ko(t,e,o),s=void 0}i[r]=s}ws(t,xs.CreateViewNodes),As(t,201326592,268435456,0)}function fs(t){ms(t),Un.updateDirectives(t,1),Ss(t,xs.CheckNoChanges),Un.updateRenderer(t,1),ws(t,xs.CheckNoChanges),t.state&=-97}function ps(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Vn(t,0,256),ms(t),Un.updateDirectives(t,0),Ss(t,xs.CheckAndUpdate),As(t,67108864,536870912,0);var e=Vn(t,256,512);yr(t,2097152|(e?1048576:0)),Un.updateRenderer(t,0),ws(t,xs.CheckAndUpdate),As(t,134217728,536870912,0),yr(t,8388608|((e=Vn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Vn(t,768,1024)}function gs(t,e,n,i,r,o,s,a,l,c,h,u,d){return 0===n?function(t,e,n,i,r,o,s,a,l,c,h,u){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,o,s,a,l,c,h,u){var d=e.bindings.length,f=!1;return d>0&&Go(t,e,0,n)&&(f=!0),d>1&&Go(t,e,1,i)&&(f=!0),d>2&&Go(t,e,2,r)&&(f=!0),d>3&&Go(t,e,3,o)&&(f=!0),d>4&&Go(t,e,4,s)&&(f=!0),d>5&&Go(t,e,5,a)&&(f=!0),d>6&&Go(t,e,6,l)&&(f=!0),d>7&&Go(t,e,7,c)&&(f=!0),d>8&&Go(t,e,8,h)&&(f=!0),d>9&&Go(t,e,9,u)&&(f=!0),f}(t,e,n,i,r,o,s,a,l,c,h,u);case 2:return function(t,e,n,i,r,o,s,a,l,c,h,u){var d=!1,f=e.bindings,p=f.length;if(p>0&&ei(t,e,0,n)&&(d=!0),p>1&&ei(t,e,1,i)&&(d=!0),p>2&&ei(t,e,2,r)&&(d=!0),p>3&&ei(t,e,3,o)&&(d=!0),p>4&&ei(t,e,4,s)&&(d=!0),p>5&&ei(t,e,5,a)&&(d=!0),p>6&&ei(t,e,6,l)&&(d=!0),p>7&&ei(t,e,7,c)&&(d=!0),p>8&&ei(t,e,8,h)&&(d=!0),p>9&&ei(t,e,9,u)&&(d=!0),d){var g=e.text.prefix;p>0&&(g+=is(n,f[0])),p>1&&(g+=is(i,f[1])),p>2&&(g+=is(r,f[2])),p>3&&(g+=is(o,f[3])),p>4&&(g+=is(s,f[4])),p>5&&(g+=is(a,f[5])),p>6&&(g+=is(l,f[6])),p>7&&(g+=is(c,f[7])),p>8&&(g+=is(h,f[8])),p>9&&(g+=is(u,f[9]));var m=Hn(t,e.nodeIndex).renderText;t.renderer.setValue(m,g)}return d}(t,e,n,i,r,o,s,a,l,c,h,u);case 16384:return function(t,e,n,i,r,o,s,a,l,c,h,u){var d=jn(t,e.nodeIndex),f=d.instance,p=!1,g=void 0,m=e.bindings.length;return m>0&&ti(t,e,0,n)&&(p=!0,g=vr(t,d,e,0,n,g)),m>1&&ti(t,e,1,i)&&(p=!0,g=vr(t,d,e,1,i,g)),m>2&&ti(t,e,2,r)&&(p=!0,g=vr(t,d,e,2,r,g)),m>3&&ti(t,e,3,o)&&(p=!0,g=vr(t,d,e,3,o,g)),m>4&&ti(t,e,4,s)&&(p=!0,g=vr(t,d,e,4,s,g)),m>5&&ti(t,e,5,a)&&(p=!0,g=vr(t,d,e,5,a,g)),m>6&&ti(t,e,6,l)&&(p=!0,g=vr(t,d,e,6,l,g)),m>7&&ti(t,e,7,c)&&(p=!0,g=vr(t,d,e,7,c,g)),m>8&&ti(t,e,8,h)&&(p=!0,g=vr(t,d,e,8,h,g)),m>9&&ti(t,e,9,u)&&(p=!0,g=vr(t,d,e,9,u,g)),g&&f.ngOnChanges(g),65536&e.flags&&Xn(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,i,r,o,s,a,l,c,h,u);case 32:case 64:case 128:return function(t,e,n,i,r,o,s,a,l,c,h,u){var d=e.bindings,f=!1,p=d.length;if(p>0&&ei(t,e,0,n)&&(f=!0),p>1&&ei(t,e,1,i)&&(f=!0),p>2&&ei(t,e,2,r)&&(f=!0),p>3&&ei(t,e,3,o)&&(f=!0),p>4&&ei(t,e,4,s)&&(f=!0),p>5&&ei(t,e,5,a)&&(f=!0),p>6&&ei(t,e,6,l)&&(f=!0),p>7&&ei(t,e,7,c)&&(f=!0),p>8&&ei(t,e,8,h)&&(f=!0),p>9&&ei(t,e,9,u)&&(f=!0),f){var g=Bn(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(d.length),p>0&&(m[0]=n),p>1&&(m[1]=i),p>2&&(m[2]=r),p>3&&(m[3]=o),p>4&&(m[4]=s),p>5&&(m[5]=a),p>6&&(m[6]=l),p>7&&(m[7]=c),p>8&&(m[8]=h),p>9&&(m[9]=u);break;case 64:m={},p>0&&(m[d[0].name]=n),p>1&&(m[d[1].name]=i),p>2&&(m[d[2].name]=r),p>3&&(m[d[3].name]=o),p>4&&(m[d[4].name]=s),p>5&&(m[d[5].name]=a),p>6&&(m[d[6].name]=l),p>7&&(m[d[7].name]=c),p>8&&(m[d[8].name]=h),p>9&&(m[d[9].name]=u);break;case 128:var v=n;switch(p){case 1:m=v.transform(n);break;case 2:m=v.transform(i);break;case 3:m=v.transform(i,r);break;case 4:m=v.transform(i,r,o);break;case 5:m=v.transform(i,r,o,s);break;case 6:m=v.transform(i,r,o,s,a);break;case 7:m=v.transform(i,r,o,s,a,l);break;case 8:m=v.transform(i,r,o,s,a,l,c);break;case 9:m=v.transform(i,r,o,s,a,l,c,h);break;case 10:m=v.transform(i,r,o,s,a,l,c,h,u)}}g.value=m}return f}(t,e,n,i,r,o,s,a,l,c,h,u);default:throw"unreachable"}}(t,e,i,r,o,s,a,l,c,h,u,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var i=!1,r=0;r<n.length;r++)Go(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)ei(t,e,o,n[o])&&(r=!0);if(r){var s="";for(o=0;o<n.length;o++)s+=is(n[o],i[o]);s=e.text.prefix+s;var a=Hn(t,e.nodeIndex).renderText;t.renderer.setValue(a,s)}return r}(t,e,n);case 16384:return function(t,e,n){for(var i=jn(t,e.nodeIndex),r=i.instance,o=!1,s=void 0,a=0;a<n.length;a++)ti(t,e,a,n[a])&&(o=!0,s=vr(t,i,e,a,n[a],s));return s&&r.ngOnChanges(s),65536&e.flags&&Xn(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)ei(t,e,o,n[o])&&(r=!0);if(r){var s=Bn(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:a={};for(o=0;o<n.length;o++)a[i[o].name]=n[o];break;case 128:var l=n[0],c=n.slice(1);a=l.transform.apply(l,c)}s.value=a}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function ms(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(4&i.flags){var r=Yn(t,n).template._projectedViews;if(r)for(var o=0;o<r.length;o++){var s=r[o];s.state|=32,ri(s,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function vs(t,e,n,i,r,o,s,a,l,c,h,u,d){return 0===n?function(t,e,n,i,r,o,s,a,l,c,h,u){var d=e.bindings.length;d>0&&ni(t,e,0,n),d>1&&ni(t,e,1,i),d>2&&ni(t,e,2,r),d>3&&ni(t,e,3,o),d>4&&ni(t,e,4,s),d>5&&ni(t,e,5,a),d>6&&ni(t,e,6,l),d>7&&ni(t,e,7,c),d>8&&ni(t,e,8,h),d>9&&ni(t,e,9,u)}(t,e,i,r,o,s,a,l,c,h,u,d):function(t,e,n){for(var i=0;i<n.length;i++)ni(t,e,i,n[i])}(t,e,i),!1}function ys(t,e){if(Wn(t,e.nodeIndex).dirty)throw Dn(Un.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function bs(t){if(!(128&t.state)){if(Ss(t,xs.Destroy),ws(t,xs.Destroy),yr(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=si(t);if(e){var n=e.template._projectedViews;n&&(Bt(n,n.indexOf(t)),Un.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var i=t.def.nodes[n];1&i.flags?t.renderer.destroyNode(Yn(t,n).renderElement):2&i.flags?t.renderer.destroyNode(Hn(t,n).renderText):(67108864&i.flags||134217728&i.flags)&&Wn(t,n).destroy()}}(t),ci(t)&&t.renderer.destroy(),t.state|=128}}var xs=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ws(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];33554432&r.flags?ks(Yn(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function Ss(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];if(16777216&r.flags)for(var o=Yn(t,i).viewContainer._embeddedViews,s=0;s<o.length;s++)ks(o[s],e);else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function ks(t,e){var n=t.state;switch(e){case xs.CheckNoChanges:0==(128&n)&&(12==(12&n)?fs(t):64&n&&Cs(t,xs.CheckNoChangesProjectedViews));break;case xs.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?fs(t):64&n&&Cs(t,e));break;case xs.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ps(t):64&n&&Cs(t,xs.CheckAndUpdateProjectedViews));break;case xs.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ps(t):64&n&&Cs(t,e));break;case xs.Destroy:bs(t);break;case xs.CreateViewNodes:ds(t)}}function Cs(t,e){Ss(t,e),ws(t,e)}function As(t,e,n,i){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var r=t.def.nodes.length,o=0;o<r;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(Un.setCurrentNode(t,s.nodeIndex),i){case 0:Qo(t,s);break;case 1:ys(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}var _s=!1;function Es(t,e,n,i,r,o){var s=r.injector.get(dn);return ls(Ps(t,r,s,e,n),i,o)}function Ts(t,e,n,i,r,o){var s=r.injector.get(dn),a=Ps(t,r,new aa(s),e,n),l=Vs(i);return oa(qs.create,ls,null,[a,l,o])}function Ps(t,e,n,i,r){var o=e.injector.get(Ae),s=e.injector.get(Kt),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Is(t,e,n,i){var r=Vs(n);return oa(qs.create,as,null,[t,e,r,i])}function Ms(t,e,n,i){return n=Ns.get(e.element.componentProvider.provider.token)||Vs(n),oa(qs.create,cs,null,[t,e,n,i])}function Ls(t,e,n,i){return Zi(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Os.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach((function(t){var i=Os.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)})),t.modules.forEach((function(t){Rs.forEach((function(i,r){mt(r).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)}))})),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasOverrides,i=e.hasDeprecatedOverrides;return n?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];i&&(n.flags|=4096);var r=Os.get(n.token);r&&(n.flags=-3841&n.flags|r.flags,n.deps=fi(r.deps),n.value=r.value)}if(Rs.size>0){var o=new Set(t.modules);Rs.forEach((function(e,n){if(o.has(mt(n).providedIn)){var r={token:n,flags:e.flags|(i?4096:0),deps:fi(e.deps),value:e.value,index:t.providers.length};t.providers.push(r),t.providersByKey[Zn(n)]=r}}))}}(t=t.factory((function(){return Gn}))),t):t}(i))}var Os=new Map,Rs=new Map,Ns=new Map;function Ds(t){var e;Os.set(t.token,t),"function"==typeof t.token&&(e=mt(t.token))&&"function"==typeof e.providedIn&&Rs.set(t.token,t)}function zs(t,e){var n=mi(e.viewDefFactory),i=mi(n.nodes[0].element.componentView);Ns.set(t,i)}function Fs(){Os.clear(),Rs.clear(),Ns.clear()}function Vs(t){if(0===Os.size)return t;var e=function(t){for(var e=[],n=null,i=0;i<t.nodes.length;i++){var r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&Os.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return Gn}));for(var n=0;n<e.length;n++)i(t,e[n]);return t;function i(t,e){for(var n=e+1;n<t.nodes.length;n++){var i=t.nodes[n];if(1&i.flags)return;if(3840&i.flags){var r=i.provider,o=Os.get(r.token);o&&(i.flags=-3841&i.flags|o.flags,r.deps=fi(o.deps),r.value=o.value)}}}}function Xs(t,e,n,i,r,o,s,a,l,c,h,u,d){var f=t.def.nodes[e];return gs(t,f,n,i,r,o,s,a,l,c,h,u,d),224&f.flags?Bn(t,e).value:void 0}function Hs(t,e,n,i,r,o,s,a,l,c,h,u,d){var f=t.def.nodes[e];return vs(t,f,n,i,r,o,s,a,l,c,h,u,d),224&f.flags?Bn(t,e).value:void 0}function Ys(t){return oa(qs.detectChanges,ps,null,[t])}function js(t){return oa(qs.checkNoChanges,fs,null,[t])}function Bs(t){return oa(qs.destroy,bs,null,[t])}var Ws,Us,Gs,qs=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function Zs(t,e){Us=t,Gs=e}function Qs(t,e,n,i){return Zs(t,e),oa(qs.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function $s(t,e){if(128&t.state)throw Fn(qs[Ws]);return Zs(t,ea(t,0)),t.def.updateDirectives((function(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?Ks(t,s,i,r):ta(t,s,i,r),16384&s.flags&&Zs(t,ea(t,n)),224&s.flags?Bn(t,s.nodeIndex).value:void 0}),t)}function Js(t,e){if(128&t.state)throw Fn(qs[Ws]);return Zs(t,na(t,0)),t.def.updateRenderer((function(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?Ks(t,s,i,r):ta(t,s,i,r),3&s.flags&&Zs(t,na(t,n)),224&s.flags?Bn(t,s.nodeIndex).value:void 0}),t)}function Ks(t,e,n,i){if(gs.apply(void 0,[t,e,n].concat(i))){var r=1===n?i[0]:i;if(16384&e.flags){for(var o={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],l=r[s];8&a.flags&&(o[(d=a.nonMinifiedName,f=void 0,f=d.replace(/[$@]/g,"_"),"ng-reflect-"+(d=f.replace(Te,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))))]=Pe(l))}var c=e.parent,h=Yn(t,c.nodeIndex).renderElement;if(c.element.name)for(var u in o){null!=(l=o[u])?t.renderer.setAttribute(h,u,l):t.renderer.removeAttribute(h,u)}else t.renderer.setValue(h,"bindings="+JSON.stringify(o,null,2))}}var d,f}function ta(t,e,n,i){vs.apply(void 0,[t,e,n].concat(i))}function ea(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function na(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}var ia=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,i=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=ai(i),i=i.parent;this.elDef=n,this.elView=i}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Yn(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Wi(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){ra(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&ra(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!ci(t);)t=t.parent;return t.parent?Yn(t.parent,ai(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?li(this.view,this.nodeDef):li(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(e,n),s=-1;e.factory((function(){var e;return++s===o?(e=t.error).bind.apply(e,[t].concat(i)):Gn})),s<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,i))},t}();function ra(t,e,n){for(var i in e.references)n[i]=Jo(t,e,e.references[i])}function oa(t,e,n,i){var r,o,s=Ws,a=Us,l=Gs;try{Ws=t;var c=e.apply(n,i);return Us=a,Gs=l,Ws=s,c}catch(h){if(Qt(h)||!Us)throw h;throw r=h,o=sa(),r instanceof Error||(r=new Error(r.toString())),zn(r,o),r}}function sa(){return Us?new ia(Us,Gs):null}var aa=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new la(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),la=function(){function t(t){this.delegate=t,this.debugContextFactory=sa,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){var e=Ro(t);!function(t){Oo.delete(t.nativeNode)}(e),e instanceof Mo&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){var r=new Lo(n,null,i);r.name=t,No(r)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&No(new Mo(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&No(new Mo(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Ro(t),i=Ro(e);n&&i&&n instanceof Lo&&n.addChild(i),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var i=Ro(t),r=Ro(e),o=Ro(n);i&&r&&i instanceof Lo&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Ro(t),i=Ro(e);n&&i&&n instanceof Lo&&n.removeChild(i),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),i=sa();return i&&No(new Lo(n,null,i)),n},t.prototype.setAttribute=function(t,e,n,i){var r=Ro(t);r&&r instanceof Lo&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)},t.prototype.removeAttribute=function(t,e,n){var i=Ro(t);i&&i instanceof Lo&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Ro(t);n&&n instanceof Lo&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Ro(t);n&&n instanceof Lo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,i){var r=Ro(t);r&&r instanceof Lo&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)},t.prototype.removeStyle=function(t,e,n){var i=Ro(t);i&&i instanceof Lo&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var i=Ro(t);i&&i instanceof Lo&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var i=Ro(t);i&&i.listeners.push(new Io(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();var ca=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).moduleType=e,r._bootstrapComponents=n,r._ngModuleDefFactory=i,r}return __extends(e,t),e.prototype.create=function(t){!function(){if(!_s){_s=!0;var t=ne()?{setCurrentNode:Zs,createRootView:Ts,createEmbeddedView:Is,createComponentView:Ms,createNgModuleRef:Ls,overrideProvider:Ds,overrideComponentView:zs,clearOverrides:Fs,checkAndUpdateView:Ys,checkNoChangesView:js,destroyView:Bs,createDebugContext:function(t,e){return new ia(t,e)},handleEvent:Qs,updateDirectives:$s,updateRenderer:Js}:{setCurrentNode:function(){},createRootView:Es,createEmbeddedView:as,createComponentView:cs,createNgModuleRef:Zi,overrideProvider:Gn,overrideComponentView:Gn,clearOverrides:Gn,checkAndUpdateView:ps,checkNoChangesView:fs,destroyView:bs,createDebugContext:function(t,e){return new ia(t,e)},handleEvent:function(t,e,n,i){return t.def.handleEvent(t,e,n,i)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Xs:Hs,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Xs:Hs,t)}};Un.setCurrentNode=t.setCurrentNode,Un.createRootView=t.createRootView,Un.createEmbeddedView=t.createEmbeddedView,Un.createComponentView=t.createComponentView,Un.createNgModuleRef=t.createNgModuleRef,Un.overrideProvider=t.overrideProvider,Un.overrideComponentView=t.overrideComponentView,Un.clearOverrides=t.clearOverrides,Un.checkAndUpdateView=t.checkAndUpdateView,Un.checkNoChangesView=t.checkNoChangesView,Un.destroyView=t.destroyView,Un.resolveDep=gr,Un.createDebugContext=t.createDebugContext,Un.handleEvent=t.handleEvent,Un.updateDirectives=t.updateDirectives,Un.updateRenderer=t.updateRenderer,Un.dirtyParentQueries=Zo}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),i={};for(var r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(mi(this._ngModuleDefFactory));return Un.createNgModuleRef(this.moduleType,t||Re.NULL,this._bootstrapComponents,e)},e}(Yt),ha=function(){},ua=function(){function t(){this.title="mscharts-angular",this.show={line_basic:!1,line_brush:!1,sparkline:!1},this.linecarot="fa-caret-down",this.sparklinecarot="fa-caret-down",this.lineTypesDisplay="none",this.sparklineTypesDisplay="none"}return t.prototype.getRandomArbitrary=function(t,e){return Math.round(Math.random()*(e-t)+t)},t.prototype.onClick=function(t,e){this.showDefault(),this.show[e]=!0},t.prototype.showDefault=function(){var t=this;Object.keys(t.show).forEach((function(e){return t.show[e]=!1}))},t.prototype.expand=function(t,e){"line"===e&&(this.lineTypesDisplay="block"===this.lineTypesDisplay?"none":"block"),"sparkline"===e&&(this.sparklineTypesDisplay="block"===this.sparklineTypesDisplay?"none":"block"),this[e+"carot"]="fa-caret-down"===this[e+"carot"]?"fa-caret-up":"fa-caret-down"},t}(),da=function(){},fa=new Tt("Location Initialized"),pa=function(){},ga=new Tt("appBaseHref"),ma=function(){function t(e,n){var i=this;this._subject=new Tr,this._urlChangeListeners=[],this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(va(r)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.getState=function(){return this._platformLocation.getState()},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,va(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(e,n,i){void 0===n&&(n=""),void 0===i&&(i=null),this._platformStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),i)},t.prototype.replaceState=function(e,n,i){void 0===n&&(n=""),void 0===i&&(i=null),this._platformStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),i)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.onUrlChange=function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))},t.prototype._notifyUrlChangeListeners=function(t,e){void 0===t&&(t=""),this._urlChangeListeners.forEach((function(n){return n(t,e)}))},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function va(t){return t.replace(/\/index.html$/,"")}var ya=function(t){function e(e,n){var i=this;return(i=t.call(this)||this)._platformLocation=e,i._baseHref="",null!=n&&(i._baseHref=n),i}return __extends(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=ma.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+ma.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+ma.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(pa),ba=function(t){function e(e,n){var i=this;if((i=t.call(this)||this)._platformLocation=e,null==n&&(n=i._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=n,i}return __extends(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return ma.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+ma.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+ma.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+ma.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(pa),xa=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),wa=new Tt("UseV4Plurals"),Sa=function(){},ka=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).locale=e,i.deprecatedPluralFn=n,i}return __extends(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=Sr[e];if(n)return n;var i=e.split("-")[0];if(n=Sr[i])return n;if("en"===i)return Ar;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[kr.PluralCase]}(e||this.locale)(t)){case xa.Zero:return"zero";case xa.One:return"one";case xa.Two:return"two";case xa.Few:return"few";case xa.Many:return"many";default:return"other"}},e}(Sa),Ca=function(){},Aa=function(){function t(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._initialClasses=[]}return t.prototype.getValue=function(){return null},t.prototype.setClass=function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},t.prototype.setNgClass=function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(qe(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},t.prototype.applyChanges=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+yt(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))},t}(),_a=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),Object.defineProperty(e.prototype,"klass",{set:function(t){this._delegate.setClass(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(t){this._delegate.setNgClass(t)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this._delegate.applyChanges()},e}(function(){var t=function(){function t(t){this._delegate=t}return t.prototype.getValue=function(){return this._delegate.getValue()},t}();return t.ngDirectiveDef=void 0,t}()),Ea=function(){function t(t,e){this._viewContainer=t,this._context=new Ta,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){Pa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){Pa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),Ta=function(){this.$implicit=null,this.ngIf=null};function Pa(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+yt(e)+"'.")}var Ia,Ma=function(){},La=function(){function t(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n}return t.prototype.getValue=function(){return null},t.prototype.setNgStyle=function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},t.prototype.applyChanges=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem((function(t){return e._setStyle(t.key,null)})),t.forEachAddedItem((function(t){return e._setStyle(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._setStyle(t.key,t.currentValue)}))},t.prototype._setStyle=function(t,e){var n=t.split("."),i=n[0],r=n[1];null!=(e=null!=e&&r?""+e+r:e)?this._renderer.setStyle(this._ngEl.nativeElement,i,e):this._renderer.removeStyle(this._ngEl.nativeElement,i)},t}(),Oa=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),Object.defineProperty(e.prototype,"ngStyle",{set:function(t){this._delegate.setNgStyle(t)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this._delegate.applyChanges()},e}(function(){var t=function(){function t(t){this._delegate=t}return t.prototype.getValue=function(){return this._delegate.getValue()},t}();return t.ngDirectiveDef=void 0,t}()),Ra=function(){},Na=new Tt("DocumentToken"),Da="server",za=((Ia=function(){}).ngInjectableDef=gt({token:Ia,providedIn:"root",factory:function(){return new Fa(Ft(Na),window,Ft(Kt))}}),Ia),Fa=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),Va=new k((function(t){return t.complete()}));function Xa(t){return t?function(t){return new k((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Va}function Ha(t){var e=new k((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}function Ya(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(L(n)?t.pop():n=void 0,t.length){case 0:return Xa(n);case 1:return n?G(t,n):Ha(t[0]);default:return G(t,n)}}var ja=function(t){function e(e){var n=this;return(n=t.call(this)||this)._value=e,n}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(I);function Ba(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ba.prototype=Object.create(Error.prototype);var Wa=Ba,Ua={},Ga=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new qa(t,this.resultSelector))},t}(),qa=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return __extends(e,t),e.prototype._next=function(t){this.values.push(Ua),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(Y(this,i,i,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){var o=this.values,s=this.toRespond?o[n]===Ua?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(j);function Za(t){return new k((function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?q(n):Xa()).subscribe(e)}))}function Qa(){return K(1)}function $a(t,e){return function(n){return n.lift(new Ja(t,e))}}var Ja=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Ka(t,this.predicate,this.thisArg))},t}(),Ka=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e)||this).predicate=n,r.thisArg=i,r.count=0,r}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(m);function tl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}tl.prototype=Object.create(Error.prototype);var el=tl;function nl(t){return function(e){return 0===t?Xa():e.lift(new il(t))}}var il=function(){function t(t){if(this.total=t,this.total<0)throw new el}return t.prototype.call=function(t,e){return e.subscribe(new rl(t,this.total))},t}(),rl=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).total=n,i.ring=new Array,i.count=0,i}return __extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()},e}(m);function ol(t,e,n){return function(i){return i.lift(new sl(t,e,n))}}var sl=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new al(t,this.nextOrObserver,this.error,this.complete))},t}(),al=function(t){function e(e,n,r,o){var s=this;return(s=t.call(this,e)||this)._tapNext=b,s._tapError=b,s._tapComplete=b,s._tapError=r||b,s._tapComplete=o||b,i(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||b,s._tapError=n.error||b,s._tapComplete=n.complete||b),s}return __extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(m),ll=function(t){return void 0===t&&(t=cl),ol({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function cl(){return new Wa}function hl(t){return void 0===t&&(t=null),function(e){return e.lift(new ul(t))}}var ul=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new dl(t,this.defaultValue))},t}(),dl=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).defaultValue=n,i.isEmpty=!0,i}return __extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(m);function fl(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?$a((function(e,n){return t(e,n,i)})):J,nl(1),n?hl(e):ll((function(){return new Wa})))}}function pl(t){return function(e){var n=new gl(t),i=e.lift(n);return n.caught=i}}var gl=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new ml(t,this.selector,this.caught))},t}(),ml=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e)||this).selector=n,r.caught=i,r}return __extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(r){return void t.prototype.error.call(this,r)}this._unsubscribeAndRecycle();var i=new O(this,void 0,void 0);this.add(i),Y(this,n,void 0,void 0,i)}},e}(j);function vl(t){return function(e){return 0===t?Xa():e.lift(new yl(t))}}var yl=function(){function t(t){if(this.total=t,this.total<0)throw new el}return t.prototype.call=function(t,e){return e.subscribe(new bl(t,this.total))},t}(),bl=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).total=n,i.count=0,i}return __extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(m);function xl(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?$a((function(e,n){return t(e,n,i)})):J,vl(1),n?hl(e):ll((function(){return new Wa})))}}var wl=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Sl(t,this.predicate,this.thisArg,this.source))},t}(),Sl=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e)||this).predicate=n,o.thisArg=i,o.source=r,o.index=0,o.thisArg=i||o,o}return __extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(m);function kl(t,e){return"function"==typeof e?function(n){return n.pipe(kl((function(n,i){return q(t(n,i)).pipe(B((function(t,r){return e(n,t,i,r)})))})))}:function(e){return e.lift(new Cl(t))}}var Cl=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Al(t,this.project))},t}(),Al=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).project=n,i.index=0,i}return __extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new O(this,void 0,void 0);this.destination.add(r),this.innerSubscription=Y(this,t,e,n,r)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e}(j);function _l(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new El(t,e,n))}}var El=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Tl(t,this.accumulator,this.seed,this.hasSeed))},t}(),Tl=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e)||this).accumulator=n,o._seed=i,o.hasSeed=r,o.index=0,o}return __extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)},e}(m);function Pl(t,e){return Z(t,e,1)}var Il=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Ml(t,this.callback))},t}(),Ml=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).add(new f(n)),i}return __extends(e,t),e}(m),Ll=null;function Ol(){return Ll}var Rl,Nl=function(t){function e(){var e=this;(e=t.call(this)||this)._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],r=0;r<i.length;r++)if(null!=e.getStyle(n,i[r]+"AnimationName")){e._animationPrefix="-"+i[r].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach((function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])}))}catch(s){e._animationPrefix=null,e._transitionEnd=null}return e}return __extends(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}()),Dl={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},zl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vl=function(){if(Et.Node)return Et.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),Xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,Ll||(Ll=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return Dl},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Vl.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),i=0;i<e.length;i++)n[i]=e[i];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach((function(n){return t.insertBefore(n,e)}))},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var i=this.getStyle(t,e)||"";return n?i==n:i.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,i=0;i<n.length;i++){var r=n.item(i);e.set(r.name,r.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,i){t.setAttributeNS(e,n,i)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Fl.hasOwnProperty(e)&&(e=Fl[e]))}return zl[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=Hl||(Hl=document.querySelector("base"))?Hl.getAttribute("href"):null;return null==n?null:(e=n,Rl||(Rl=document.createElement("a")),Rl.setAttribute("href",e),"/"===Rl.pathname.charAt(0)?Rl.pathname:"/"+Rl.pathname)},e.prototype.resetBaseElement=function(){Hl=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){e=encodeURIComponent(e);for(var n=0,i=t.split(";");n<i.length;n++){var r=i[n],o=r.indexOf("="),s=-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],a=s[1];if(s[0].trim()===e)return decodeURIComponent(a)}return null}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(Nl),Hl=null;function Yl(){return!!window.history.pushState}var jl=new Tt("TRANSITION_ID"),Bl=[{provide:Mr,useFactory:function(t,e,n){return function(){n.get(Lr).donePromise.then((function(){var n=Ol();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return n.getAttribute(e,"ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[jl,Na,Re],multi:!0}],Wl=function(){function t(){}return t.init=function(){var e;e=new t,go=e},t.prototype.addToWindow=function(t){Et.getAngularTestability=function(e,n){void 0===n&&(n=!0);var i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Et.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Et.getAllAngularRootElements=function(){return t.getAllRootElements()},Et.frameworkStabilizers||(Et.frameworkStabilizers=[]),Et.frameworkStabilizers.push((function(t){var e=Et.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(r)}))}))},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?Ol().isShadowRoot(e)?this.findTestabilityInTree(t,Ol().getHost(e),!0):this.findTestabilityInTree(t,Ol().parentElement(e),!0):null},t}();function Ul(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Et.ng=Et.ng||{})[t]=e)}var Gl={ApplicationRef:ko,NgZone:ro};function ql(t){return Ro(t)}var Zl=new Tt("EventManagerPlugins"),Ql=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach((function(t){return t.manager=n})),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event "+t)},t}(),$l=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var i=Ol().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),Jl=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),Kl=function(t){function e(e){var n=this;return(n=t.call(this)||this)._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return __extends(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach((function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))}))},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach((function(t){return Ol().remove(t)}))},e}(Jl),tc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ec=/%COMP%/g,nc="_nghost-%COMP%",ic="_ngcontent-%COMP%";function rc(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?rc(t,r,n):(r=r.replace(ec,t),n.push(r))}return n}function oc(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var sc=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ac(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Wt.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new hc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case Wt.Native:case Wt.ShadowDom:return new uc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=rc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),ac=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(tc[e]||e,t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,i){if(i){e=i+":"+e;var r=tc[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var i=tc[n];i?t.removeAttributeNS(i,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&fn.DashCase?t.style.setProperty(e,n,i&fn.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&fn.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){cc(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return cc(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,oc(n)):this.eventManager.addEventListener(t,e,oc(n))},t}(),lc="@".charCodeAt(0);function cc(t,e){if(t.charCodeAt(0)===lc)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var hc=function(t){function e(e,n,i,r){var o=this;(o=t.call(this,e)||this).component=i;var s=rc(r+"-"+i.id,i.styles,[]);return n.addStyles(s),o.contentAttr=ic.replace(ec,r+"-"+i.id),o.hostAttr=nc.replace(ec,r+"-"+i.id),o}return __extends(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var i=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,i,this.contentAttr,""),i},e}(ac),uc=function(t){function e(e,n,i,r){var o=this;(o=t.call(this,e)||this).sharedStylesHost=n,o.hostEl=i,o.component=r,o.shadowRoot=r.encapsulation===Wt.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=rc(r.id,r.styles,[]),a=0;a<s.length;a++){var l=document.createElement("style");l.textContent=s[a],o.shadowRoot.appendChild(l)}return o}return __extends(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,i){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,i)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(ac),dc="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},fc=dc("addEventListener"),pc=dc("removeEventListener"),gc={},mc="__zone_symbol__propagationStopped",vc=function(){var t="undefined"!=typeof Zone&&Zone[dc("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),yc=function(t){return!!vc&&vc.hasOwnProperty(t)},bc=function(t){var e=gc[t.type];if(e){var n=this[e];if(n){var i=[t];if(1===n.length)return(s=n[0]).zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i);for(var r=n.slice(),o=0;o<r.length&&!0!==t[mc];o++){var s;(s=r[o]).zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i)}}}},xc=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e)||this).ngZone=n,i&&function(t){return t===Da}(i)||r.patchEvent(),r}return __extends(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[mc]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,r=n;if(!t[fc]||ro.isInAngularZone()&&!yc(e))t.addEventListener(e,r,!1);else{var o=gc[e];o||(o=gc[e]=dc("ANGULAR"+e+"FALSE"));var s=t[o],a=s&&s.length>0;s||(s=t[o]=[]);var l=yc(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:l,handler:r});else{for(var c=!1,h=0;h<s.length;h++)if(s[h].handler===r){c=!0;break}c||s.push({zone:l,handler:r})}a||t[fc](e,bc,!1)}return function(){return i.removeEventListener(t,e,r)}},e.prototype.removeEventListener=function(t,e,n){var i=t[pc];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);var r=gc[e],o=r&&t[r];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var s=!1,a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&i.apply(t,[e,bc,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}($l),wc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Sc=new Tt("HammerGestureConfig"),kc=new Tt("HammerLoader"),Cc=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),Ac=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e)||this)._config=n,o.console=i,o.loader=r,o}return __extends(e,t),e.prototype.supports=function(t){return!(!wc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var i=this,r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,s=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});o||(s=i.addEventListener(t,e,n))})).catch((function(){i.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),s=function(){}})),function(){s()}}return r.runOutsideAngular((function(){var o=i._config.buildHammer(t),s=function(t){r.runGuarded((function(){n(t)}))};return o.on(e,s),function(){o.off(e,s),"function"==typeof o.destroy&&o.destroy()}}))},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}($l),_c=["alt","control","meta","shift"],Ec={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Tc=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,i){var r=e.parseEventName(n),o=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Ol().onAndCancel(t,r.domEventName,o)}))},e.parseEventName=function(t){var n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;var r=e._normalizeKey(n.pop()),o="";if(_c.forEach((function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")})),o+=r,0!=n.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s},e.getEventFullKey=function(t){var e="",n=Ol().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),_c.forEach((function(i){i!=n&&(0,Ec[i])(t)&&(e+=i+".")})),e+=n},e.eventCallback=function(t,n,i){return function(r){e.getEventFullKey(r)===t&&i.runGuarded((function(){return n(r)}))}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}($l),Pc=function(){},Ic=function(t){function e(e){var n=this;return(n=t.call(this)||this)._doc=e,n}return __extends(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case Ce.NONE:return e;case Ce.HTML:return e instanceof Lc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{ce=ce||new ie(t);var i=e?String(e):"";n=ce.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=ce.getInertBodyElement(i)}while(i!==o);var s=new be,a=s.sanitizeChildren(ke(n)||n);return ne()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var l=ke(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}(this._doc,String(e)));case Ce.STYLE:return e instanceof Oc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Ee);return e&&se(e[1])===e[1]||t.match(_e)&&function(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(ne()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case Ce.SCRIPT:if(e instanceof Rc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ce.URL:return e instanceof Dc||e instanceof Nc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),se(String(e)));case Ce.RESOURCE_URL:if(e instanceof Dc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Mc)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Lc(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Oc(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Rc(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Nc(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Dc(t)},e}(Pc),Mc=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Lc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Mc),Oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Mc),Rc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Mc),Nc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Mc),Dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Mc),zc=yo(Do,"browser",[{provide:zr,useValue:"browser"},{provide:Dr,useValue:function(){Xl.makeCurrent(),Wl.init()},multi:!0},{provide:da,useClass:function(t){function e(e){var n=this;return(n=t.call(this)||this)._doc=e,n._init(),n}return __extends(e,t),e.prototype._init=function(){this.location=Ol().getLocation(),this._history=Ol().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return Ol().getBaseHref(this._doc)},e.prototype.onPopState=function(t){Ol().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){Ol().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"href",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){Yl()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){Yl()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.prototype.getState=function(){return this._history.state},e}(da),deps:[Na]},{provide:Na,useFactory:function(){return document},deps:[]}]);function Fc(){return new Kt}var Vc=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:Or,useValue:e.appId},{provide:jl,useExisting:Or},Bl]}},t}();"undefined"!=typeof window&&window;var Xc=function(t,e){this.id=t,this.url=e},Hc=function(t){function e(e,n,i,r){void 0===i&&(i="imperative"),void 0===r&&(r=null);var o=this;return(o=t.call(this,e,n)||this).navigationTrigger=i,o.restoredState=r,o}return __extends(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Xc),Yc=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).urlAfterRedirects=i,r}return __extends(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Xc),jc=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).reason=i,r}return __extends(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Xc),Bc=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).error=i,r}return __extends(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Xc),Wc=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=i,o.state=r,o}return __extends(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Xc),Uc=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=i,o.state=r,o}return __extends(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Xc),Gc=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,n)||this).urlAfterRedirects=i,s.state=r,s.shouldActivate=o,s}return __extends(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Xc),qc=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=i,o.state=r,o}return __extends(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Xc),Zc=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e,n)||this).urlAfterRedirects=i,o.state=r,o}return __extends(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Xc),Qc=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),$c=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Jc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Kc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),th=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),eh=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),nh=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),ih=function(){},rh="primary",oh=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function sh(t){return new oh(t)}var ah="ngNavigationCancelingError";function lh(t){var e=Error("NavigationCancelingError: "+t);return e[ah]=!0,e}function ch(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}var hh=function(t,e){this.routes=t,this.module=e};function uh(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var i=t[n];dh(i,fh(e,i))}}function dh(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==rh)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&uh(t.children,e)}function fh(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function ph(t){var e=t.children&&t.children.map(ph),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==rh&&(n.component=ih),n}function gh(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(t[n=i[o]]!==e[n])return!1;return!0}function mh(t){return Array.prototype.concat.apply([],t)}function vh(t){return t.length>0?t[t.length-1]:null}function yh(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bh(t){return $e(t)?t:Qe(t)?q(Promise.resolve(t)):Ya(t)}function xh(t,e,n){return n?function(t,e){return gh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Ch(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!Ch(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Ch(n.segments,r))return!1;for(var o in i.children){if(!n.children[o])return!1;if(!t(n.children[o],i.children[o]))return!1}return!0}var s=r.slice(0,n.segments.length),a=r.slice(n.segments.length);return!!Ch(n.segments,s)&&!!n.children[rh]&&e(n.children[rh],i,a)}(e,n,n.segments)}(t.root,e.root)}var wh=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=sh(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Th.serialize(this)},t}(),Sh=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,yh(e,(function(t,e){return t.parent=n}))}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ph(this)},t}(),kh=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=sh(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Nh(this)},t}();function Ch(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Ah(t,e){var n=[];return yh(t.children,(function(t,i){i===rh&&(n=n.concat(e(t,i)))})),yh(t.children,(function(t,i){i!==rh&&(n=n.concat(e(t,i)))})),n}var _h=function(){},Eh=function(){function t(){}return t.prototype.parse=function(t){var e=new Xh(t);return new wh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n,i;return"/"+function t(e,n){if(!e.hasChildren())return Ph(e);if(n){var i=e.children[rh]?t(e.children[rh],!1):"",r=[];return yh(e.children,(function(e,n){n!==rh&&r.push(n+":"+t(e,!1))})),r.length>0?i+"("+r.join("//")+")":i}var o=Ah(e,(function(n,i){return i===rh?[t(e.children[rh],!1)]:[i+":"+t(n,!1)]}));return Ph(e)+"/("+o.join("//")+")"}(t.root,!0)+(n=t.queryParams,(i=Object.keys(n).map((function(t){var e=n[t];return Array.isArray(e)?e.map((function(e){return Mh(t)+"="+Mh(e)})).join("&"):Mh(t)+"="+Mh(e)}))).length?"?"+i.join("&"):"")+("string"==typeof t.fragment?"#"+(e=t.fragment,encodeURI(e)):"")},t}(),Th=new Eh;function Ph(t){return t.segments.map((function(t){return Nh(t)})).join("/")}function Ih(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mh(t){return Ih(t).replace(/%3B/gi,";")}function Lh(t){return Ih(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oh(t){return decodeURIComponent(t)}function Rh(t){return Oh(t.replace(/\+/g,"%20"))}function Nh(t){return""+Lh(t.path)+(e=t.parameters,Object.keys(e).map((function(t){return";"+Lh(t)+"="+Lh(e[t])})).join(""));var e}var Dh=/^[^\/()?;=#]+/;function zh(t){var e=t.match(Dh);return e?e[0]:""}var Fh=/^[^=?&#]+/,Vh=/^[^?&#]+/,Xh=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sh([],{}):new Sh([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[rh]=new Sh(t,e)),n},t.prototype.parseSegment=function(){var t=zh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new kh(Oh(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=zh(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=zh(this.remaining);i&&this.capture(n=i)}t[Oh(e)]=Oh(n)}},t.prototype.parseQueryParam=function(t){var e=function(t){var e=t.match(Fh);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Vh);return e?e[0]:""}(this.remaining);i&&this.capture(n=i)}var r=Rh(e),o=Rh(n);if(t.hasOwnProperty(r)){var s=t[r];Array.isArray(s)||(t[r]=s=[s]),s.push(o)}else t[r]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=zh(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '"+this.url+"'");var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=rh);var o=this.parseChildren();e[r]=1===Object.keys(o).length?o[rh]:new Sh([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Hh=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Yh(t,this._root);return e?e.children.map((function(t){return t.value})):[]},t.prototype.firstChild=function(t){var e=Yh(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=jh(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))},t.prototype.pathFromRoot=function(t){return jh(t,this._root).map((function(t){return t.value}))},t}();function Yh(t,e){if(t===e.value)return e;for(var n=0,i=e.children;n<i.length;n++){var r=Yh(t,i[n]);if(r)return r}return null}function jh(t,e){if(t===e.value)return[e];for(var n=0,i=e.children;n<i.length;n++){var r=jh(t,i[n]);if(r.length)return r.unshift(e),r}return[]}var Bh=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Wh(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Uh=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).snapshot=n,Jh(i,e),i}return __extends(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Hh);function Gh(t,e){var n=function(t,e){var n=new Qh([],{},{},"",{},rh,e,null,t.root,-1,{});return new $h("",new Bh(n,[]))}(t,e),i=new ja([new kh("",{})]),r=new ja({}),o=new ja({}),s=new ja({}),a=new ja(""),l=new qh(i,r,s,a,o,rh,e,n.root);return l.snapshot=n.root,new Uh(new Bh(l,[]),n)}var qh=function(){function t(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(B((function(t){return sh(t)})))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B((function(t){return sh(t)})))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Zh(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(i))}var Qh=function(){function t(t,e,n,i,r,o,s,a,l,c,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=sh(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=sh(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map((function(t){return t.toString()})).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),$h=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).url=e,Jh(i,n),i}return __extends(e,t),e.prototype.toString=function(){return Kh(this._root)},e}(Hh);function Jh(t,e){e.value._routerState=t,e.children.forEach((function(e){return Jh(t,e)}))}function Kh(t){var e=t.children.length>0?" { "+t.children.map(Kh).join(", ")+" } ":"";return""+t.value+e}function tu(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),gh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!gh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),gh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function eu(t,e){var n,i;return gh(t.params,e.params)&&Ch(n=t.url,i=e.url)&&n.every((function(t,e){return gh(t.parameters,i[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||eu(t.parent,e.parent))}function nu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function iu(t,e,n,i,r){var o={};return i&&yh(i,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new wh(n.root===t?e:function t(e,n,i){var r={};return yh(e.children,(function(e,o){r[o]=e===n?i:t(e,n,i)})),new Sh(e.segments,r)}(n.root,t,e),o,r)}var ru=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&nu(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==vh(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),ou=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n};function su(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[rh]:""+t}function au(t,e,n){if(t||(t=new Sh([],{})),0===t.segments.length&&t.hasChildren())return lu(t,e,n);var i=function(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var s=t.segments[r],a=su(n[i]),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!du(a,l,s))return o;i+=2}else{if(!du(a,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new Sh(t.segments.slice(0,i.pathIndex),{});return o.children[rh]=new Sh(t.segments.slice(i.pathIndex),t.children),lu(o,0,r)}return i.match&&0===r.length?new Sh(t.segments,{}):i.match&&!t.hasChildren()?cu(t,e,n):i.match?lu(t,0,r):cu(t,e,n)}function lu(t,e,n){if(0===n.length)return new Sh(t.segments,{});var i=function(t){var e,n;return"object"!=typeof t[0]?((e={})[rh]=t,e):void 0===t[0].outlets?((n={})[rh]=t,n):t[0].outlets}(n),r={};return yh(i,(function(n,i){null!==n&&(r[i]=au(t.children[i],e,n))})),yh(t.children,(function(t,e){void 0===i[e]&&(r[e]=t)})),new Sh(t.segments,r)}function cu(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var o=hu(n[r].outlets);return new Sh(i,o)}if(0===r&&nu(n[0]))i.push(new kh(t.segments[e].path,n[0])),r++;else{var s=su(n[r]),a=r<n.length-1?n[r+1]:null;s&&a&&nu(a)?(i.push(new kh(s,uu(a))),r+=2):(i.push(new kh(s,{})),r++)}}return new Sh(i,{})}function hu(t){var e={};return yh(t,(function(t,n){null!==t&&(e[n]=cu(new Sh([],{}),0,t))})),e}function uu(t){var e={};return yh(t,(function(t,n){return e[n]=""+t})),e}function du(t,e,n){return t==n.path&&gh(e,n.parameters)}var fu=function(){function t(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),tu(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var i=this,r=Wh(e);t.children.forEach((function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]})),yh(r,(function(t,e){i.deactivateRouteAndItsChildren(t,n)}))},t.prototype.deactivateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var r=Wh(t),o=t.value.component?i.children:e;yh(r,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var i=this,r=Wh(e);t.children.forEach((function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new eh(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Kc(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(tu(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),pu(s.route)}else{var a=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)},t}();function pu(t){tu(t.value),t.children.forEach(pu)}function gu(t){return"function"==typeof t}function mu(t){return t instanceof wh}var vu=function(t){this.segmentGroup=t||null},yu=function(t){this.urlTree=t};function bu(t){return new k((function(e){return e.error(new vu(t))}))}function xu(t){return new k((function(e){return e.error(new yu(t))}))}function wu(t){return new k((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))}))}var Su=function(){function t(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Ht)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,rh).pipe(B((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(pl((function(e){if(e instanceof yu)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof vu)throw t.noMatchError(e);throw e})))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,rh).pipe(B((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(pl((function(t){if(t instanceof vu)throw e.noMatchError(t);throw t})))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var i,r=t.segments.length>0?new Sh([],((i={})[rh]=t,i)):t;return new wh(r,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(B((function(t){return new Sh([],t)}))):this.expandSegment(t,n,e,n.segments,i,!0)},t.prototype.expandChildren=function(t,e,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return Ya({});var o=[],s=[],a={};return yh(n,(function(n,r){var l,c,h=(l=r,c=n,i.expandSegmentGroup(t,e,c,l)).pipe(B((function(t){return a[r]=t})));r===rh?o.push(h):s.push(h)})),Ya.apply(null,o.concat(s)).pipe(Qa(),fl(),B((function(){return a})))}(n.children)},t.prototype.expandSegment=function(t,e,n,i,r,o){var s=this;return Ya.apply(void 0,n).pipe(B((function(a){return s.expandSegmentAgainstRoute(t,e,n,a,i,r,o).pipe(pl((function(t){if(t instanceof vu)return Ya(null);throw t})))})),Qa(),xl((function(t){return!!t})),pl((function(t,n){if(t instanceof Wa||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,i,r))return Ya(new Sh([],{}));throw new vu(e)}throw t})))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,i,r,o,s){return _u(i)!==o?bu(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):bu(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?xu(o):this.lineralizeSegments(n,o).pipe(Z((function(n){var o=new Sh(n,{});return r.expandSegment(t,o,e,n,i,!1)})))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){var s=this,a=ku(e,i,r),l=a.matched,c=a.consumedSegments,h=a.lastChild,u=a.positionalParamSegments;if(!l)return bu(e);var d=this.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?xu(d):this.lineralizeSegments(i,d).pipe(Z((function(i){return s.expandSegment(t,e,n,i.concat(r.slice(h)),o,!1)})))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,i){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(B((function(t){return n._loadedConfig=t,new Sh(i,{})}))):Ya(new Sh(i,{}));var o=ku(e,n,i),s=o.matched,a=o.consumedSegments,l=o.lastChild;if(!s)return bu(e);var c=i.slice(l);return this.getChildConfig(t,n,i).pipe(Z((function(t){var n=t.module,i=t.routes,o=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some((function(n){return Au(t,e,n)&&_u(n)!==rh}))}(t,n,i)?{segmentGroup:Cu(new Sh(e,function(t,e){var n={};n[rh]=e;for(var i=0,r=t;i<r.length;i++){var o=r[i];""===o.path&&_u(o)!==rh&&(n[_u(o)]=new Sh([],{}))}return n}(i,new Sh(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Au(t,e,n)}))}(t,n,i)?{segmentGroup:Cu(new Sh(t.segments,function(t,e,n,i){for(var r={},o=0,s=n;o<s.length;o++){var a=s[o];Au(t,e,a)&&!i[_u(a)]&&(r[_u(a)]=new Sh([],{}))}return Object.assign({},i,r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,c,i),s=o.segmentGroup,l=o.slicedSegments;return 0===l.length&&s.hasChildren()?r.expandChildren(n,i,s).pipe(B((function(t){return new Sh(a,t)}))):0===i.length&&0===l.length?Ya(new Sh(a,{})):r.expandSegment(n,s,i,l,rh,!0).pipe(B((function(t){return new Sh(a.concat(t.segments),t.children)})))})))},t.prototype.getChildConfig=function(t,e,n){var i=this;return e.children?Ya(new hh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ya(e._loadedConfig):function(t,e,n){var i,r=e.canLoad;return r&&0!==r.length?q(r).pipe(B((function(i){var r,o=t.get(i);if(function(t){return t&&gu(t.canLoad)}(o))r=o.canLoad(e,n);else{if(!gu(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return bh(r)}))).pipe(Qa(),(i=function(t){return!0===t},function(t){return t.lift(new wl(i,void 0,t))})):Ya(!0)}(t.injector,e,n).pipe(Z((function(n){return n?i.configLoader.load(t.injector,e).pipe(B((function(t){return e._loadedConfig=t,t}))):function(t){return new k((function(e){return e.error(lh("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))}))}(e)}))):Ya(new hh([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Ya(n);if(i.numberOfChildren>1||!i.children[rh])return wu(t.redirectTo);i=i.children[rh]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new wh(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return yh(t,(function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t})),n},t.prototype.createSegmentGroup=function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),s={};return yh(e.children,(function(e,o){s[o]=r.createSegmentGroup(t,e,n,i)})),new Sh(o,s)},t.prototype.createSegments=function(t,e,n,i){var r=this;return e.map((function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)}))},t.prototype.findPosParam=function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return i},t.prototype.findOrReturn=function(t,e){for(var n=0,i=0,r=e;i<r.length;i++){var o=r[i];if(o.path===t.path)return e.splice(n),o;n++}return t},t}();function ku(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||ch)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Cu(t){if(1===t.numberOfChildren&&t.children[rh]){var e=t.children[rh];return new Sh(t.segments.concat(e.segments),e.children)}return t}function Au(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function _u(t){return t.outlet||rh}var Eu=function(t){this.path=t,this.route=this.path[this.path.length-1]},Tu=function(t,e){this.component=t,this.route=e};function Pu(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Iu(t,e,n){var i=Wh(t),r=t.value;yh(i,(function(t,i){Iu(t,r.component?e?e.children.getContext(i):null:e,n)})),n.canDeactivateChecks.push(new Tu(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var Mu=Symbol("INITIAL_VALUE");function Lu(){return kl((function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,i=null;return L(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),G(t,i).lift(new Ga(n))}).apply(void 0,t.map((function(t){return t.pipe(vl(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];L(n)?t.pop():n=null;var i=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Qa()(Ya.apply(void 0,t))}(1!==i||n?i>0?G(t,n):Xa(n):Ha(t[0]),e)}}(Mu))}))).pipe(_l((function(t,e){var n=!1;return e.reduce((function(t,i,r){if(t!==Mu)return t;if(i===Mu&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||mu(i))return i}return t}),t)}),Mu),$a((function(t){return t!==Mu})),B((function(t){return mu(t)?t:!0===t})),vl(1))}))}function Ou(t,e){return null!==t&&e&&e(new th(t)),Ya(!0)}function Ru(t,e){return null!==t&&e&&e(new Jc(t)),Ya(!0)}function Nu(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Ya(i.map((function(i){return Za((function(){var r,o=Pu(i,e,n);if(function(t){return t&&gu(t.canActivate)}(o))r=bh(o.canActivate(e,t));else{if(!gu(o))throw new Error("Invalid CanActivate guard");r=bh(o(e,t))}return r.pipe(xl())}))}))).pipe(Lu()):Ya(!0)}function Du(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Za((function(){return Ya(e.guards.map((function(r){var o,s=Pu(r,e.node,n);if(function(t){return t&&gu(t.canActivateChild)}(s))o=bh(s.canActivateChild(i,t));else{if(!gu(s))throw new Error("Invalid CanActivateChild guard");o=bh(s(i,t))}return o.pipe(xl())}))).pipe(Lu())}))}));return Ya(r).pipe(Lu())}var zu=function(){},Fu=function(){function t(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=Hu(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,rh),n=new Qh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rh,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Bh(n,e),r=new $h(this.url,i);return this.inheritParamsAndData(r._root),Ya(r)}catch(o){return new k((function(t){return t.error(o)}))}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,i=Zh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,i=this,r=Ah(e,(function(e,n){return i.processSegmentGroup(t,e,n)}));return n={},r.forEach((function(t){var e=n[t.value.outlet];if(e){var i=e.url.map((function(t){return t.toString()})).join("/"),r=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '"+i+"' and '"+r+"'.")}n[t.value.outlet]=t.value})),r.sort((function(t,e){return t.value.outlet===rh?-1:e.value.outlet===rh?1:t.value.outlet.localeCompare(e.value.outlet)})),r},t.prototype.processSegment=function(t,e,n,i){for(var r=0,o=t;r<o.length;r++){var s=o[r];try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(a){if(!(a instanceof zu))throw a}}if(this.noLeftoversInUrl(e,n,i))return[];throw new zu},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,i){if(t.redirectTo)throw new zu;if((t.outlet||rh)!==i)throw new zu;var r,o=[],s=[];if("**"===t.path){var a=n.length>0?vh(n).parameters:{};r=new Qh(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bu(t),i,t.component,t,Vu(e),Xu(e)+n.length,Wu(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new zu;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||ch)(n,t,e);if(!i)throw new zu;var r={};yh(i.posParams,(function(t,e){r[e]=t.path}));var o=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=l.consumedSegments,s=n.slice(l.lastChild),r=new Qh(o,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bu(t),i,t.component,t,Vu(e),Xu(e)+o.length,Wu(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=Hu(e,o,s,c,this.relativeLinkResolution),u=h.segmentGroup,d=h.slicedSegments;if(0===d.length&&u.hasChildren()){var f=this.processChildren(c,u);return[new Bh(r,f)]}if(0===c.length&&0===d.length)return[new Bh(r,[])];var p=this.processSegment(c,u,d,rh);return[new Bh(r,p)]},t}();function Vu(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Xu(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Hu(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some((function(n){return Yu(t,e,n)&&ju(n)!==rh}))}(t,n,i)){var o=new Sh(e,function(t,e,n,i){var r={};r[rh]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(var o=0,s=n;o<s.length;o++){var a=s[o];if(""===a.path&&ju(a)!==rh){var l=new Sh([],{});l._sourceSegment=t,l._segmentIndexShift=e.length,r[ju(a)]=l}}return r}(t,e,i,new Sh(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Yu(t,e,n)}))}(t,n,i)){var s=new Sh(t.segments,function(t,e,n,i,r,o){for(var s={},a=0,l=i;a<l.length;a++){var c=l[a];if(Yu(t,n,c)&&!r[ju(c)]){var h=new Sh([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ju(c)]=h}}return Object.assign({},r,s)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var a=new Sh(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function Yu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ju(t){return t.outlet||rh}function Bu(t){return t.data||{}}function Wu(t){return t.resolve||{}}function Uu(t,e,n,i){var r=Pu(t,e,i);return bh(r.resolve?r.resolve(e,n):r(e,n))}function Gu(t){return function(e){return e.pipe(kl((function(e){var n=t(e);return n?q(n).pipe(B((function(){return e}))):q([e])})))}}var qu=function(){},Zu=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Qu=new Tt("ROUTES"),$u=function(){function t(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(B((function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new hh(mh(r.injector.get(Qu)).map(ph),r)})))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?q(this.loader.load(t)):bh(t()).pipe(Z((function(t){return t instanceof Yt?Ya(t):q(e.compiler.compileModuleAsync(t))})))},t}(),Ju=function(){},Ku=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function td(t){throw t}function ed(t,e,n){return e.parse("/")}function nd(t,e){return Ya(null)}var id=function(){function t(t,e,n,i,r,o,s,a){var l=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=td,this.malformedUriErrorHandler=ed,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nd,afterPreactivation:nd},this.urlHandlingStrategy=new Ku,this.routeReuseStrategy=new Zu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Ht),this.console=r.get(Vr);var c=r.get(ro);this.isNgZoneEnabled=c instanceof ro,this.resetConfig(a),this.currentUrlTree=new wh(new Sh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $u(o,s,(function(t){return l.triggerEvent(new Qc(t))}),(function(t){return l.triggerEvent(new $c(t))})),this.routerState=Gh(this.currentUrlTree,this.rootComponentType),this.transitions=new ja({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe($a((function(t){return 0!==t.id})),B((function(t){return Object.assign({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),kl((function(t){var i,r,o,s=!1,a=!1;return Ya(t).pipe(ol((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),kl((function(t){var i,r,o,s,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ya(t).pipe(kl((function(t){var i=e.transitions.getValue();return n.next(new Hc(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?Va:[t]})),kl((function(t){return Promise.resolve(t)})),(i=e.ngModule.injector,r=e.configLoader,o=e.urlSerializer,s=e.config,function(t){return t.pipe(kl((function(t){return function(t,e,n,i,r){return new Su(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,s).pipe(B((function(e){return Object.assign({},t,{urlAfterRedirects:e})})))})))}),ol((function(t){e.currentNavigation=Object.assign({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})})),function(t,n,i,r,o){return function(i){return i.pipe(Z((function(i){return function(t,e,n,i,r,o){return void 0===r&&(r="emptyOnly"),void 0===o&&(o="legacy"),new Fu(t,e,n,i,r,o).recognize()}(t,n,i.urlAfterRedirects,(s=i.urlAfterRedirects,e.serializeUrl(s)),r,o).pipe(B((function(t){return Object.assign({},i,{targetSnapshot:t})})));var s})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),ol((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),ol((function(t){var i=new Wc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var l=t.id,c=t.extractedUrl,h=t.source,u=t.restoredState,d=t.extras,f=new Hc(l,e.serializeUrl(c),h,u);n.next(f);var p=Gh(c,e.rootComponentType).snapshot;return Ya(Object.assign({},t,{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Va})),Gu((function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,l=s.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!l})})),ol((function(t){var n=new Uc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),B((function(t){return Object.assign({},t,{guards:(n=t.targetSnapshot,i=t.currentSnapshot,r=e.rootContexts,o=n._root,function t(e,n,i,r,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var s=Wh(n);return e.children.forEach((function(e){!function(e,n,i,r,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var s=e.value,a=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ch(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ch(t.url,e.url)||!gh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eu(t,e)||!gh(t.queryParams,e.queryParams);case"paramsChange":default:return!eu(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Eu(r)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?l?l.children:null:i,r,o),c&&o.canDeactivateChecks.push(new Tu(l&&l.outlet&&l.outlet.component||null,a))}else a&&Iu(n,l,o),o.canActivateChecks.push(new Eu(r)),t(e,null,s.component?l?l.children:null:i,r,o)}(e,s[e.value.outlet],i,r.concat([e.value]),o),delete s[e.value.outlet]})),yh(s,(function(t,e){return Iu(t,i.getContext(e),o)})),o}(o,i?i._root:null,r,[o.value]))});var n,i,r,o})),(r=e.ngModule.injector,o=function(t){return e.triggerEvent(t)},function(t){return t.pipe(Z((function(t){var e=t.targetSnapshot,n=t.currentSnapshot,i=t.guards,s=i.canActivateChecks,a=i.canDeactivateChecks;return 0===a.length&&0===s.length?Ya(Object.assign({},t,{guardsResult:!0})):function(t,e,n,i){return q(t).pipe(Z((function(t){return function(t,e,n,i,r){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ya(o.map((function(o){var s,a=Pu(o,e,r);if(function(t){return t&&gu(t.canDeactivate)}(a))s=bh(a.canDeactivate(t,e,n,i));else{if(!gu(a))throw new Error("Invalid CanDeactivate guard");s=bh(a(t,e,n,i))}return s.pipe(xl())}))).pipe(Lu()):Ya(!0)}(t.component,t.route,n,e,i)})),xl((function(t){return!0!==t}),!0))}(a,e,n,r).pipe(Z((function(t){return t&&"boolean"==typeof t?function(t,e,n,i){return q(e).pipe(Pl((function(e){return q([Ru(e.route.parent,i),Ou(e.route,i),Du(t,e.path,n),Nu(t,e.route,n)]).pipe(Qa(),xl((function(t){return!0!==t}),!0))})),xl((function(t){return!0!==t}),!0))}(e,s,r,o):Ya(t)})),B((function(e){return Object.assign({},t,{guardsResult:e})})))})))}),ol((function(t){if(mu(t.guardsResult)){var n=lh('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}})),ol((function(t){var n=new Gc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),$a((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new jc(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0})),Gu((function(t){if(t.guards.canActivateChecks.length)return Ya(t).pipe(ol((function(t){var n=new qc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),function(t,e){return function(n){return n.pipe(Z((function(n){var i=n.targetSnapshot,r=n.guards.canActivateChecks;return r.length?q(r).pipe(Pl((function(n){return function(t,e,n,i){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return Ya({});if(1===r.length){var o=r[0];return Uu(t[o],e,n,i).pipe(B((function(t){var e;return(e={})[o]=t,e})))}var s={};return q(r).pipe(Z((function(r){return Uu(t[r],e,n,i).pipe(B((function(t){return s[r]=t,t})))}))).pipe(fl(),B((function(){return s})))}(t._resolve,t,e,i).pipe(B((function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,Zh(t,n).resolve),null})))}(n.route,i,t,e)})),function(t,e){return arguments.length>=2?function(n){return x(_l(t,e),nl(1),hl(e))(n)}:function(e){return x(_l((function(e,n,i){return t(e,n,i+1)})),nl(1))(e)}}((function(t,e){return t})),B((function(t){return n}))):Ya(n)})))}}(e.paramsInheritanceStrategy,e.ngModule.injector),ol((function(t){var n=new Zc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})))})),Gu((function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,l=s.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!l})})),B((function(t){var n,i,r,o,s=(n=e.routeReuseStrategy,i=t.targetSnapshot,r=t.currentRouterState,o=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){(l=i.value)._futureSnapshot=n.value;var r=function(e,n,i){return n.children.map((function(n){for(var r=0,o=i.children;r<o.length;r++){var s=o[r];if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s)}return t(e,n)}))}(e,n,i);return new Bh(l,r)}var o=e.retrieve(n.value);if(o){var s=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,s),s}var a,l=new qh(new ja((a=n.value).url),new ja(a.params),new ja(a.queryParams),new ja(a.fragment),new ja(a.data),a.outlet,a.component,a);return r=n.children.map((function(n){return t(e,n)})),new Bh(l,r)}(n,i._root,r?r._root:void 0),new Uh(o,i));return Object.assign({},t,{targetRouterState:s})})),ol((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),function(t,e,n){return B((function(i){return new fu(e,i.targetRouterState,i.currentRouterState,n).activate(t),i}))}(e.rootContexts,e.routeReuseStrategy,(function(t){return e.triggerEvent(t)})),ol({next:function(){s=!0},complete:function(){s=!0}}),(i=function(){if(!s&&!a){e.resetUrlToCurrentUrlTree();var i=new jc(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(i),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Il(i))}),pl((function(i){if(a=!0,(l=i)&&l[ah]){var r=mu(i.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new jc(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(o),t.resolve(!1),r&&e.navigateByUrl(i.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new Bc(t.id,e.serializeUrl(t.extractedUrl),i);n.next(s);try{t.resolve(e.errorHandler(i))}catch(c){t.reject(c)}}var l;return Va})))})))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t},t.prototype.setTransition=function(t){this.transitions.next(Object.assign({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),i="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,i,r,{replaceUrl:!0})}),0)})))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){uh(t),this.config=t.map(ph),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,r=e.fragment,o=e.preserveQueryParams,s=e.queryParamsHandling,a=e.preserveFragment;ne()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:r,h=null;if(s)switch(s){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,i,r){if(0===n.length)return iu(e.root,e.root,e,i,r);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ru(!0,0,t);var e=0,n=!1,i=t.reduce((function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return yh(i.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),t.concat([{outlets:o}])}if(i.segmentPath)return t.concat([i.segmentPath])}return"string"!=typeof i?t.concat([i]):0===r?(i.split("/").forEach((function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))})),t):t.concat([i])}),[]);return new ru(n,e,i)}(n);if(o.toRoot())return iu(e.root,new Sh([],{}),e,i,r);var s=function(t,e,n){if(t.isAbsolute)return new ou(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ou(n.snapshot._urlSegment,!0,0);var i=nu(t.commands[0])?0:1;return function(t,e,n){for(var i=t,r=e,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new ou(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?lu(s.segmentGroup,s.index,o.commands):au(s.segmentGroup,s.index,o.commands);return iu(s.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,h,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),ne()&&this.isNgZoneEnabled&&!ro.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=mu(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(mu(t))return xh(this.currentUrlTree,t,e);var n=this.parseUrl(t);return xh(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce((function(e,n){var i=t[n];return null!=i&&(e[n]=i),e}),{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Yc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))},t.prototype.scheduleNavigation=function(t,e,n,i){var r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,s=null,a=new Promise((function(t,e){o=t,s=e})),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(t){return Promise.reject(t)}))},t.prototype.setBrowserUrl=function(t,e,n,i){var r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign({},i,{navigationId:n})):this.location.go(r,"",Object.assign({},i,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),rd=function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new od,this.attachRef=null},od=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new rd,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),sd=function(){function t(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Tr,this.deactivateEvents=new Tr,this.name=i||rh,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new ad(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),ad=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===qh?this.route:t===od?this.childContexts:this.parent.get(t,e)},t}(),ld=function(){},cd=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(pl((function(){return Ya(null)})))},t}(),hd=function(){function t(){}return t.prototype.preload=function(t,e){return Ya(null)},t}(),ud=function(){function t(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new $u(e,n,(function(e){return t.triggerEvent(new Qc(e))}),(function(e){return t.triggerEvent(new $c(e))}))}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe($a((function(t){return t instanceof Yc})),Pl((function(){return t.preload()}))).subscribe((function(){}))},t.prototype.preload=function(){var t=this.injector.get(Ht);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;n.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return q(n).pipe(K(),B((function(t){})))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Z((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))},t}(),dd=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Hc?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Yc&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe((function(e){e instanceof nh&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new nh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),fd=new Tt("ROUTER_CONFIGURATION"),pd=new Tt("ROUTER_FORROOT_GUARD"),gd=[ma,{provide:_h,useClass:Eh},{provide:id,useFactory:Sd,deps:[ko,_h,od,ma,Re,Ao,Zr,Qu,fd,[Ju,new ht],[qu,new ht]]},od,{provide:qh,useFactory:kd,deps:[id]},{provide:Ao,useClass:To},ud,hd,cd,{provide:fd,useValue:{enableTracing:!1}}];function md(){return new vo("Router",id)}var vd=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[gd,wd(e),{provide:pd,useFactory:xd,deps:[[id,new ht,new dt]]},{provide:fd,useValue:n||{}},{provide:pa,useFactory:bd,deps:[da,[new ct(ga),new ht],fd]},{provide:dd,useFactory:yd,deps:[id,za,fd]},{provide:ld,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:hd},{provide:vo,multi:!0,useFactory:md},[Cd,{provide:Mr,multi:!0,useFactory:Ad,deps:[Cd]},{provide:Ed,useFactory:_d,deps:[Cd]},{provide:Fr,multi:!0,useExisting:Ed}]]}},t.forChild=function(e){return{ngModule:t,providers:[wd(e)]}},t}();function yd(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new dd(t,e,n)}function bd(t,e,n){return void 0===n&&(n={}),n.useHash?new ya(t,e):new ba(t,e)}function xd(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function wd(t){return[{provide:Ye,multi:!0,useValue:t},{provide:Qu,multi:!0,useValue:t}]}function Sd(t,e,n,i,r,o,s,a,l,c,h){void 0===l&&(l={});var u=new id(null,e,n,i,r,o,s,mh(a));if(c&&(u.urlHandlingStrategy=c),h&&(u.routeReuseStrategy=h),l.errorHandler&&(u.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(u.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var d=Ol();u.events.subscribe((function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()}))}return l.onSameUrlNavigation&&(u.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(u.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(u.relativeLinkResolution=l.relativeLinkResolution),u}function kd(t){return t.routerState.root}var Cd=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new I}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(fa,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),i=t.injector.get(id),r=t.injector.get(fd);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '"+r.initialNavigation+"'");i.hooks.afterPreactivation=function(){return t.initNavigation?Ya(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n}))},t.prototype.bootstrapListener=function(t){var e=this.injector.get(fd),n=this.injector.get(ud),i=this.injector.get(dd),r=this.injector.get(id),o=this.injector.get(ko);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Ad(t){return t.appInitializer.bind(t)}function _d(t){return t.bootstrapListener.bind(t)}var Ed=new Tt("Router Initializer"),Td=Jn({encapsulation:2,styles:[],data:{}});function Pd(t){return rs(0,[(t()(),jo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),or(1,212992,null,0,sd,[od,Rn,on,[8,null],Ie],null,null)],(function(t,e){t(e,1,0)}),null)}var Id=Di("ng-component",ih,(function(t){return rs(0,[(t()(),jo(0,0,null,null,1,"ng-component",[],null,null,null,Pd,Td)),or(1,49152,null,0,ih,[],null,null)],null,null)}),{},{},[]),Md=1,Ld={},Od=function(t){var e=Md++;return Ld[e]=t,Promise.resolve().then((function(){return function(t){var e=Ld[t];e&&e()}(e)})),e},Rd=function(t){delete Ld[t]},Nd=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).scheduler=e,i.work=n,i}return __extends(e,t),e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=Od(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);0===e.actions.length&&(Rd(n),e.scheduled=void 0)},e}(function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).scheduler=e,i.work=n,i.pending=!1,i}return __extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return __extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(f))),Dd=function(){var t=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t}();return t.now=function(){return Date.now()},t}(),zd=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}},e}(function(t){function e(n,i){void 0===i&&(i=Dd.now);var r=this;return(r=t.call(this,n,(function(){return e.delegate&&e.delegate!==r?e.delegate.now():i()}))||this).actions=[],r.active=!1,r.scheduled=void 0,r}return __extends(e,t),e.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,i,r):t.prototype.schedule.call(this,n,i,r)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Dd)))(Nd),Fd=n("MUT7"),Vd=function(){function t(){this.autoUpdateSeries=!0}return t.prototype.ngOnInit=function(){var t=this;zd.schedule((function(){t.createElement()}))},t.prototype.ngOnChanges=function(t){var e=this;zd.schedule((function(){e.autoUpdateSeries&&0===Object.keys(t).filter((function(t){return"series"!==t})).length?e.updateSeries(e.series,!0):e.createElement()}))},t.prototype.createElement=function(){var t={};this.annotations&&(t.annotations=this.annotations),this.chart&&(t.chart=this.chart),this.colors&&(t.colors=this.colors),this.dataLabels&&(t.dataLabels=this.dataLabels),this.series&&(t.series=this.series),this.stroke&&(t.stroke=this.stroke),this.labels&&(t.labels=this.labels),this.legend&&(t.legend=this.legend),this.fill&&(t.fill=this.fill),this.tooltip&&(t.tooltip=this.tooltip),this.plotOptions&&(t.plotOptions=this.plotOptions),this.responsive&&(t.responsive=this.responsive),this.markers&&(t.markers=this.markers),this.noData&&(t.noData=this.noData),this.xaxis&&(t.xaxis=this.xaxis),this.yaxis&&(t.yaxis=this.yaxis),this.grid&&(t.grid=this.grid),this.states&&(t.states=this.states),this.title&&(t.title=this.title),this.subtitle&&(t.subtitle=this.subtitle),this.theme&&(t.theme=this.theme),this.chartObj&&this.chartObj.destroy(),console.log(this.chartElement),console.log(t),this.chartObj=new Fd.a(this.chartElement.nativeElement,t),console.log(this.chartObj),this.render()},t.prototype.render=function(){return this.chartObj.render()},t.prototype.updateSeries=function(t,e){this.chartObj.updateSeries(t,e)},t.prototype.appendSeries=function(t,e){this.chartObj.appendSeries(t,e)},t.prototype.toggleSeries=function(t){this.chartObj.toggleSeries(t)},t.prototype.resetSeries=function(){this.chartObj.resetSeries()},t.prototype.toggleDataPointSelection=function(t,e){this.chartObj.toggleDataPointSelection(t,e)},t.prototype.destroy=function(){this.chartObj.destroy()},t.prototype.addXaxisAnnotation=function(t,e,n){this.chartObj.addXaxisAnnotation(t,e,n)},t.prototype.addYaxisAnnotation=function(t,e,n){this.chartObj.addYaxisAnnotation(t,e,n)},t.prototype.addPointAnnotation=function(t,e,n){this.chartObj.addPointAnnotation(t,e,n)},t.prototype.addText=function(t,e,n){this.chartObj.addText(t,e,n)},t.prototype.dataURI=function(){return this.chartObj.dataURI()},t}(),Xd=Jn({encapsulation:2,styles:[],data:{}});function Hd(t){return rs(0,[qo(402653184,1,{chartElement:0}),(t()(),jo(1,0,[[1,0],["chart",1]],null,0,"div",[],null,null,null,null,null))],null,null)}var Yd=function(){function t(){this.chartD={height:320,type:"line",zoom:{enabled:!1},shadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:1}},this.title={text:"Product Trends by Month",align:"left"},this.series=[{name:"Desktops",data:[10,41,35,51,49,62,69,91,148]}],this.xaxis={categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"]}}return t.prototype.ngOnInit=function(){},t}(),jd=Jn({encapsulation:0,styles:[["#brush_wrapper[_ngcontent-%COMP%]{padding-top:20px;padding-left:10px;background:#fff;border:1px solid #ddd;box-shadow:0 22px 35px -16px rgba(0,0,0,.1);margin:35px auto}#basic_line_chart[_ngcontent-%COMP%]{max-width:650px;margin:35px auto}"]],data:{}});function Bd(t){return rs(0,[(t()(),jo(0,0,null,null,9,"div",[["class","lineChartTable"]],null,null,null,null,null)),(t()(),jo(1,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),jo(2,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),jo(3,0,null,null,2,"B",[],null,null,null,null,null)),(t()(),jo(4,0,null,null,1,"U",[],null,null,null,null,null)),(t()(),es(-1,null,["Basic Line chart"])),(t()(),jo(6,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),jo(7,0,null,null,2,"div",[["id","brush_wrapper"],["style","border: 1px solid gray;"]],null,null,null,null,null)),(t()(),jo(8,0,null,null,1,"ng-mschart",[],null,null,null,Hd,Xd)),or(9,638976,[["chart",4]],0,Vd,[],{chart:[0,"chart"],series:[1,"series"],xaxis:[2,"xaxis"],title:[3,"title"],autoUpdateSeries:[4,"autoUpdateSeries"]},null)],(function(t,e){var n=e.component;t(e,9,0,n.chartD,n.series,n.xaxis,n.title,!1)}),null)}var Wd=function(){function t(){this.title={text:"Product Trends by Month",align:"left"},this.chartD2={id:"chart2",type:"line",height:230,toolbar:{autoSelected:"pan",show:!1}},this.colors2=["#546E7A"],this.stroke2={width:3},this.dataLabels2={enabled:!1},this.fill2={opacity:1},this.markers2={size:0},this.xaxis2={type:"datetime"},this.chartD1={id:"chart1",height:130,type:"area",brush:{target:"chart2",enabled:!0},selection:{enabled:!0,xaxis:{min:new Date("19 Jun 2017").getTime(),max:new Date("14 Aug 2017").getTime()}}},this.colors1=["#008FFB"],this.fill1={type:"gradient",gradient:{opacityFrom:.91,opacityTo:.1}},this.xaxis1={type:"datetime",tooltip:{enabled:!1}},this.yaxis1={tickAmount:2};var t=this.generateDayWiseTimeSeries(new Date("11 Feb 2017").getTime(),185,{min:30,max:90});this.series2=[{data:t}],this.series1=[{data:t}]}return t.prototype.generateDayWiseTimeSeries=function(t,e,n){for(var i=0,r=[];i<e;){var o=t,s=Math.floor(Math.random()*(n.max-n.min+1))+n.min;r.push([o,s]),t+=864e5,i++}return r},t.prototype.ngOnInit=function(){},t}(),Ud=Jn({encapsulation:0,styles:[["#brush_wrapper[_ngcontent-%COMP%]{padding-top:20px;padding-left:10px;background:#fff;border:1px solid #ddd;box-shadow:0 22px 35px -16px rgba(0,0,0,.1);margin:35px auto}#chart_line[_ngcontent-%COMP%]{position:relative;margin-top:-40px}"]],data:{}});function Gd(t){return rs(0,[(t()(),jo(0,0,null,null,14,"div",[["class","lineChartTable"]],null,null,null,null,null)),(t()(),jo(1,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),jo(2,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),jo(3,0,null,null,2,"B",[],null,null,null,null,null)),(t()(),jo(4,0,null,null,1,"U",[],null,null,null,null,null)),(t()(),es(-1,null,["Brush Line chart"])),(t()(),jo(6,0,null,null,8,"div",[],null,null,null,null,null)),(t()(),jo(7,0,null,null,7,"div",[["style","vertical-align: top;"]],null,null,null,null,null)),(t()(),jo(8,0,null,null,6,"div",[["id","brush_wrapper"],["style","border: 1px solid gray;"]],null,null,null,null,null)),(t()(),jo(9,0,null,null,2,"div",[["id","chart_line2"]],null,null,null,null,null)),(t()(),jo(10,0,null,null,1,"ng-mschart",[],null,null,null,Hd,Xd)),or(11,638976,[["chart",4]],0,Vd,[],{chart:[0,"chart"],colors:[1,"colors"],dataLabels:[2,"dataLabels"],series:[3,"series"],stroke:[4,"stroke"],markers:[5,"markers"],fill:[6,"fill"],xaxis:[7,"xaxis"],title:[8,"title"],autoUpdateSeries:[9,"autoUpdateSeries"]},null),(t()(),jo(12,0,null,null,2,"div",[["id","chart_line"]],null,null,null,null,null)),(t()(),jo(13,0,null,null,1,"ng-mschart",[],null,null,null,Hd,Xd)),or(14,638976,[["chart",4]],0,Vd,[],{chart:[0,"chart"],colors:[1,"colors"],series:[2,"series"],fill:[3,"fill"],xaxis:[4,"xaxis"],yaxis:[5,"yaxis"],autoUpdateSeries:[6,"autoUpdateSeries"]},null)],(function(t,e){var n=e.component;t(e,11,0,n.chartD2,n.colors2,n.dataLabels2,n.series2,n.stroke2,n.markers2,n.fill2,n.xaxis2,n.title,!0),t(e,14,0,n.chartD1,n.colors1,n.series1,n.fill1,n.xaxis1,n.yaxis1,!0)}),null)}var qd=function(){function t(){this.sparklineData=[47,45,54,38,56,24,65,31,37,39,62,51,35,41,35,27,93,53,61,27,54,43,19,46],this.spark1={chart:{type:"area",height:160,sparkline:{enabled:!0}},stroke:{curve:"straight"},fill:{opacity:.3},series:[],yaxis:{min:0},colors:["#DCE6EC"],title:{text:"$424,652",offsetX:0,style:{fontSize:"24px",cssClass:"mscharts-yaxis-title"}},subtitle:{text:"Sales",offsetX:0,style:{fontSize:"14px",cssClass:"mscharts-yaxis-title"}}},this.randomizeArray=function(t){for(var e,n,i=t.slice(),r=i.length;0!==r;)n=Math.floor(Math.random()*r),e=i[r-=1],i[r]=i[n],i[n]=e;return i},this.spark1.series.push({data:this.randomizeArray(this.sparklineData)})}return t.prototype.ngOnInit=function(){},t}(),Zd=Jn({encapsulation:0,styles:[[".row[_ngcontent-%COMP%]{overflow:hidden;max-width:890px;margin:30px auto;display:flex}.col-md-4[_ngcontent-%COMP%]{width:33.33%;padding:0 25px}"]],data:{}});function Qd(t){return rs(0,[(t()(),jo(0,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),jo(1,0,null,null,3,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),jo(2,0,null,null,2,"div",[["id","spark1"]],null,null,null,null,null)),(t()(),jo(3,0,null,null,1,"ng-mschart",[],null,null,null,Hd,Xd)),or(4,638976,[["chart",4]],0,Vd,[],{chart:[0,"chart"],colors:[1,"colors"],series:[2,"series"],stroke:[3,"stroke"],fill:[4,"fill"],xaxis:[5,"xaxis"],yaxis:[6,"yaxis"],title:[7,"title"],subtitle:[8,"subtitle"]},null),(t()(),jo(5,0,null,null,1,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),jo(6,0,null,null,0,"div",[["id","spark2"]],null,null,null,null,null)),(t()(),jo(7,0,null,null,1,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),jo(8,0,null,null,0,"div",[["id","spark3"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.spark1.chart,n.spark1.colors,n.spark1.series,n.spark1.stroke,n.spark1.fill,n.spark1.xaxis,n.spark1.yaxis,n.spark1.title,n.spark1.subtitle)}),null)}var $d=Jn({encapsulation:0,styles:[[".sidebar[_ngcontent-%COMP%]{margin:0;padding:0;width:200px;background-color:#f1f1f1;position:fixed;height:100%;overflow:auto}.dropdown-btn[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px 8px 6px 16px;text-decoration:none;font-size:20px;color:#818181;display:block;border:none;background:0 0;width:100%;text-align:left;cursor:pointer;outline:0}.sidebar[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:not(.active){background-color:#555;color:#fff}.dropdown-container[_ngcontent-%COMP%]{display:none;padding-left:8px}div.content[_ngcontent-%COMP%]{margin-left:200px;padding:1px 16px;height:700px}.fa-caret-down[_ngcontent-%COMP%], .fa-caret-up[_ngcontent-%COMP%]{float:right;padding-right:8px;padding-top:5px}@media screen and (max-width:700px){.sidebar[_ngcontent-%COMP%]{width:100%;height:auto;position:relative}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left}div.content[_ngcontent-%COMP%]{margin-left:0}}@media screen and (max-width:400px){.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;float:none}}"]],data:{}});function Jd(t){return rs(0,[(t()(),jo(0,0,null,null,1,"app-basic-line",[],null,null,null,Bd,jd)),or(1,114688,null,0,Yd,[],null,null)],(function(t,e){t(e,1,0)}),null)}function Kd(t){return rs(0,[(t()(),jo(0,0,null,null,1,"app-brush-line",[],null,null,null,Gd,Ud)),or(1,114688,null,0,Wd,[],null,null)],(function(t,e){t(e,1,0)}),null)}function tf(t){return rs(0,[(t()(),jo(0,0,null,null,1,"app-sparklines",[],null,null,null,Qd,Zd)),or(1,114688,null,0,qd,[],null,null)],(function(t,e){t(e,1,0)}),null)}function ef(t){return rs(0,[qo(402653184,1,{chart:0}),(t()(),jo(1,0,null,null,26,"div",[["class","sidebar"]],null,null,null,null,null)),(t()(),jo(2,0,null,null,1,"a",[["class","active"],["href","https://softmks.github.io/ng-mschart-doc/"],["target","_blank"]],null,null,null,null,null)),(t()(),es(-1,null,["Home (Doc..)"])),(t()(),jo(4,0,null,null,4,"button",[["class","dropdown-btn"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.expand(n,"line")&&i),i}),null,null)),(t()(),es(-1,null,["Line "])),(t()(),jo(6,0,null,null,2,"i",[["class","fa"]],null,null,null,null,null)),sr(512,null,Ca,Aa,[En,Tn,cn,pn]),or(8,278528,null,0,_a,[Ca],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),jo(9,0,null,null,7,"div",[["class","dropdown-container"]],null,null,null,null,null)),sr(512,null,Ma,La,[cn,Tn,pn]),or(11,278528,null,0,Oa,[Ma],{ngStyle:[0,"ngStyle"]},null),ts(12,{display:0}),(t()(),jo(13,0,null,null,1,"a",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onClick(n,"line_basic")&&i),i}),null,null)),(t()(),es(-1,null,["Basic"])),(t()(),jo(15,0,null,null,1,"a",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onClick(n,"line_brush")&&i),i}),null,null)),(t()(),es(-1,null,["Brush"])),(t()(),jo(17,0,null,null,4,"button",[["class","dropdown-btn"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.expand(n,"sparkline")&&i),i}),null,null)),(t()(),es(-1,null,["Sparkline "])),(t()(),jo(19,0,null,null,2,"i",[["class","fa"]],null,null,null,null,null)),sr(512,null,Ca,Aa,[En,Tn,cn,pn]),or(21,278528,null,0,_a,[Ca],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),jo(22,0,null,null,5,"div",[["class","dropdown-container"]],null,null,null,null,null)),sr(512,null,Ma,La,[cn,Tn,pn]),or(24,278528,null,0,Oa,[Ma],{ngStyle:[0,"ngStyle"]},null),ts(25,{display:0}),(t()(),jo(26,0,null,null,1,"a",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onClick(n,"sparkline")&&i),i}),null,null)),(t()(),es(-1,null,["Sparkline"])),(t()(),jo(28,0,null,null,6,"div",[["class","content"]],null,null,null,null,null)),(t()(),Yo(16777216,null,null,1,null,Jd)),or(30,16384,null,0,Ea,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(t()(),Yo(16777216,null,null,1,null,Kd)),or(32,16384,null,0,Ea,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(t()(),Yo(16777216,null,null,1,null,tf)),or(34,16384,null,0,Ea,[Rn,Ln],{ngIf:[0,"ngIf"]},null),(t()(),jo(35,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),or(36,212992,null,0,sd,[od,Rn,on,[8,null],Ie],null,null)],(function(t,e){var n=e.component;t(e,8,0,"fa",n.linecarot);var i=t(e,12,0,n.lineTypesDisplay);t(e,11,0,i),t(e,21,0,"fa",n.sparklinecarot);var r=t(e,25,0,n.sparklineTypesDisplay);t(e,24,0,r),t(e,30,0,n.show.line_basic),t(e,32,0,n.show.line_brush),t(e,34,0,n.show.sparkline),t(e,36,0)}),null)}var nf=Di("app-root",ua,(function(t){return rs(0,[(t()(),jo(0,0,null,null,1,"app-root",[],null,null,null,ef,$d)),or(1,49152,null,0,ua,[],null,null)],null,null)}),{},{},[]),rf=function(t){function e(e,n){var i=this;(i=t.call(this,e)||this).sources=n,i.completed=0,i.haveValues=0;var r=n.length;i.values=new Array(r);for(var o=0;o<r;o++){var s=Y(i,n[o],null,o);s&&i.add(s)}return i}return __extends(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,i=this.values,r=i.length;t._hasValue?(this.completed++,this.completed===r&&(n===r&&e.next(i),e.complete())):e.complete()},e}(j);function of(t){return null==t||0===t.length}var sf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,af=function(){function t(){}return t.min=function(t){return function(e){if(of(e.value)||of(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(of(e.value)||of(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return of(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return of(t.value)?null:sf.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(of(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(of(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(lf);return 0==e.length?null:function(t){return hf(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(lf);return 0==e.length?null:function(t){return function t(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&l(n[0])&&(n=n[0]),0===n.length?Va:e?t(n).pipe(B((function(t){return e.apply(void 0,t)}))):new k((function(t){return new rf(t,n)}))}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(cf)).pipe(B(hf))}},t}();function lf(t){return null!=t}function cf(t){var e=Qe(t)?q(t):t;if(!$e(e))throw new Error("Expected validator to return Promise or Observable.");return e}function hf(t){var e=t.reduce((function(t,e){return null!=e?Object.assign({},t,e):t}),{});return 0===Object.keys(e).length?null:e}function uf(t){return t.validate?function(e){return t.validate(e)}:t}function df(t){return t.validate?function(e){return t.validate(e)}:t}var ff=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}();function pf(t){var e,n=mf(t)?t.validators:t;return Array.isArray(n)?null!=(e=n)?af.compose(e.map(uf)):null:n||null}function gf(t,e){var n,i=mf(e)?e.asyncValidators:t;return Array.isArray(i)?null!=(n=i)?af.composeAsync(n.map(df)):null:i||null}function mf(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var vf=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=pf(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=gf(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAllAsTouched=function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign({},t,{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))},t.prototype.enable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign({},t,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=cf(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(t,e){return t instanceof bf?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof xf&&t.at(e)||null}),t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new Tr,this.statusChanges=new Tr},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls((function(e){return e.status===t}))},t.prototype._anyControlsDirty=function(){return this._anyControls((function(t){return t.dirty}))},t.prototype._anyControlsTouched=function(){return this._anyControls((function(t){return t.touched}))},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){mf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t.prototype._parentMarkedDirty=function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()},t}(),yf=function(t){function e(e,n,i){void 0===e&&(e=null);var r=this;return(r=t.call(this,pf(n),gf(i,n))||this)._onChange=[],r._applyFormState(e),r._setUpdateStrategy(n),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return __extends(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach((function(t){return t(n.value,!1!==e.emitViewToModelChange)})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(vf),bf=function(t){function e(e,n,i){var r=this;return(r=t.call(this,pf(n),gf(i,n))||this).controls=e,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return __extends(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach((function(i){n._throwIfControlMissing(i),n.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach((function(i){n.controls[i]&&n.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof yf?e.value:e.getRawValue(),t}))},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild((function(i,r){n=n||e.contains(r)&&t(i)})),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},(function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e}))},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild((function(t,i){n=e(n,t,i)})),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")}))},e}(vf),xf=function(t){function e(e,n,i){var r=this;return(r=t.call(this,pf(n),gf(i,n))||this).controls=e,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return __extends(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach((function(t,i){n._throwIfControlMissing(i),n.at(i).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach((function(t,i){n.at(i)&&n.at(i).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this.controls.map((function(t){return t instanceof yf?t.value:t.getRawValue()}))},e.prototype.clear=function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())},e.prototype._syncPendingControls=function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach((function(e,n){t(e,n)}))},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))},e.prototype._anyControls=function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")}))},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){if(e[t].enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(vf),wf=new Tt("NgFormSelectorWarning"),Sf=new Tt("NgModelWithFormControlWarning"),kf=function(){},Cf=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),i=null,r=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new bf(n,{asyncValidators:r,updateOn:o,validators:i})},t.prototype.control=function(t,e,n){return new yf(t,e,n)},t.prototype.array=function(t,e,n){var i=this,r=t.map((function(t){return i._createControl(t)}));return new xf(r,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach((function(i){n[i]=e._createControl(t[i])})),n},t.prototype._createControl=function(t){return t instanceof yf||t instanceof bf||t instanceof xf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),Af=function(){function t(){}return t.withConfig=function(e){return{ngModule:t,providers:[{provide:wf,useValue:e.warnOnDeprecatedNgFormSelector}]}},t}(),_f=function(){function t(){}return t.withConfig=function(e){return{ngModule:t,providers:[{provide:Sf,useValue:e.warnOnNgModelWithFormControl}]}},t}(),Ef=function(){},Tf=function(){},Pf=function(){},If=function(){},Mf=new ca(ha,[ua],(function(t){return function(t){for(var e={},n=[],i=!1,r=0;r<t.length;r++){var o=t[r];o.token===Le&&!0===o.value&&(i=!0),1073741824&o.flags&&n.push(o.token),o.index=r,e[Zn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([Pi(512,on,sn,[[8,[Id,nf]],[3,on],Ht]),Pi(5120,Xr,Vo,[[3,Xr]]),Pi(4608,Sa,ka,[Xr,[2,wa]]),Pi(5120,wr,Xo,[ro]),Pi(5120,Or,Rr,[]),Pi(5120,En,zo,[]),Pi(5120,Tn,Fo,[]),Pi(4608,Pc,Ic,[Na]),Pi(6144,Ae,null,[Pc]),Pi(4608,Sc,Cc,[]),Pi(5120,Zl,(function(t,e,n,i,r,o,s,a){return[new xc(t,e,n),new Tc(i),new Ac(r,o,s,a)]}),[Na,ro,zr,Na,Na,Sc,Vr,[2,kc]]),Pi(4608,Ql,Ql,[Zl,ro]),Pi(135680,Kl,Kl,[Na]),Pi(4608,sc,sc,[Ql,Kl,Or]),Pi(6144,dn,null,[sc]),Pi(6144,Jl,null,[Kl]),Pi(4608,fo,fo,[ro]),Pi(5120,qh,kd,[id]),Pi(4608,hd,hd,[]),Pi(6144,ld,null,[hd]),Pi(135680,ud,ud,[id,Ao,Zr,Re,ld]),Pi(4608,cd,cd,[]),Pi(5120,dd,yd,[id,za,fd]),Pi(5120,Ed,_d,[Cd]),Pi(5120,Fr,(function(t){return[t]}),[Ed]),Pi(4608,ff,ff,[]),Pi(4608,Cf,Cf,[]),Pi(1073742336,Ra,Ra,[]),Pi(1024,Kt,Fc,[]),Pi(1024,vo,(function(){return[md()]}),[]),Pi(512,Cd,Cd,[Re]),Pi(1024,Mr,(function(t,e){return[(n=t,Ul("probe",ql),Ul("coreTokens",Object.assign({},Gl,(n||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return ql}),Ad(e)];var n}),[[2,vo],Cd]),Pi(512,Lr,Lr,[[2,Mr]]),Pi(131584,ko,ko,[ro,Vr,Re,Kt,on,Lr]),Pi(1073742336,Ho,Ho,[ko]),Pi(1073742336,Vc,Vc,[[3,Vc]]),Pi(1024,pd,xd,[[3,id]]),Pi(512,_h,Eh,[]),Pi(512,od,od,[]),Pi(256,fd,{},[]),Pi(1024,pa,bd,[da,[2,ga],fd]),Pi(512,ma,ma,[pa,da]),Pi(512,Zr,Zr,[]),Pi(512,Ao,To,[Zr,[2,_o]]),Pi(1024,Qu,(function(){return[[]]}),[]),Pi(1024,id,Sd,[ko,_h,od,ma,Re,Ao,Zr,Qu,fd,[2,Ju],[2,qu]]),Pi(1073742336,vd,vd,[[2,pd],[2,id]]),Pi(1073742336,Ef,Ef,[]),Pi(1073742336,kf,kf,[]),Pi(1073742336,Af,Af,[]),Pi(1073742336,_f,_f,[]),Pi(1073742336,Tf,Tf,[]),Pi(1073742336,Pf,Pf,[]),Pi(1073742336,If,If,[]),Pi(1073742336,ha,ha,[]),Pi(256,Le,!0,[])])}));(function(){if(ee)throw new Error("Cannot enable prod mode after platform setup.");te=!1})(),zc().bootstrapModuleFactory(Mf).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);